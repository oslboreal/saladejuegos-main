"use strict";(self.webpackChunksalaDeJuegos=self.webpackChunksalaDeJuegos||[]).push([[179],{7128:($t,qe,F)=>{F.d(qe,{nm:()=>qr});var h=F(5813),de=(F(4650),F(3692),F(5867),F(5861)),Ce=F(9681),Ae=F(4859),se=F(2090),Be=F(1877);const ee=new Map,ae={activated:!1,tokenObservers:[]},De={initialized:!1,enabled:!1};function Qe(Pe){return ee.get(Pe)||ae}function Je(Pe,ke){ee.set(Pe,ke)}function Ge(){return De}class pe{constructor(ke,ze,yt,Ct,Wt){if(this.operation=ke,this.retryPolicy=ze,this.getWaitDuration=yt,this.lowerBound=Ct,this.upperBound=Wt,this.pending=null,this.nextErrorWaitInterval=Ct,Ct>Wt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ke){var ze=this;return(0,de.Z)(function*(){ze.stop();try{ze.pending=new se.BH,yield function je(Pe){return new Promise(ke=>{setTimeout(ke,Pe)})}(ze.getNextRun(ke)),ze.pending.resolve(),yield ze.pending.promise,ze.pending=new se.BH,yield ze.operation(),ze.pending.resolve(),yield ze.pending.promise,ze.process(!0).catch(()=>{})}catch(yt){ze.retryPolicy(yt)?ze.process(!1).catch(()=>{}):ze.stop()}})()}getNextRun(ke){if(ke)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ze=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ze}}}const Te=new se.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ue(Pe){if(!Qe(Pe).activated)throw Te.create("use-before-activation",{appName:Pe.name})}function He(Pe,ke){return Le.apply(this,arguments)}function Le(){return(Le=(0,de.Z)(function*({url:Pe,body:ke},ze){var yt,Ct;const Wt={"Content-Type":"application/json"},Bn=ze.getImmediate({optional:!0});if(Bn){const gi=yield Bn.getHeartbeatsHeader();gi&&(Wt["X-Firebase-Client"]=gi)}const Sr={method:"POST",body:JSON.stringify(ke),headers:Wt};let Kn,Ir;try{Kn=yield fetch(Pe,Sr)}catch(gi){throw Te.create("fetch-network-error",{originalErrorMessage:null===(yt=gi)||void 0===yt?void 0:yt.message})}if(200!==Kn.status)throw Te.create("fetch-status-error",{httpStatus:Kn.status});try{Ir=yield Kn.json()}catch(gi){throw Te.create("fetch-parse-error",{originalErrorMessage:null===(Ct=gi)||void 0===Ct?void 0:Ct.message})}const rs=Ir.ttl.match(/^([\d.]+)(s)$/);if(!rs||!rs[2]||isNaN(Number(rs[1])))throw Te.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Ir.ttl}`});const Ho=1e3*Number(rs[1]),Ss=Date.now();return{token:Ir.token,expireTimeMillis:Ss+Ho,issuedAtTimeMillis:Ss}})).apply(this,arguments)}function St(Pe,ke){const{projectId:ze,appId:yt,apiKey:Ct}=Pe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${ze}/apps/${yt}:exchangeDebugToken?key=${Ct}`,body:{debug_token:ke}}}const ft="firebase-app-check-store";let En=null;function et(){return En||(En=new Promise((Pe,ke)=>{var ze;try{const yt=indexedDB.open("firebase-app-check-database",1);yt.onsuccess=Ct=>{Pe(Ct.target.result)},yt.onerror=Ct=>{var Wt;ke(Te.create("storage-open",{originalErrorMessage:null===(Wt=Ct.target.error)||void 0===Wt?void 0:Wt.message}))},yt.onupgradeneeded=Ct=>{0===Ct.oldVersion&&Ct.target.result.createObjectStore(ft,{keyPath:"compositeKey"})}}catch(yt){ke(Te.create("storage-open",{originalErrorMessage:null===(ze=yt)||void 0===ze?void 0:ze.message}))}}),En)}function In(){return(In=(0,de.Z)(function*(Pe,ke){const yt=(yield et()).transaction(ft,"readwrite"),Wt=yt.objectStore(ft).put({compositeKey:Pe,value:ke});return new Promise((Bn,Sr)=>{Wt.onsuccess=Kn=>{Bn()},yt.onerror=Kn=>{var Ir;Sr(Te.create("storage-set",{originalErrorMessage:null===(Ir=Kn.target.error)||void 0===Ir?void 0:Ir.message}))}})})).apply(this,arguments)}const Un=new Be.Yd("@firebase/app-check");function Zn(Pe,ke){return(0,se.hl)()?function Ie(Pe,ke){return function wn(Pe,ke){return In.apply(this,arguments)}(function kn(Pe){return`${Pe.options.appId}-${Pe.name}`}(Pe),ke)}(Pe,ke).catch(ze=>{Un.warn(`Failed to write token to IndexedDB. Error: ${ze}`)}):Promise.resolve()}function vn(){return Ge().enabled}function Fn(){return mr.apply(this,arguments)}function mr(){return(mr=(0,de.Z)(function*(){const Pe=Ge();if(Pe.enabled&&Pe.token)return Pe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Mn={error:"UNKNOWN_ERROR"};function at(Pe){return se.US.encodeString(JSON.stringify(Pe),!1)}function _e(Pe){return le.apply(this,arguments)}function le(){return(le=(0,de.Z)(function*(Pe,ke=!1){const ze=Pe.app;Ue(ze);const yt=Qe(ze);let Wt,Ct=yt.token;if(!Ct){const Kn=yield yt.cachedTokenPromise;Kn&&Ot(Kn)&&(Ct=Kn)}if(!ke&&Ct&&Ot(Ct))return{token:Ct.token};let Sr,Bn=!1;if(vn()){yt.exchangeTokenPromise||(yt.exchangeTokenPromise=He(St(ze,yield Fn()),Pe.heartbeatServiceProvider).then(Ir=>(yt.exchangeTokenPromise=void 0,Ir)),Bn=!0);const Kn=yield yt.exchangeTokenPromise;return yield Zn(ze,Kn),Je(ze,Object.assign(Object.assign({},yt),{token:Kn})),{token:Kn.token}}try{yt.exchangeTokenPromise||(yt.exchangeTokenPromise=yt.provider.getToken().then(Kn=>(yt.exchangeTokenPromise=void 0,Kn)),Bn=!0),Ct=yield yt.exchangeTokenPromise}catch(Kn){"appCheck/throttled"===Kn.code?Un.warn(Kn.message):Un.error(Kn),Wt=Kn}return Ct?(Sr={token:Ct.token},Je(ze,Object.assign(Object.assign({},yt),{token:Ct})),yield Zn(ze,Ct)):Sr=zn(Wt),Bn&&Gt(ze,Sr),Sr})).apply(this,arguments)}function ot(Pe,ke){const ze=Qe(Pe),yt=ze.tokenObservers.filter(Ct=>Ct.next!==ke);0===yt.length&&ze.tokenRefresher&&ze.tokenRefresher.isRunning()&&ze.tokenRefresher.stop(),Je(Pe,Object.assign(Object.assign({},ze),{tokenObservers:yt}))}function Zt(Pe){const{app:ke}=Pe,ze=Qe(ke);let yt=ze.tokenRefresher;yt||(yt=function on(Pe){const{app:ke}=Pe;return new pe((0,de.Z)(function*(){let yt;if(yt=Qe(ke).token?yield _e(Pe,!0):yield _e(Pe),yt.error)throw yt.error}),()=>!0,()=>{const ze=Qe(ke);if(ze.token){let yt=ze.token.issuedAtTimeMillis+.5*(ze.token.expireTimeMillis-ze.token.issuedAtTimeMillis)+3e5;return yt=Math.min(yt,ze.token.expireTimeMillis-3e5),Math.max(0,yt-Date.now())}return 0},3e4,96e4)}(Pe),Je(ke,Object.assign(Object.assign({},ze),{tokenRefresher:yt}))),!yt.isRunning()&&ze.isTokenAutoRefreshEnabled&&yt.start()}function Gt(Pe,ke){const ze=Qe(Pe).tokenObservers;for(const yt of ze)try{"EXTERNAL"===yt.type&&null!=ke.error?yt.error(ke.error):yt.next(ke)}catch{}}function Ot(Pe){return Pe.expireTimeMillis-Date.now()>0}function zn(Pe){return{token:at(Mn),error:Pe}}class ln{constructor(ke,ze){this.app=ke,this.heartbeatServiceProvider=ze}_delete(){const{tokenObservers:ke}=Qe(this.app);for(const ze of ke)ot(this.app,ze.next);return Promise.resolve()}}const Pn="app-check-internal";!function wr(){(0,Ce._registerComponent)(new Ae.wA("app-check",Pe=>function Er(Pe,ke){return new ln(Pe,ke)}(Pe.getProvider("app").getImmediate(),Pe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Pe,ke,ze)=>{Pe.getProvider(Pn).initialize()})),(0,Ce._registerComponent)(new Ae.wA(Pn,Pe=>function mn(Pe){return{getToken:ke=>_e(Pe,ke),addTokenListener:ke=>function nt(Pe,ke,ze,yt){const{app:Ct}=Pe,Wt=Qe(Ct),Bn={next:ze,error:yt,type:ke};if(Je(Ct,Object.assign(Object.assign({},Wt),{tokenObservers:[...Wt.tokenObservers,Bn]})),Wt.token&&Ot(Wt.token)){const Sr=Wt.token;Promise.resolve().then(()=>{ze({token:Sr.token}),Zt(Pe)}).catch(()=>{})}Wt.cachedTokenPromise.then(()=>Zt(Pe))}(Pe,"INTERNAL",ke),removeTokenListener:ke=>ot(Pe.app,ke)}}(Pe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ce.registerVersion)("@firebase/app-check","0.5.12")}();class qr{constructor(){return(0,h.vb)("app-check")}}typeof window<"u"&&window},3692:($t,qe,F)=>{F.d(qe,{Ot:()=>ce,ZF:()=>Ze,hX:()=>Qe,z6:()=>de});var h=F(5867),k=F(4650),H=F(5813);class ce{constructor(pe){return pe}}class de{constructor(){return(0,h.C6)()}}const se=new k.OlP("angularfire2._apps"),Be={provide:ce,useFactory:function Ae(Re){return Re&&1===Re.length?Re[0]:new ce((0,h.Mq)())},deps:[[new k.FiY,se]]},ee={provide:de,deps:[[new k.FiY,se]]};function ae(Re){return(pe,je)=>{const vt=pe.runOutsideAngular(()=>Re(je));return new ce(vt)}}let De=(()=>{class Re{constructor(je){(0,h.KN)("angularfire",H.q4.full,"core"),(0,h.KN)("angularfire",H.q4.full,"app"),(0,h.KN)("angular",k.q4F.full,je.toString())}}return Re.\u0275fac=function(je){return new(je||Re)(k.LFG(k.Lbi))},Re.\u0275mod=k.oAB({type:Re}),Re.\u0275inj=k.cJS({providers:[Be,ee]}),Re})();function Qe(Re,...pe){return{ngModule:De,providers:[{provide:se,useFactory:ae(Re),multi:!0,deps:[k.R0b,k.zs3,H.HU,...pe]}]}}const Ze=(0,H.u3)(h.ZF,!0)},7323:($t,qe,F)=>{F.d(qe,{gx:()=>De,dh:()=>Qe,v0:()=>St,AR:()=>Re,e5:()=>at,rh:()=>nt,w7:()=>Zt,EA:()=>je});var h=F(5813),k=F(4650),H=F(3692),ce=F(5867),de=F(7128),Ce=F(8937),Ae=F(9751);function Be(q){return new Ae.y(function(N){return{unsubscribe:(0,Ce.MX)(q,N.next.bind(N),N.error.bind(N),N.complete.bind(N))}})}class De{constructor(N){return N}}class Qe{constructor(){return(0,h.vb)("auth")}}const Ge=new k.OlP("angularfire2.auth-instances");function Ze(q){return(N,j)=>{const fe=N.runOutsideAngular(()=>q(j));return new De(fe)}}const Ke={provide:Qe,deps:[[new k.FiY,Ge]]},Me={provide:De,useFactory:function Mt(q,N){const j=(0,h.JM)("auth",q,N);return j&&new De(j)},deps:[[new k.FiY,Ge],H.Ot]};let xt=(()=>{class q{constructor(){(0,ce.KN)("angularfire",h.q4.full,"auth")}}return q.\u0275fac=function(j){return new(j||q)},q.\u0275mod=k.oAB({type:q}),q.\u0275inj=k.cJS({providers:[Me,Ke]}),q})();function Re(q,...N){return{ngModule:xt,providers:[{provide:Ge,useFactory:Ze(q),multi:!0,deps:[k.R0b,k.zs3,h.HU,H.z6,[new k.FiY,de.nm],...N]}]}}const je=(0,h.u3)(Be,!0),St=(0,h.u3)(Ce.v0,!0),at=(0,h.u3)(Ce.e5,!0),nt=(0,h.u3)(Ce.rh,!0),Zt=(0,h.u3)(Ce.w7,!0)},1205:($t,qe,F)=>{F.d(qe,{zQ:()=>dt,rT:()=>be,f7:()=>He,L6:()=>Ve,_Q:()=>Ue,lh:()=>Se,Qv:()=>Te,nw:()=>Le});var h=F(4650),k=F(7579),H=F(9646),ce=F(9751),de=F(8996),Ce=F(6451),Ae=F(5363),se=F(3900),Be=F(4004),ee=F(6063);class ae extends k.x{constructor(Kt=1/0,zt=1/0,ft=ee.l){super(),this._bufferSize=Kt,this._windowTime=zt,this._timestampProvider=ft,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=zt===1/0,this._bufferSize=Math.max(1,Kt),this._windowTime=Math.max(1,zt)}next(Kt){const{isStopped:zt,_buffer:ft,_infiniteTimeWindow:tn,_timestampProvider:En,_windowTime:et}=this;zt||(ft.push(Kt),!tn&&ft.push(En.now()+et)),this._trimBuffer(),super.next(Kt)}_subscribe(Kt){this._throwIfClosed(),this._trimBuffer();const zt=this._innerSubscribe(Kt),{_infiniteTimeWindow:ft,_buffer:tn}=this,En=tn.slice();for(let et=0;et<En.length&&!Kt.closed;et+=ft?1:2)Kt.next(En[et]);return this._checkFinalizedStatuses(Kt),zt}_trimBuffer(){const{_bufferSize:Kt,_timestampProvider:zt,_buffer:ft,_infiniteTimeWindow:tn}=this,En=(tn?1:2)*Kt;if(Kt<1/0&&En<ft.length&&ft.splice(0,ft.length-En),!tn){const et=zt.now();let pt=0;for(let Ie=1;Ie<ft.length&&ft[Ie]<=et;Ie+=2)pt=Ie;pt&&ft.splice(0,pt+1)}}}var De=F(3099);function Qe(St,Kt,zt){let ft,tn=!1;return St&&"object"==typeof St?({bufferSize:ft=1/0,windowTime:Kt=1/0,refCount:tn=!1,scheduler:zt}=St):ft=St??1/0,(0,De.B)({connector:()=>new ae(ft,Kt,zt),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:tn})}var Je=F(590),Ge=F(576);function Mt(St,Kt){return(0,Ge.m)(Kt)?(0,se.w)(()=>St,Kt):(0,se.w)(()=>St)}var Ze=F(9468),Ke=F(9300),Me=F(5813),xt=F(2011),Re=F(6895),pe=F(7128);F(127);const Te=new h.OlP("angularfire2.auth.use-emulator"),Ve=new h.OlP("angularfire2.auth.settings"),Ue=new h.OlP("angularfire2.auth.tenant-id"),be=new h.OlP("angularfire2.auth.langugage-code"),Se=new h.OlP("angularfire2.auth.use-device-language"),He=new h.OlP("angularfire.auth.persistence"),Le=(St,Kt,zt,ft,tn,En,et,pt)=>(0,xt.cc)(`${St.name}.auth`,"AngularFireAuth",St.name,()=>{const Ie=Kt.runOutsideAngular(()=>St.auth());if(zt&&Ie.useEmulator(...zt),ft&&(Ie.tenantId=ft),Ie.languageCode=tn,En&&Ie.useDeviceLanguage(),et)for(const[ve,Ft]of Object.entries(et))Ie.settings[ve]=Ft;return pt&&Ie.setPersistence(pt),Ie},[zt,ft,tn,En,et,pt]);let dt=(()=>{class St{constructor(zt,ft,tn,En,et,pt,Ie,ve,Ft,wn,In,xn){const cr=new k.x,kn=(0,H.of)(void 0).pipe((0,Ae.Q)(et.outsideAngular),(0,se.w)(()=>En.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,5881)))),(0,Be.U)(()=>(0,xt.on)(zt,En,ft)),(0,Be.U)(Un=>Le(Un,En,pt,ve,Ft,wn,Ie,In)),Qe({bufferSize:1,refCount:!1}));if((0,Re.PM)(tn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,H.of)(null);else{kn.pipe((0,Je.P)()).subscribe();const Ln=kn.pipe((0,se.w)(_t=>_t.getRedirectResult().then(Nn=>Nn,()=>null)),Me.iC,Qe({bufferSize:1,refCount:!1})),ar=kn.pipe((0,se.w)(_t=>new ce.y(Nn=>({unsubscribe:En.runOutsideAngular(()=>_t.onAuthStateChanged(vn=>Nn.next(vn),vn=>Nn.error(vn),()=>Nn.complete()))})))),Zn=kn.pipe((0,se.w)(_t=>new ce.y(Nn=>({unsubscribe:En.runOutsideAngular(()=>_t.onIdTokenChanged(vn=>Nn.next(vn),vn=>Nn.error(vn),()=>Nn.complete()))}))));this.authState=Ln.pipe(Mt(ar),(0,Ze.R)(et.outsideAngular),(0,Ae.Q)(et.insideAngular)),this.user=Ln.pipe(Mt(Zn),(0,Ze.R)(et.outsideAngular),(0,Ae.Q)(et.insideAngular)),this.idToken=this.user.pipe((0,se.w)(_t=>_t?(0,de.D)(_t.getIdToken()):(0,H.of)(null))),this.idTokenResult=this.user.pipe((0,se.w)(_t=>_t?(0,de.D)(_t.getIdTokenResult()):(0,H.of)(null))),this.credential=(0,Ce.T)(Ln,cr,this.authState.pipe((0,Ke.h)(_t=>!_t))).pipe((0,Be.U)(_t=>_t?.user?_t:null),(0,Ze.R)(et.outsideAngular),(0,Ae.Q)(et.insideAngular))}return(0,xt.pX)(this,kn,En,{spy:{apply:(Un,Ln,ar)=>{(Un.startsWith("signIn")||Un.startsWith("createUser"))&&ar.then(Zn=>cr.next(Zn))}}})}}return St.\u0275fac=function(zt){return new(zt||St)(h.LFG(xt.Dh),h.LFG(xt.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Me.HU),h.LFG(Te,8),h.LFG(Ve,8),h.LFG(Ue,8),h.LFG(be,8),h.LFG(Se,8),h.LFG(He,8),h.LFG(pe.nm,8))},St.\u0275prov=h.Yz7({token:St,factory:St.\u0275fac,providedIn:"any"}),St})()},6185:($t,qe,F)=>{F.d(qe,{ST:()=>Ee});var h=F(4650),k=F(4986),H=F(9751),ce=F(8996),de=F(9646),Ce=F(5813),Ae=F(8675),se=F(4482),Be=F(5403);function ee(){return(0,se.e)((q,N)=>{let j,fe=!1;q.subscribe((0,Be.x)(N,We=>{const Pt=j;j=We,fe&&N.next([Pt,We]),fe=!0}))})}var ae=F(4004),De=F(5026),Qe=F(1884),Je=F(9300),Ge=F(2011),Mt=F(6895),Ke=(F(5881),F(3942)),Me=F(5525),xt=F(2090),Re=F(4859);function vt(q,N){if(void 0===N)return{merge:!1};if(void 0!==N.mergeFields&&void 0!==N.merge)throw new Me.WA("invalid-argument",`Invalid options passed to function ${q}(): You cannot specify both "merge" and "mergeFields".`);return N}function Te(){if(typeof Uint8Array>"u")throw new Me.WA("unimplemented","Uint8Arrays are not available in this environment.")}function Ve(){if(!(0,Me.Me)())throw new Me.WA("unimplemented","Blobs are unavailable in Firestore in this environment.")}class Ue{constructor(N){this._delegate=N}static fromBase64String(N){return Ve(),new Ue(Me.Jj.fromBase64String(N))}static fromUint8Array(N){return Te(),new Ue(Me.Jj.fromUint8Array(N))}toBase64(){return Ve(),this._delegate.toBase64()}toUint8Array(){return Te(),this._delegate.toUint8Array()}isEqual(N){return this._delegate.isEqual(N._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function be(q){return function Se(q,N){if("object"!=typeof q||null===q)return!1;const j=q;for(const fe of N)if(fe in j&&"function"==typeof j[fe])return!0;return!1}(q,["next","error","complete"])}class He{enableIndexedDbPersistence(N,j){return(0,Me.ST)(N._delegate,{forceOwnership:j})}enableMultiTabIndexedDbPersistence(N){return(0,Me.fH)(N._delegate)}clearIndexedDbPersistence(N){return(0,Me.Fc)(N._delegate)}}class Le{constructor(N,j,fe){this._delegate=j,this._persistenceProvider=fe,this.INTERNAL={delete:()=>this.terminate()},N instanceof Me.l7||(this._appCompat=N)}get _databaseId(){return this._delegate._databaseId}settings(N){const j=this._delegate._getSettings();!N.merge&&j.host!==N.host&&(0,Me.yq)("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),N.merge&&delete(N=Object.assign(Object.assign({},j),N)).merge,this._delegate._setSettings(N)}useEmulator(N,j,fe={}){(0,Me.at)(this._delegate,N,j,fe)}enableNetwork(){return(0,Me.Ix)(this._delegate)}disableNetwork(){return(0,Me.TF)(this._delegate)}enablePersistence(N){let j=!1,fe=!1;return N&&(j=!!N.synchronizeTabs,fe=!!N.experimentalForceOwningTab,(0,Me.Wi)("synchronizeTabs",j,"experimentalForceOwningTab",fe)),j?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,fe)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return(0,Me.Mx)(this._delegate)}onSnapshotsInSync(N){return(0,Me.sc)(this._delegate,N)}get app(){if(!this._appCompat)throw new Me.WA("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(N){try{return new In(this,(0,Me.hJ)(this._delegate,N))}catch(j){throw tn(j,"collection()","Firestore.collection()")}}doc(N){try{return new ft(this,(0,Me.JU)(this._delegate,N))}catch(j){throw tn(j,"doc()","Firestore.doc()")}}collectionGroup(N){try{return new ve(this,(0,Me.B$)(this._delegate,N))}catch(j){throw tn(j,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(N){return(0,Me.i3)(this._delegate,j=>N(new St(this,j)))}batch(){return(0,Me.qY)(this._delegate),new Kt(new Me.PU(this._delegate,N=>(0,Me.GL)(this._delegate,N)))}loadBundle(N){return(0,Me.Pb)(this._delegate,N)}namedQuery(N){return(0,Me.L$)(this._delegate,N).then(j=>j?new ve(this,j):null)}}class dt extends Me.u7{constructor(N){super(),this.firestore=N}convertBytes(N){return new Ue(new Me.Jj(N))}convertReference(N){const j=this.convertDocumentKey(N,this.firestore._databaseId);return ft.forKey(j,this.firestore,null)}}class St{constructor(N,j){this._firestore=N,this._delegate=j,this._userDataWriter=new dt(N)}get(N){const j=xn(N);return this._delegate.get(j).then(fe=>new pt(this._firestore,new Me.xU(this._firestore._delegate,this._userDataWriter,fe._key,fe._document,fe.metadata,j.converter)))}set(N,j,fe){const We=xn(N);return fe?(vt("Transaction.set",fe),this._delegate.set(We,j,fe)):this._delegate.set(We,j),this}update(N,j,fe,...We){const Pt=xn(N);return 2===arguments.length?this._delegate.update(Pt,j):this._delegate.update(Pt,j,fe,...We),this}delete(N){const j=xn(N);return this._delegate.delete(j),this}}class Kt{constructor(N){this._delegate=N}set(N,j,fe){const We=xn(N);return fe?(vt("WriteBatch.set",fe),this._delegate.set(We,j,fe)):this._delegate.set(We,j),this}update(N,j,fe,...We){const Pt=xn(N);return 2===arguments.length?this._delegate.update(Pt,j):this._delegate.update(Pt,j,fe,...We),this}delete(N){const j=xn(N);return this._delegate.delete(j),this}commit(){return this._delegate.commit()}}class zt{constructor(N,j,fe){this._firestore=N,this._userDataWriter=j,this._delegate=fe}fromFirestore(N,j){const fe=new Me.$q(this._firestore._delegate,this._userDataWriter,N._key,N._document,N.metadata,null);return this._delegate.fromFirestore(new Ie(this._firestore,fe),j??{})}toFirestore(N,j){return j?this._delegate.toFirestore(N,j):this._delegate.toFirestore(N)}static getInstance(N,j){const fe=zt.INSTANCES;let We=fe.get(N);We||(We=new WeakMap,fe.set(N,We));let Pt=We.get(j);return Pt||(Pt=new zt(N,new dt(N),j),We.set(j,Pt)),Pt}}zt.INSTANCES=new WeakMap;class ft{constructor(N,j){this.firestore=N,this._delegate=j,this._userDataWriter=new dt(N)}static forPath(N,j,fe){if(N.length%2!=0)throw new Me.WA("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${N.canonicalString()} has ${N.length}`);return new ft(j,new Me.my(j._delegate,fe,new Me.Ky(N)))}static forKey(N,j,fe){return new ft(j,new Me.my(j._delegate,fe,N))}get id(){return this._delegate.id}get parent(){return new In(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(N){try{return new In(this.firestore,(0,Me.hJ)(this._delegate,N))}catch(j){throw tn(j,"collection()","DocumentReference.collection()")}}isEqual(N){return(N=(0,xt.m9)(N))instanceof Me.my&&(0,Me.Eo)(this._delegate,N)}set(N,j){j=vt("DocumentReference.set",j);try{return j?(0,Me.pl)(this._delegate,N,j):(0,Me.pl)(this._delegate,N)}catch(fe){throw tn(fe,"setDoc()","DocumentReference.set()")}}update(N,j,...fe){try{return 1===arguments.length?(0,Me.r7)(this._delegate,N):(0,Me.r7)(this._delegate,N,j,...fe)}catch(We){throw tn(We,"updateDoc()","DocumentReference.update()")}}delete(){return(0,Me.oe)(this._delegate)}onSnapshot(...N){const j=En(N),fe=et(N,We=>new pt(this.firestore,new Me.xU(this.firestore._delegate,this._userDataWriter,We._key,We._document,We.metadata,this._delegate.converter)));return(0,Me.cf)(this._delegate,j,fe)}get(N){let j;return j="cache"===N?.source?(0,Me.kl)(this._delegate):"server"===N?.source?(0,Me.Xk)(this._delegate):(0,Me.QT)(this._delegate),j.then(fe=>new pt(this.firestore,new Me.xU(this.firestore._delegate,this._userDataWriter,fe._key,fe._document,fe.metadata,this._delegate.converter)))}withConverter(N){return new ft(this.firestore,this._delegate.withConverter(N?zt.getInstance(this.firestore,N):null))}}function tn(q,N,j){return q.message=q.message.replace(N,j),q}function En(q){for(const N of q)if("object"==typeof N&&!be(N))return N;return{}}function et(q,N){var j,fe;let We;return We=be(q[0])?q[0]:be(q[1])?q[1]:"function"==typeof q[0]?{next:q[0],error:q[1],complete:q[2]}:{next:q[1],error:q[2],complete:q[3]},{next:Pt=>{We.next&&We.next(N(Pt))},error:null===(j=We.error)||void 0===j?void 0:j.bind(We),complete:null===(fe=We.complete)||void 0===fe?void 0:fe.bind(We)}}class pt{constructor(N,j){this._firestore=N,this._delegate=j}get ref(){return new ft(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(N){return this._delegate.data(N)}get(N,j){return this._delegate.get(N,j)}isEqual(N){return(0,Me.qK)(this._delegate,N._delegate)}}class Ie extends pt{data(N){const j=this._delegate.data(N);return(0,Me.K9)(void 0!==j,"Document in a QueryDocumentSnapshot should exist"),j}}class ve{constructor(N,j){this.firestore=N,this._delegate=j,this._userDataWriter=new dt(N)}where(N,j,fe){try{return new ve(this.firestore,(0,Me.IO)(this._delegate,(0,Me.ar)(N,j,fe)))}catch(We){throw tn(We,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(N,j){try{return new ve(this.firestore,(0,Me.IO)(this._delegate,(0,Me.Xo)(N,j)))}catch(fe){throw tn(fe,/(orderBy|where)\(\)/,"Query.$1()")}}limit(N){try{return new ve(this.firestore,(0,Me.IO)(this._delegate,(0,Me.b9)(N)))}catch(j){throw tn(j,"limit()","Query.limit()")}}limitToLast(N){try{return new ve(this.firestore,(0,Me.IO)(this._delegate,(0,Me.vh)(N)))}catch(j){throw tn(j,"limitToLast()","Query.limitToLast()")}}startAt(...N){try{return new ve(this.firestore,(0,Me.IO)(this._delegate,(0,Me.e0)(...N)))}catch(j){throw tn(j,"startAt()","Query.startAt()")}}startAfter(...N){try{return new ve(this.firestore,(0,Me.IO)(this._delegate,(0,Me.TQ)(...N)))}catch(j){throw tn(j,"startAfter()","Query.startAfter()")}}endBefore(...N){try{return new ve(this.firestore,(0,Me.IO)(this._delegate,(0,Me.Lx)(...N)))}catch(j){throw tn(j,"endBefore()","Query.endBefore()")}}endAt(...N){try{return new ve(this.firestore,(0,Me.IO)(this._delegate,(0,Me.Wu)(...N)))}catch(j){throw tn(j,"endAt()","Query.endAt()")}}isEqual(N){return(0,Me.iE)(this._delegate,N._delegate)}get(N){let j;return j="cache"===N?.source?(0,Me.UQ)(this._delegate):"server"===N?.source?(0,Me.zN)(this._delegate):(0,Me.PL)(this._delegate),j.then(fe=>new wn(this.firestore,new Me.W(this.firestore._delegate,this._userDataWriter,this._delegate,fe._snapshot)))}onSnapshot(...N){const j=En(N),fe=et(N,We=>new wn(this.firestore,new Me.W(this.firestore._delegate,this._userDataWriter,this._delegate,We._snapshot)));return(0,Me.cf)(this._delegate,j,fe)}withConverter(N){return new ve(this.firestore,this._delegate.withConverter(N?zt.getInstance(this.firestore,N):null))}}class Ft{constructor(N,j){this._firestore=N,this._delegate=j}get type(){return this._delegate.type}get doc(){return new Ie(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class wn{constructor(N,j){this._firestore=N,this._delegate=j}get query(){return new ve(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(N=>new Ie(this._firestore,N))}docChanges(N){return this._delegate.docChanges(N).map(j=>new Ft(this._firestore,j))}forEach(N,j){this._delegate.forEach(fe=>{N.call(j,new Ie(this._firestore,fe))})}isEqual(N){return(0,Me.qK)(this._delegate,N._delegate)}}class In extends ve{constructor(N,j){super(N,j),this.firestore=N,this._delegate=j}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const N=this._delegate.parent;return N?new ft(this.firestore,N):null}doc(N){try{return new ft(this.firestore,void 0===N?(0,Me.JU)(this._delegate):(0,Me.JU)(this._delegate,N))}catch(j){throw tn(j,"doc()","CollectionReference.doc()")}}add(N){return(0,Me.ET)(this._delegate,N).then(j=>new ft(this.firestore,j))}isEqual(N){return(0,Me.Eo)(this._delegate,N._delegate)}withConverter(N){return new In(this.firestore,this._delegate.withConverter(N?zt.getInstance(this.firestore,N):null))}}function xn(q){return(0,Me.Cf)(q,Me.my)}class cr{constructor(...N){this._delegate=new Me.Lz(...N)}static documentId(){return new cr(Me.Xb.keyField().canonicalString())}isEqual(N){return(N=(0,xt.m9)(N))instanceof Me.Lz&&this._delegate._internalPath.isEqual(N._internalPath)}}class kn{constructor(N){this._delegate=N}static serverTimestamp(){const N=(0,Me.Bt)();return N._methodName="FieldValue.serverTimestamp",new kn(N)}static delete(){const N=(0,Me.AK)();return N._methodName="FieldValue.delete",new kn(N)}static arrayUnion(...N){const j=(0,Me.vr)(...N);return j._methodName="FieldValue.arrayUnion",new kn(j)}static arrayRemove(...N){const j=(0,Me.Ab)(...N);return j._methodName="FieldValue.arrayRemove",new kn(j)}static increment(N){const j=(0,Me.nP)(N);return j._methodName="FieldValue.increment",new kn(j)}isEqual(N){return this._delegate.isEqual(N._delegate)}}const Un={Firestore:Le,GeoPoint:Me.F8,Timestamp:Me.EK,Blob:Ue,Transaction:St,WriteBatch:Kt,DocumentReference:ft,DocumentSnapshot:pt,Query:ve,QueryDocumentSnapshot:Ie,QuerySnapshot:wn,CollectionReference:In,FieldPath:cr,FieldValue:kn,setLogLevel:function It(q){(0,Me.Ub)(q)},CACHE_SIZE_UNLIMITED:Me.IX};!function ar(q){(function Ln(q,N){q.INTERNAL.registerComponent(new Re.wA("firestore-compat",j=>{const fe=j.getProvider("app-compat").getImmediate(),We=j.getProvider("firestore").getImmediate();return N(fe,We)},"PUBLIC").setServiceProps(Object.assign({},Un)))})(q,(N,j)=>new Le(N,j,new He)),q.registerVersion("@firebase/firestore-compat","0.1.24")}(Ke.Z);var Zn=F(1205),_t=F(7128);function Fn(q,N){return function vn(q,N=k.z){return new H.y(j=>{let fe;return null!=N?N.schedule(()=>{fe=q.onSnapshot({includeMetadataChanges:!0},j)}):fe=q.onSnapshot({includeMetadataChanges:!0},j),()=>{fe?.()}})}(q,N)}function ti(q,N){return Fn(q,N).pipe((0,ae.U)(j=>({payload:j,type:"query"})))}function Mn(q,N){return ti(q,N).pipe((0,Ae.O)(void 0),ee(),(0,ae.U)(([j,fe])=>{const We=fe.payload.docChanges(),Pt=We.map(yn=>({type:yn.type,payload:yn}));return j&&JSON.stringify(j.payload.metadata)!==JSON.stringify(fe.payload.metadata)&&fe.payload.docs.forEach((yn,nn)=>{const On=We.find(me=>me.doc.ref.isEqual(yn.ref)),$e=j?.payload.docs.find(me=>me.ref.isEqual(yn.ref));On&&JSON.stringify(On.doc.metadata)===JSON.stringify(yn.metadata)||!On&&$e&&JSON.stringify($e.metadata)===JSON.stringify(yn.metadata)||Pt.push({type:"modified",payload:{oldIndex:nn,newIndex:nn,type:"modified",doc:yn}})}),Pt}))}function at(q,N,j){return Mn(q,j).pipe((0,De.R)((fe,We)=>function _e(q,N,j){return N.forEach(fe=>{j.indexOf(fe.type)>-1&&(q=function nt(q,N){switch(N.type){case"added":if(!q[N.newIndex]||!q[N.newIndex].doc.ref.isEqual(N.doc.ref))return le(q,N.newIndex,0,N);break;case"modified":if(null==q[N.oldIndex]||q[N.oldIndex].doc.ref.isEqual(N.doc.ref)){if(N.oldIndex!==N.newIndex){const j=q.slice();return j.splice(N.oldIndex,1),j.splice(N.newIndex,0,N),j}return le(q,N.newIndex,1,N)}break;case"removed":if(q[N.oldIndex]&&q[N.oldIndex].doc.ref.isEqual(N.doc.ref))return le(q,N.oldIndex,1)}return q}(q,fe))}),q}(fe,We.map(Pt=>Pt.payload),N),[]),(0,Qe.x)(),(0,ae.U)(fe=>fe.map(We=>({type:We.type,payload:We}))))}function le(q,N,j,...fe){const We=q.slice();return We.splice(N,j,...fe),We}function ot(q){return(!q||0===q.length)&&(q=["added","removed","modified"]),q}F(127);class Zt{constructor(N,j,fe){this.ref=N,this.query=j,this.afs=fe}stateChanges(N){let j=Mn(this.query,this.afs.schedulers.outsideAngular);return N&&N.length>0&&(j=j.pipe((0,ae.U)(fe=>fe.filter(We=>N.indexOf(We.type)>-1)))),j.pipe((0,Ae.O)(void 0),ee(),(0,Je.h)(([fe,We])=>We.length>0||!fe),(0,ae.U)(([fe,We])=>We),Ce.iC)}auditTrail(N){return this.stateChanges(N).pipe((0,De.R)((j,fe)=>[...j,...fe],[]))}snapshotChanges(N){const j=ot(N);return at(this.query,j,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}valueChanges(N={}){return ti(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(j=>j.payload.docs.map(fe=>N.idField?Object.assign(Object.assign({},fe.data()),{[N.idField]:fe.id}):fe.data())),Ce.iC)}get(N){return(0,ce.D)(this.query.get(N)).pipe(Ce.iC)}add(N){return this.ref.add(N)}doc(N){return new on(this.ref.doc(N),this.afs)}}class on{constructor(N,j){this.ref=N,this.afs=j}set(N,j){return this.ref.set(N,j)}update(N){return this.ref.update(N)}delete(){return this.ref.delete()}collection(N,j){const fe=this.ref.collection(N),{ref:We,query:Pt}=mn(fe,j);return new Zt(We,Pt,this.afs)}snapshotChanges(){return function mr(q,N){return Fn(q,N).pipe((0,Ae.O)(void 0),ee(),(0,ae.U)(([j,fe])=>fe.exists?j?.exists?{payload:fe,type:"modified"}:{payload:fe,type:"added"}:{payload:fe,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}valueChanges(N={}){return this.snapshotChanges().pipe((0,ae.U)(({payload:j})=>N.idField?Object.assign(Object.assign({},j.data()),{[N.idField]:j.id}):j.data()))}get(N){return(0,ce.D)(this.ref.get(N)).pipe(Ce.iC)}}class Gt{constructor(N,j){this.query=N,this.afs=j}stateChanges(N){return N&&0!==N.length?Mn(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(j=>j.filter(fe=>N.indexOf(fe.type)>-1)),(0,Je.h)(j=>j.length>0),Ce.iC):Mn(this.query,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}auditTrail(N){return this.stateChanges(N).pipe((0,De.R)((j,fe)=>[...j,...fe],[]))}snapshotChanges(N){const j=ot(N);return at(this.query,j,this.afs.schedulers.outsideAngular).pipe(Ce.iC)}valueChanges(N={}){return ti(this.query,this.afs.schedulers.outsideAngular).pipe((0,ae.U)(fe=>fe.payload.docs.map(We=>N.idField?Object.assign({[N.idField]:We.id},We.data()):We.data())),Ce.iC)}get(N){return(0,ce.D)(this.query.get(N)).pipe(Ce.iC)}}const Ot=new h.OlP("angularfire2.enableFirestorePersistence"),zn=new h.OlP("angularfire2.firestore.persistenceSettings"),ln=new h.OlP("angularfire2.firestore.settings"),Er=new h.OlP("angularfire2.firestore.use-emulator");function mn(q,N=(j=>j)){return{query:N(q),ref:q}}let Ee=(()=>{class q{constructor(j,fe,We,Pt,yn,nn,On,$e,me,ye,ct,Ut,cn,pn,oe,ue,ne){this.schedulers=On;const Oe=(0,Ge.on)(j,nn,fe),Xe=me;ye&&(0,Zn.nw)(Oe,nn,ct,cn,pn,oe,Ut,ue),[this.firestore,this.persistenceEnabled$]=(0,Ge.cc)(`${Oe.name}.firestore`,"AngularFirestore",Oe.name,()=>{const jt=nn.runOutsideAngular(()=>Oe.firestore());if(Pt&&jt.settings(Pt),Xe&&jt.useEmulator(...Xe),We&&!(0,Mt.PM)(yn)){const _n=()=>{try{return(0,ce.D)(jt.enablePersistence($e||void 0).then(()=>!0,()=>!1))}catch(Pn){return typeof console<"u"&&console.warn(Pn),(0,de.of)(!1)}};return[jt,nn.runOutsideAngular(_n)]}return[jt,(0,de.of)(!1)]},[Pt,Xe,We])}collection(j,fe){let We;We="string"==typeof j?this.firestore.collection(j):j;const{ref:Pt,query:yn}=mn(We,fe),nn=this.schedulers.ngZone.run(()=>Pt);return new Zt(nn,yn,this)}collectionGroup(j,fe){const We=fe||(yn=>yn),Pt=this.firestore.collectionGroup(j);return new Gt(We(Pt),this)}doc(j){let fe;fe="string"==typeof j?this.firestore.doc(j):j;const We=this.schedulers.ngZone.run(()=>fe);return new on(We,this)}createId(){return this.firestore.collection("_").doc().id}}return q.\u0275fac=function(j){return new(j||q)(h.LFG(Ge.Dh),h.LFG(Ge.xv,8),h.LFG(Ot,8),h.LFG(ln,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(Ce.HU),h.LFG(zn,8),h.LFG(Er,8),h.LFG(Zn.zQ,8),h.LFG(Zn.Qv,8),h.LFG(Zn.L6,8),h.LFG(Zn._Q,8),h.LFG(Zn.rT,8),h.LFG(Zn.lh,8),h.LFG(Zn.f7,8),h.LFG(_t.nm,8))},q.\u0275prov=h.Yz7({token:q,factory:q.\u0275fac,providedIn:"any"}),q})()},2011:($t,qe,F)=>{F.d(qe,{Dh:()=>se,GT:()=>Ce,cc:()=>Je,hO:()=>Qe,on:()=>ee,pX:()=>de,xv:()=>Be});var h=F(4650),k=F(127),H=F(5813);$t=F.hmd($t);const ce=["ngOnDestroy"],de=(Ke,Me,xt,Re={})=>new Proxy(Ke,{get:(pe,je)=>xt.runOutsideAngular(()=>{var vt;if(Ke[je])return!(null===(vt=Re?.spy)||void 0===vt)&&vt.get&&Re.spy.get(je,Ke[je]),Ke[je];if(ce.indexOf(je)>-1)return()=>{};const Te=Me.toPromise().then(Ve=>{const Ue=Ve&&Ve[je];return"function"==typeof Ue?Ue.bind(Ve):Ue&&Ue.then?Ue.then(be=>xt.run(()=>be)):xt.run(()=>Ue)});return new Proxy(()=>{},{get:(Ve,Ue)=>Te[Ue],apply:(Ve,Ue,be)=>Te.then(Se=>{var He;const Le=Se&&Se(...be);return!(null===(He=Re?.spy)||void 0===He)&&He.apply&&Re.spy.apply(je,be,Le),Le})})})}),Ce=(Ke,Me)=>{Me.forEach(xt=>{Object.getOwnPropertyNames(xt.prototype||xt).forEach(Re=>{Object.defineProperty(Ke.prototype,Re,Object.getOwnPropertyDescriptor(xt.prototype||xt,Re))})})};class Ae{constructor(Me){return Me}}const se=new h.OlP("angularfire2.app.options"),Be=new h.OlP("angularfire2.app.name");function ee(Ke,Me,xt){const pe="object"==typeof xt&&xt||{};pe.name=pe.name||"string"==typeof xt&&xt||"[DEFAULT]";const vt=k.Z.apps.filter(Te=>Te&&Te.name===pe.name)[0]||Me.runOutsideAngular(()=>k.Z.initializeApp(Ke,pe));try{JSON.stringify(Ke)!==JSON.stringify(vt.options)&&ae("error",`${vt.name} Firebase App already initialized with different options${$t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new Ae(vt)}const ae=(Ke,...Me)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ke](...Me)},De={provide:Ae,useFactory:ee,deps:[se,h.R0b,[new h.FiY,Be]]};let Qe=(()=>{class Ke{constructor(xt){k.Z.registerVersion("angularfire",H.q4.full,"core"),k.Z.registerVersion("angularfire",H.q4.full,"app-compat"),k.Z.registerVersion("angular",h.q4F.full,xt.toString())}static initializeApp(xt,Re){return{ngModule:Ke,providers:[{provide:se,useValue:xt},{provide:Be,useValue:Re}]}}}return Ke.\u0275fac=function(xt){return new(xt||Ke)(h.LFG(h.Lbi))},Ke.\u0275mod=h.oAB({type:Ke}),Ke.\u0275inj=h.cJS({providers:[De]}),Ke})();function Je(Ke,Me,xt,Re,pe){const[,je,vt]=globalThis.\u0275AngularfireInstanceCache.find(Te=>Te[0]===Ke)||[];if(je)return function Ge(Ke,Me){try{return Ke.toString()===Me.toString()}catch{return Ke===Me}}(pe,vt)||(Ze("error",`${Me} was already initialized on the ${xt} Firebase App with different settings.${Mt?" You may need to reload as Firebase is not HMR aware.":""}`),Ze("warn",{is:pe,was:vt})),je;{const Te=Re();return globalThis.\u0275AngularfireInstanceCache.push([Ke,Te,pe]),Te}}const Mt=!!$t.hot,Ze=(Ke,...Me)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Ke](...Me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:($t,qe,F)=>{F.d(qe,{q4:()=>U,iC:()=>ia,HU:()=>Is,vb:()=>gr,JM:()=>_r,u3:()=>Qa});var h=F(4650),k=F(5867),H=F(5861),ce=F(9681),de=F(2090),Ce=F(4859),Ae=F(1877),se=F(8766);const Be="@firebase/installations",ee="0.5.12",De=`w:${ee}`,Qe="FIS_v2",Me=new de.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function xt(S){return S instanceof de.ZR&&S.code.includes("request-failed")}function Re({projectId:S}){return`https://firebaseinstallations.googleapis.com/v1/projects/${S}/installations`}function pe(S){return{token:S.token,requestStatus:2,expiresIn:Se(S.expiresIn),creationTime:Date.now()}}function je(S,O){return vt.apply(this,arguments)}function vt(){return(vt=(0,H.Z)(function*(S,O){const re=(yield O.json()).error;return Me.create("request-failed",{requestName:S,serverCode:re.code,serverMessage:re.message,serverStatus:re.status})})).apply(this,arguments)}function Te({apiKey:S}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S})}function Ve(S,{refreshToken:O}){const W=Te(S);return W.append("Authorization",function He(S){return`${Qe} ${S}`}(O)),W}function Ue(S){return be.apply(this,arguments)}function be(){return(be=(0,H.Z)(function*(S){const O=yield S();return O.status>=500&&O.status<600?S():O})).apply(this,arguments)}function Se(S){return Number(S.replace("s","000"))}function Le(S,O){return dt.apply(this,arguments)}function dt(){return(dt=(0,H.Z)(function*({appConfig:S,heartbeatServiceProvider:O},{fid:W}){const re=Re(S),Fe=Te(S),it=O.getImmediate({optional:!0});if(it){const dn=yield it.getHeartbeatsHeader();dn&&Fe.append("x-firebase-client",dn)}const kt={method:"POST",headers:Fe,body:JSON.stringify({fid:W,authVersion:Qe,appId:S.appId,sdkVersion:De})},Jt=yield Ue(()=>fetch(re,kt));if(Jt.ok){const dn=yield Jt.json();return{fid:dn.fid||W,registrationStatus:2,refreshToken:dn.refreshToken,authToken:pe(dn.authToken)}}throw yield je("Create Installation",Jt)})).apply(this,arguments)}function It(S){return new Promise(O=>{setTimeout(O,S)})}const Kt=/^[cdef][\w-]{21}$/;function ft(){try{const S=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(S),S[0]=112+S[0]%16;const W=function tn(S){return function St(S){return btoa(String.fromCharCode(...S)).replace(/\+/g,"-").replace(/\//g,"_")}(S).substr(0,22)}(S);return Kt.test(W)?W:""}catch{return""}}function En(S){return`${S.appName}!${S.appId}`}const et=new Map;function pt(S,O){const W=En(S);Ft(W,O),function wn(S,O){const W=function xn(){return!In&&"BroadcastChannel"in self&&(In=new BroadcastChannel("[Firebase] FID Change"),In.onmessage=S=>{Ft(S.data.key,S.data.fid)}),In}();W&&W.postMessage({key:S,fid:O}),function cr(){0===et.size&&In&&(In.close(),In=null)}()}(W,O)}function Ft(S,O){const W=et.get(S);if(W)for(const re of W)re(O)}let In=null;const Ln="firebase-installations-store";let ar=null;function Zn(){return ar||(ar=(0,se.X3)("firebase-installations-database",1,{upgrade:(S,O)=>{0===O&&S.createObjectStore(Ln)}})),ar}function _t(S,O){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,H.Z)(function*(S,O){const W=En(S),Fe=(yield Zn()).transaction(Ln,"readwrite"),it=Fe.objectStore(Ln),wt=yield it.get(W);return yield it.put(O,W),yield Fe.done,(!wt||wt.fid!==O.fid)&&pt(S,O.fid),O})).apply(this,arguments)}function vn(S){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,H.Z)(function*(S){const O=En(S),re=(yield Zn()).transaction(Ln,"readwrite");yield re.objectStore(Ln).delete(O),yield re.done})).apply(this,arguments)}function mr(S,O){return ti.apply(this,arguments)}function ti(){return(ti=(0,H.Z)(function*(S,O){const W=En(S),Fe=(yield Zn()).transaction(Ln,"readwrite"),it=Fe.objectStore(Ln),wt=yield it.get(W),kt=O(wt);return void 0===kt?yield it.delete(W):yield it.put(kt,W),yield Fe.done,kt&&(!wt||wt.fid!==kt.fid)&&pt(S,kt.fid),kt})).apply(this,arguments)}function Mn(S){return at.apply(this,arguments)}function at(){return(at=(0,H.Z)(function*(S){let O;const W=yield mr(S.appConfig,re=>{const Fe=_e(re),it=le(S,Fe);return O=it.registrationPromise,it.installationEntry});return""===W.fid?{installationEntry:yield O}:{installationEntry:W,registrationPromise:O}})).apply(this,arguments)}function _e(S){return Ot(S||{fid:ft(),registrationStatus:0})}function le(S,O){if(0===O.registrationStatus){if(!navigator.onLine)return{installationEntry:O,registrationPromise:Promise.reject(Me.create("app-offline"))};const W={fid:O.fid,registrationStatus:1,registrationTime:Date.now()},re=function nt(S,O){return ot.apply(this,arguments)}(S,W);return{installationEntry:W,registrationPromise:re}}return 1===O.registrationStatus?{installationEntry:O,registrationPromise:Zt(S)}:{installationEntry:O}}function ot(){return(ot=(0,H.Z)(function*(S,O){try{const W=yield Le(S,O);return _t(S.appConfig,W)}catch(W){throw xt(W)&&409===W.customData.serverCode?yield vn(S.appConfig):yield _t(S.appConfig,{fid:O.fid,registrationStatus:0}),W}})).apply(this,arguments)}function Zt(S){return on.apply(this,arguments)}function on(){return(on=(0,H.Z)(function*(S){let O=yield Gt(S.appConfig);for(;1===O.registrationStatus;)yield It(100),O=yield Gt(S.appConfig);if(0===O.registrationStatus){const{installationEntry:W,registrationPromise:re}=yield Mn(S);return re||W}return O})).apply(this,arguments)}function Gt(S){return mr(S,O=>{if(!O)throw Me.create("installation-not-found");return Ot(O)})}function Ot(S){return function zn(S){return 1===S.registrationStatus&&S.registrationTime+1e4<Date.now()}(S)?{fid:S.fid,registrationStatus:0}:S}function ln(S,O){return Er.apply(this,arguments)}function Er(){return(Er=(0,H.Z)(function*({appConfig:S,heartbeatServiceProvider:O},W){const re=mn(S,W),Fe=Ve(S,W),it=O.getImmediate({optional:!0});if(it){const dn=yield it.getHeartbeatsHeader();dn&&Fe.append("x-firebase-client",dn)}const kt={method:"POST",headers:Fe,body:JSON.stringify({installation:{sdkVersion:De,appId:S.appId}})},Jt=yield Ue(()=>fetch(re,kt));if(Jt.ok)return pe(yield Jt.json());throw yield je("Generate Auth Token",Jt)})).apply(this,arguments)}function mn(S,{fid:O}){return`${Re(S)}/${O}/authTokens:generate`}function Ee(S){return he.apply(this,arguments)}function he(){return(he=(0,H.Z)(function*(S,O=!1){let W;const re=yield mr(S.appConfig,it=>{if(!Pt(it))throw Me.create("not-registered");const wt=it.authToken;if(!O&&yn(wt))return it;if(1===wt.requestStatus)return W=q(S,O),it;{if(!navigator.onLine)throw Me.create("app-offline");const kt=On(it);return W=fe(S,kt),kt}});return W?yield W:re.authToken})).apply(this,arguments)}function q(S,O){return N.apply(this,arguments)}function N(){return(N=(0,H.Z)(function*(S,O){let W=yield j(S.appConfig);for(;1===W.authToken.requestStatus;)yield It(100),W=yield j(S.appConfig);const re=W.authToken;return 0===re.requestStatus?Ee(S,O):re})).apply(this,arguments)}function j(S){return mr(S,O=>{if(!Pt(O))throw Me.create("not-registered");return function $e(S){return 1===S.requestStatus&&S.requestTime+1e4<Date.now()}(O.authToken)?Object.assign(Object.assign({},O),{authToken:{requestStatus:0}}):O})}function fe(S,O){return We.apply(this,arguments)}function We(){return(We=(0,H.Z)(function*(S,O){try{const W=yield ln(S,O),re=Object.assign(Object.assign({},O),{authToken:W});return yield _t(S.appConfig,re),W}catch(W){if(!xt(W)||401!==W.customData.serverCode&&404!==W.customData.serverCode){const re=Object.assign(Object.assign({},O),{authToken:{requestStatus:0}});yield _t(S.appConfig,re)}else yield vn(S.appConfig);throw W}})).apply(this,arguments)}function Pt(S){return void 0!==S&&2===S.registrationStatus}function yn(S){return 2===S.requestStatus&&!function nn(S){const O=Date.now();return O<S.creationTime||S.creationTime+S.expiresIn<O+36e5}(S)}function On(S){const O={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},S),{authToken:O})}function ye(){return(ye=(0,H.Z)(function*(S){const O=S,{installationEntry:W,registrationPromise:re}=yield Mn(O);return re?re.catch(console.error):Ee(O).catch(console.error),W.fid})).apply(this,arguments)}function Ut(){return(Ut=(0,H.Z)(function*(S,O=!1){const W=S;return yield cn(W),(yield Ee(W,O)).token})).apply(this,arguments)}function cn(S){return pn.apply(this,arguments)}function pn(){return(pn=(0,H.Z)(function*(S){const{registrationPromise:O}=yield Mn(S);O&&(yield O)})).apply(this,arguments)}function wr(S){return Me.create("missing-app-config-values",{valueName:S})}const oi="installations",qr=S=>{const O=S.getProvider("app").getImmediate(),W=function Pn(S){if(!S||!S.options)throw wr("App Configuration");if(!S.name)throw wr("App Name");const O=["projectId","apiKey","appId"];for(const W of O)if(!S.options[W])throw wr(W);return{appName:S.name,projectId:S.options.projectId,apiKey:S.options.apiKey,appId:S.options.appId}}(O);return{app:O,appConfig:W,heartbeatServiceProvider:(0,ce._getProvider)(O,"heartbeat"),_delete:()=>Promise.resolve()}},Wn=S=>{const O=S.getProvider("app").getImmediate(),W=(0,ce._getProvider)(O,oi).getImmediate();return{getId:()=>function me(S){return ye.apply(this,arguments)}(W),getToken:Fe=>function ct(S){return Ut.apply(this,arguments)}(W,Fe)}};(function ki(){(0,ce._registerComponent)(new Ce.wA(oi,qr,"PUBLIC")),(0,ce._registerComponent)(new Ce.wA("installations-internal",Wn,"PRIVATE"))})(),(0,ce.registerVersion)(Be,ee),(0,ce.registerVersion)(Be,ee,"esm2017");const Fi="@firebase/remote-config",jr=new de.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ss{constructor(O,W,re,Fe){this.client=O,this.storage=W,this.storageCache=re,this.logger=Fe}isCachedDataFresh(O,W){if(!W)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const re=Date.now()-W,Fe=re<=O;return this.logger.debug(`Config fetch cache check. Cache age millis: ${re}. Cache max age millis (minimumFetchIntervalMillis setting): ${O}. Is cache hit: ${Fe}.`),Fe}fetch(O){var W=this;return(0,H.Z)(function*(){const[re,Fe]=yield Promise.all([W.storage.getLastSuccessfulFetchTimestampMillis(),W.storage.getLastSuccessfulFetchResponse()]);if(Fe&&W.isCachedDataFresh(O.cacheMaxAgeMillis,re))return Fe;O.eTag=Fe&&Fe.eTag;const it=yield W.client.fetch(O),wt=[W.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===it.status&&wt.push(W.storage.setLastSuccessfulFetchResponse(it)),yield Promise.all(wt),it})()}}function gi(S=navigator){return S.languages&&S.languages[0]||S.language}class Ws{constructor(O,W,re,Fe,it,wt){this.firebaseInstallations=O,this.sdkVersion=W,this.namespace=re,this.projectId=Fe,this.apiKey=it,this.appId=wt}fetch(O){var W=this;return(0,H.Z)(function*(){var re,Fe,it;const[wt,kt]=yield Promise.all([W.firebaseInstallations.getId(),W.firebaseInstallations.getToken()]),dn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${W.projectId}/namespaces/${W.namespace}:fetch?key=${W.apiKey}`,tr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":O.eTag||"*"},an={sdk_version:W.sdkVersion,app_instance_id:wt,app_instance_id_token:kt,app_id:W.appId,language_code:gi()},Cr={method:"POST",headers:tr,body:JSON.stringify(an)},Kr=fetch(dn,Cr),_o=new Promise((Ma,xa)=>{O.signal.addEventListener(()=>{const lc=new Error("The operation was aborted.");lc.name="AbortError",xa(lc)})});let Uo;try{yield Promise.race([Kr,_o]),Uo=yield Kr}catch(Ma){let xa="fetch-client-network";throw"AbortError"===(null===(re=Ma)||void 0===re?void 0:re.name)&&(xa="fetch-timeout"),jr.create(xa,{originalErrorMessage:null===(Fe=Ma)||void 0===Fe?void 0:Fe.message})}let ro=Uo.status;const Aa=Uo.headers.get("ETag")||void 0;let Fu,es;if(200===Uo.status){let Ma;try{Ma=yield Uo.json()}catch(xa){throw jr.create("fetch-client-parse",{originalErrorMessage:null===(it=xa)||void 0===it?void 0:it.message})}Fu=Ma.entries,es=Ma.state}if("INSTANCE_STATE_UNSPECIFIED"===es?ro=500:"NO_CHANGE"===es?ro=304:("NO_TEMPLATE"===es||"EMPTY_CONFIG"===es)&&(Fu={}),304!==ro&&200!==ro)throw jr.create("fetch-status",{httpStatus:ro});return{status:ro,eTag:Aa,config:Fu}})()}}class Wi{constructor(O,W){this.client=O,this.storage=W}fetch(O){var W=this;return(0,H.Z)(function*(){const re=(yield W.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return W.attemptFetch(O,re)})()}attemptFetch(O,{throttleEndTimeMillis:W,backoffCount:re}){var Fe=this;return(0,H.Z)(function*(){yield function zi(S,O){return new Promise((W,re)=>{const Fe=Math.max(O-Date.now(),0),it=setTimeout(W,Fe);S.addEventListener(()=>{clearTimeout(it),re(jr.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}(O.signal,W);try{const it=yield Fe.client.fetch(O);return yield Fe.storage.deleteThrottleMetadata(),it}catch(it){if(!function Go(S){if(!(S instanceof de.ZR&&S.customData))return!1;const O=Number(S.customData.httpStatus);return 429===O||500===O||503===O||504===O}(it))throw it;const wt={throttleEndTimeMillis:Date.now()+(0,de.$s)(re),backoffCount:re+1};return yield Fe.storage.setThrottleMetadata(wt),Fe.attemptFetch(O,wt)}})()}}class xo{constructor(O,W,re,Fe,it){this.app=O,this._client=W,this._storageCache=re,this._storage=Fe,this._logger=it,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ks(S,O){var W;const re=S.target.error||void 0;return jr.create(O,{originalErrorMessage:re&&(null===(W=re)||void 0===W?void 0:W.message)})}const ps="app_namespace_store";class Ci{constructor(O,W,re,Fe=function qs(){return new Promise((S,O)=>{var W;try{const re=indexedDB.open("firebase_remote_config",1);re.onerror=Fe=>{O(Ks(Fe,"storage-open"))},re.onsuccess=Fe=>{S(Fe.target.result)},re.onupgradeneeded=Fe=>{0===Fe.oldVersion&&Fe.target.result.createObjectStore(ps,{keyPath:"compositeKey"})}}catch(re){O(jr.create("storage-open",{originalErrorMessage:null===(W=re)||void 0===W?void 0:W.message}))}})}()){this.appId=O,this.appName=W,this.namespace=re,this.openDbPromise=Fe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(O){return this.set("last_fetch_status",O)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(O){return this.set("last_successful_fetch_timestamp_millis",O)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(O){return this.set("last_successful_fetch_response",O)}getActiveConfig(){return this.get("active_config")}setActiveConfig(O){return this.set("active_config",O)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(O){return this.set("active_config_etag",O)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(O){return this.set("throttle_metadata",O)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(O){var W=this;return(0,H.Z)(function*(){const re=yield W.openDbPromise;return new Promise((Fe,it)=>{var wt;const Jt=re.transaction([ps],"readonly").objectStore(ps),dn=W.createCompositeKey(O);try{const tr=Jt.get(dn);tr.onerror=an=>{it(Ks(an,"storage-get"))},tr.onsuccess=an=>{const Cr=an.target.result;Fe(Cr?Cr.value:void 0)}}catch(tr){it(jr.create("storage-get",{originalErrorMessage:null===(wt=tr)||void 0===wt?void 0:wt.message}))}})})()}set(O,W){var re=this;return(0,H.Z)(function*(){const Fe=yield re.openDbPromise;return new Promise((it,wt)=>{var kt;const dn=Fe.transaction([ps],"readwrite").objectStore(ps),tr=re.createCompositeKey(O);try{const an=dn.put({compositeKey:tr,value:W});an.onerror=Cr=>{wt(Ks(Cr,"storage-set"))},an.onsuccess=()=>{it()}}catch(an){wt(jr.create("storage-set",{originalErrorMessage:null===(kt=an)||void 0===kt?void 0:kt.message}))}})})()}delete(O){var W=this;return(0,H.Z)(function*(){const re=yield W.openDbPromise;return new Promise((Fe,it)=>{var wt;const Jt=re.transaction([ps],"readwrite").objectStore(ps),dn=W.createCompositeKey(O);try{const tr=Jt.delete(dn);tr.onerror=an=>{it(Ks(an,"storage-delete"))},tr.onsuccess=()=>{Fe()}}catch(tr){it(jr.create("storage-delete",{originalErrorMessage:null===(wt=tr)||void 0===wt?void 0:wt.message}))}})})()}createCompositeKey(O){return[this.appId,this.appName,this.namespace,O].join()}}class mi{constructor(O){this.storage=O}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var O=this;return(0,H.Z)(function*(){const W=O.storage.getLastFetchStatus(),re=O.storage.getLastSuccessfulFetchTimestampMillis(),Fe=O.storage.getActiveConfig(),it=yield W;it&&(O.lastFetchStatus=it);const wt=yield re;wt&&(O.lastSuccessfulFetchTimestampMillis=wt);const kt=yield Fe;kt&&(O.activeConfig=kt)})()}setLastFetchStatus(O){return this.lastFetchStatus=O,this.storage.setLastFetchStatus(O)}setLastSuccessfulFetchTimestampMillis(O){return this.lastSuccessfulFetchTimestampMillis=O,this.storage.setLastSuccessfulFetchTimestampMillis(O)}setActiveConfig(O){return this.activeConfig=O,this.storage.setActiveConfig(O)}}function Yr(){return As.apply(this,arguments)}function As(){return(As=(0,H.Z)(function*(){if(!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}!function Ki(){(0,ce._registerComponent)(new Ce.wA("remote-config",function S(O,{instanceIdentifier:W}){const re=O.getProvider("app").getImmediate(),Fe=O.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw jr.create("registration-window");if(!(0,de.hl)())throw jr.create("indexed-db-unavailable");const{projectId:it,apiKey:wt,appId:kt}=re.options;if(!it)throw jr.create("registration-project-id");if(!wt)throw jr.create("registration-api-key");if(!kt)throw jr.create("registration-app-id");const Jt=new Ci(kt,re.name,W=W||"firebase"),dn=new mi(Jt),tr=new Ae.Yd(Fi);tr.logLevel=Ae.in.ERROR;const an=new Ws(Fe,ce.SDK_VERSION,W,it,wt,kt),Cr=new Wi(an,Jt),Kr=new Ss(Cr,Jt,dn,tr),_o=new xo(re,Kr,dn,Jt,tr);return function ze(S){const O=(0,de.m9)(S);O._initializePromise||(O._initializePromise=O._storageCache.loadFromStorage().then(()=>{O._isInitializationComplete=!0}))}(_o),_o},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(Fi,"0.3.11"),(0,ce.registerVersion)(Fi,"0.3.11","esm2017")}();const Dr="/firebase-messaging-sw.js",Li="/firebase-cloud-messaging-push-scope",is="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ss="google.c.a.c_id",Zi="google.c.a.c_l",Yi="google.c.a.ts",gs="google.c.a.e";var nr=(()=>{return(S=nr||(nr={})).PUSH_RECEIVED="push-received",S.NOTIFICATION_CLICKED="notification-clicked",nr;var S})();function Ti(S){const O=new Uint8Array(S);return btoa(String.fromCharCode(...O)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function yi(S){const W=(S+"=".repeat((4-S.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),re=atob(W),Fe=new Uint8Array(re.length);for(let it=0;it<re.length;++it)Fe[it]=re.charCodeAt(it);return Fe}const Qi="fcm_token_details_db",Si="fcm_token_object_Store";function ao(S){return uo.apply(this,arguments)}function uo(){return uo=(0,H.Z)(function*(S){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(it=>it.name).includes(Qi))return null;let O=null;return(yield(0,se.X3)(Qi,5,{upgrade:(re=(0,H.Z)(function*(Fe,it,wt,kt){var Jt;if(it<2||!Fe.objectStoreNames.contains(Si))return;const dn=kt.objectStore(Si),tr=yield dn.index("fcmSenderId").get(S);if(yield dn.clear(),tr)if(2===it){const an=tr;if(!an.auth||!an.p256dh||!an.endpoint)return;O={token:an.fcmToken,createTime:null!==(Jt=an.createTime)&&void 0!==Jt?Jt:Date.now(),subscriptionOptions:{auth:an.auth,p256dh:an.p256dh,endpoint:an.endpoint,swScope:an.swScope,vapidKey:"string"==typeof an.vapidKey?an.vapidKey:Ti(an.vapidKey)}}}else if(3===it){const an=tr;O={token:an.fcmToken,createTime:an.createTime,subscriptionOptions:{auth:Ti(an.auth),p256dh:Ti(an.p256dh),endpoint:an.endpoint,swScope:an.swScope,vapidKey:Ti(an.vapidKey)}}}else if(4===it){const an=tr;O={token:an.fcmToken,createTime:an.createTime,subscriptionOptions:{auth:Ti(an.auth),p256dh:Ti(an.p256dh),endpoint:an.endpoint,swScope:an.swScope,vapidKey:Ti(an.vapidKey)}}}}),function(it,wt,kt,Jt){return re.apply(this,arguments)})})).close(),yield(0,se.Lj)(Qi),yield(0,se.Lj)("fcm_vapid_details_db"),yield(0,se.Lj)("undefined"),kr(O)?O:null;var re}),uo.apply(this,arguments)}function kr(S){if(!S||!S.subscriptionOptions)return!1;const{subscriptionOptions:O}=S;return"number"==typeof S.createTime&&S.createTime>0&&"string"==typeof S.token&&S.token.length>0&&"string"==typeof O.auth&&O.auth.length>0&&"string"==typeof O.p256dh&&O.p256dh.length>0&&"string"==typeof O.endpoint&&O.endpoint.length>0&&"string"==typeof O.swScope&&O.swScope.length>0&&"string"==typeof O.vapidKey&&O.vapidKey.length>0}const ui="firebase-messaging-store";let xr=null;function Qr(){return xr||(xr=(0,se.X3)("firebase-messaging-database",1,{upgrade:(S,O)=>{0===O&&S.createObjectStore(ui)}})),xr}function Zs(S){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,H.Z)(function*(S){const O=Fr(S),re=yield(yield Qr()).transaction(ui).objectStore(ui).get(O);if(re)return re;{const Fe=yield ao(S.appConfig.senderId);if(Fe)return yield jn(S,Fe),Fe}})).apply(this,arguments)}function jn(S,O){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,H.Z)(function*(S,O){const W=Fr(S),Fe=(yield Qr()).transaction(ui,"readwrite");return yield Fe.objectStore(ui).put(O,W),yield Fe.done,O})).apply(this,arguments)}function os(S){return zo.apply(this,arguments)}function zo(){return(zo=(0,H.Z)(function*(S){const O=Fr(S),re=(yield Qr()).transaction(ui,"readwrite");yield re.objectStore(ui).delete(O),yield re.done})).apply(this,arguments)}function Fr({appConfig:S}){return S.appId}const Rr=new de.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Tn(S,O){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,H.Z)(function*(S,O){var W;const re=yield Ms(S),Fe=bt(O),it={method:"POST",headers:re,body:JSON.stringify(Fe)};let wt;try{wt=yield(yield fetch(Ji(S.appConfig),it)).json()}catch(kt){throw Rr.create("token-subscribe-failed",{errorInfo:null===(W=kt)||void 0===W?void 0:W.toString()})}if(wt.error)throw Rr.create("token-subscribe-failed",{errorInfo:wt.error.message});if(!wt.token)throw Rr.create("token-subscribe-no-token");return wt.token})).apply(this,arguments)}function No(S,O){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,H.Z)(function*(S,O){var W;const re=yield Ms(S),Fe=bt(O.subscriptionOptions),it={method:"PATCH",headers:re,body:JSON.stringify(Fe)};let wt;try{wt=yield(yield fetch(`${Ji(S.appConfig)}/${O.token}`,it)).json()}catch(kt){throw Rr.create("token-update-failed",{errorInfo:null===(W=kt)||void 0===W?void 0:W.toString()})}if(wt.error)throw Rr.create("token-update-failed",{errorInfo:wt.error.message});if(!wt.token)throw Rr.create("token-update-no-token");return wt.token})).apply(this,arguments)}function li(S,O){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,H.Z)(function*(S,O){var W;const Fe={method:"DELETE",headers:yield Ms(S)};try{const wt=yield(yield fetch(`${Ji(S.appConfig)}/${O}`,Fe)).json();if(wt.error)throw Rr.create("token-unsubscribe-failed",{errorInfo:wt.error.message})}catch(it){throw Rr.create("token-unsubscribe-failed",{errorInfo:null===(W=it)||void 0===W?void 0:W.toString()})}})).apply(this,arguments)}function Ji({projectId:S}){return`https://fcmregistrations.googleapis.com/v1/projects/${S}/registrations`}function Ms(S){return as.apply(this,arguments)}function as(){return(as=(0,H.Z)(function*({appConfig:S,installations:O}){const W=yield O.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":S.apiKey,"x-goog-firebase-installations-auth":`FIS ${W}`})})).apply(this,arguments)}function bt({p256dh:S,auth:O,endpoint:W,vapidKey:re}){const Fe={web:{endpoint:W,auth:O,p256dh:S}};return re!==is&&(Fe.web.applicationPubKey=re),Fe}const Vn=6048e5;function us(S){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,H.Z)(function*(S){const O=yield Jo(S.swRegistration,S.vapidKey),W={vapidKey:S.vapidKey,swScope:S.swRegistration.scope,endpoint:O.endpoint,auth:Ti(O.getKey("auth")),p256dh:Ti(O.getKey("p256dh"))},re=yield Zs(S.firebaseDependencies);if(re){if(L(re.subscriptionOptions,W))return Date.now()>=re.createTime+Vn?Ys(S,{token:re.token,createTime:Date.now(),subscriptionOptions:W}):re.token;try{yield li(S.firebaseDependencies,re.token)}catch(Fe){console.warn(Fe)}return rr(S.firebaseDependencies,W)}return rr(S.firebaseDependencies,W)})).apply(this,arguments)}function Nr(S){return xs.apply(this,arguments)}function xs(){return(xs=(0,H.Z)(function*(S){const O=yield Zs(S.firebaseDependencies);O&&(yield li(S.firebaseDependencies,O.token),yield os(S.firebaseDependencies));const W=yield S.swRegistration.pushManager.getSubscription();return!W||W.unsubscribe()})).apply(this,arguments)}function Ys(S,O){return vi.apply(this,arguments)}function vi(){return(vi=(0,H.Z)(function*(S,O){try{const W=yield No(S.firebaseDependencies,O),re=Object.assign(Object.assign({},O),{token:W,createTime:Date.now()});return yield jn(S.firebaseDependencies,re),W}catch(W){throw yield Nr(S),W}})).apply(this,arguments)}function rr(S,O){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,H.Z)(function*(S,O){const re={token:yield Tn(S,O),createTime:Date.now(),subscriptionOptions:O};return yield jn(S,re),re.token})).apply(this,arguments)}function Jo(S,O){return Js.apply(this,arguments)}function Js(){return(Js=(0,H.Z)(function*(S,O){return(yield S.pushManager.getSubscription())||S.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:yi(O)})})).apply(this,arguments)}function L(S,O){return O.vapidKey===S.vapidKey&&O.endpoint===S.endpoint&&O.auth===S.auth&&O.p256dh===S.p256dh}function P(S){const O={from:S.from,collapseKey:S.collapse_key,messageId:S.fcmMessageId};return function M(S,O){if(!O.notification)return;S.notification={};const W=O.notification.title;W&&(S.notification.title=W);const re=O.notification.body;re&&(S.notification.body=re);const Fe=O.notification.image;Fe&&(S.notification.image=Fe)}(O,S),function Y(S,O){!O.data||(S.data=O.data)}(O,S),function ut(S,O){var W,re,Fe,it,wt;if(!(O.fcmOptions||null!==(W=O.notification)&&void 0!==W&&W.click_action))return;S.fcmOptions={};const kt=null!==(Fe=null===(re=O.fcmOptions)||void 0===re?void 0:re.link)&&void 0!==Fe?Fe:null===(it=O.notification)||void 0===it?void 0:it.click_action;kt&&(S.fcmOptions.link=kt);const Jt=null===(wt=O.fcmOptions)||void 0===wt?void 0:wt.analytics_label;Jt&&(S.fcmOptions.analyticsLabel=Jt)}(O,S),O}function qt(S){return"object"==typeof S&&!!S&&ss in S}function ur(S,O){const W=[];for(let re=0;re<S.length;re++)W.push(S.charAt(re)),re<O.length&&W.push(O.charAt(re));return W.join("")}function ms(S){return Rr.create("missing-app-config-values",{valueName:S})}ur("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ur("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ys{constructor(O,W,re){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Fe=function $r(S){if(!S||!S.options)throw ms("App Configuration Object");if(!S.name)throw ms("App Name");const O=["projectId","apiKey","appId","messagingSenderId"],{options:W}=S;for(const re of O)if(!W[re])throw ms(re);return{appName:S.name,projectId:W.projectId,apiKey:W.apiKey,appId:W.appId,senderId:W.messagingSenderId}}(O);this.firebaseDependencies={app:O,appConfig:Fe,installations:W,analyticsProvider:re}}_delete(){return Promise.resolve()}}function Rs(S){return ji.apply(this,arguments)}function ji(){return(ji=(0,H.Z)(function*(S){var O;try{S.swRegistration=yield navigator.serviceWorker.register(Dr,{scope:Li}),S.swRegistration.update().catch(()=>{})}catch(W){throw Rr.create("failed-service-worker-registration",{browserErrorMessage:null===(O=W)||void 0===O?void 0:O.message})}})).apply(this,arguments)}function co(S,O){return bo.apply(this,arguments)}function bo(){return(bo=(0,H.Z)(function*(S,O){if(!O&&!S.swRegistration&&(yield Rs(S)),O||!S.swRegistration){if(!(O instanceof ServiceWorkerRegistration))throw Rr.create("invalid-sw-registration");S.swRegistration=O}})).apply(this,arguments)}function ks(S,O){return ho.apply(this,arguments)}function ho(){return(ho=(0,H.Z)(function*(S,O){O?S.vapidKey=O:S.vapidKey||(S.vapidKey=is)})).apply(this,arguments)}function vs(){return(vs=(0,H.Z)(function*(S,O){if(!navigator)throw Rr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Rr.create("permission-blocked");return yield ks(S,O?.vapidKey),yield co(S,O?.serviceWorkerRegistration),us(S)})).apply(this,arguments)}function Fa(S,O,W){return Po.apply(this,arguments)}function Po(){return(Po=(0,H.Z)(function*(S,O,W){const re=Wo(O);(yield S.firebaseDependencies.analyticsProvider.get()).logEvent(re,{message_id:W[ss],message_name:W[Zi],message_time:W[Yi],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wo(S){switch(S){case nr.NOTIFICATION_CLICKED:return"notification_open";case nr.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function G(){return(G=(0,H.Z)(function*(S,O){const W=O.data;if(!W.isFirebaseMessaging)return;S.onMessageHandler&&W.messageType===nr.PUSH_RECEIVED&&("function"==typeof S.onMessageHandler?S.onMessageHandler(P(W)):S.onMessageHandler.next(P(W)));const re=W.data;qt(re)&&"1"===re[gs]&&(yield Fa(S,W.messageType,re))})).apply(this,arguments)}const R="@firebase/messaging",Z="0.9.16",ge=S=>{const O=new ys(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),S.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",W=>function x(S,O){return G.apply(this,arguments)}(O,W)),O},rt=S=>{const O=S.getProvider("messaging").getImmediate();return{getToken:re=>function Oo(S,O){return vs.apply(this,arguments)}(O,re)}};function Xt(){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,H.Z)(function*(){try{yield(0,de.eu)()}catch{return!1}return typeof window<"u"&&(0,de.hl)()&&(0,de.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function mt(){(0,ce._registerComponent)(new Ce.wA("messaging",ge,"PUBLIC")),(0,ce._registerComponent)(new Ce.wA("messaging-internal",rt,"PRIVATE")),(0,ce.registerVersion)(R,Z),(0,ce.registerVersion)(R,Z,"esm2017")}();const xi="analytics",ko="firebase_id",Xo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",La="https://www.googletagmanager.com/gtag/js",Jr=new Ae.Yd("@firebase/analytics");function Ko(S){return Promise.all(S.map(O=>O.catch(W=>W)))}function ea(S,O){const W=document.createElement("script");W.src=`${La}?l=${S}&id=${O}`,W.async=!0,document.head.appendChild(W)}function Ea(S,O,W,re,Fe,it){return ci.apply(this,arguments)}function ci(){return(ci=(0,H.Z)(function*(S,O,W,re,Fe,it){const wt=re[Fe];try{if(wt)yield O[wt];else{const Jt=(yield Ko(W)).find(dn=>dn.measurementId===Fe);Jt&&(yield O[Jt.appId])}}catch(kt){Jr.error(kt)}S("config",Fe,it)})).apply(this,arguments)}function Fs(S,O,W,re,Fe){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,H.Z)(function*(S,O,W,re,Fe){try{let it=[];if(Fe&&Fe.send_to){let wt=Fe.send_to;Array.isArray(wt)||(wt=[wt]);const kt=yield Ko(W);for(const Jt of wt){const dn=kt.find(an=>an.measurementId===Jt),tr=dn&&O[dn.appId];if(!tr){it=[];break}it.push(tr)}}0===it.length&&(it=Object.values(O)),yield Promise.all(it),S("event",re,Fe||{})}catch(it){Jr.error(it)}})).apply(this,arguments)}function Lt(){const S=window.document.getElementsByTagName("script");for(const O of Object.values(S))if(O.src&&O.src.includes(La))return O;return null}const Lr=new de.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Da=new class Rn{constructor(O={},W=1e3){this.throttleMetadata=O,this.intervalMillis=W}getThrottleMetadata(O){return this.throttleMetadata[O]}setThrottleMetadata(O,W){this.throttleMetadata[O]=W}deleteThrottleMetadata(O){delete this.throttleMetadata[O]}};function Qt(S){return new Headers({Accept:"application/json","x-goog-api-key":S})}function ht(S){return Et.apply(this,arguments)}function Et(){return(Et=(0,H.Z)(function*(S){var O;const{appId:W,apiKey:re}=S,Fe={method:"GET",headers:Qt(re)},it=Xo.replace("{app-id}",W),wt=yield fetch(it,Fe);if(200!==wt.status&&304!==wt.status){let kt="";try{const Jt=yield wt.json();null!==(O=Jt.error)&&void 0!==O&&O.message&&(kt=Jt.error.message)}catch{}throw Lr.create("config-fetch-failed",{httpStatus:wt.status,responseMessage:kt})}return wt.json()})).apply(this,arguments)}function _i(S){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,H.Z)(function*(S,O=Da,W){const{appId:re,apiKey:Fe,measurementId:it}=S.options;if(!re)throw Lr.create("no-app-id");if(!Fe){if(it)return{measurementId:it,appId:re};throw Lr.create("no-api-key")}const wt=O.getThrottleMetadata(re)||{backoffCount:0,throttleEndTimeMillis:Date.now()},kt=new da;return setTimeout((0,H.Z)(function*(){kt.abort()}),void 0!==W?W:6e4),Es({appId:re,apiKey:Fe,measurementId:it},wt,kt,O)})).apply(this,arguments)}function Es(S,O,W){return Ns.apply(this,arguments)}function Ns(){return(Ns=(0,H.Z)(function*(S,{throttleEndTimeMillis:O,backoffCount:W},re,Fe=Da){var it,wt;const{appId:kt,measurementId:Jt}=S;try{yield To(re,O)}catch(dn){if(Jt)return Jr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Jt} provided in the "measurementId" field in the local Firebase config. [${null===(it=dn)||void 0===it?void 0:it.message}]`),{appId:kt,measurementId:Jt};throw dn}try{const dn=yield ht(S);return Fe.deleteThrottleMetadata(kt),dn}catch(dn){const tr=dn;if(!ca(tr)){if(Fe.deleteThrottleMetadata(kt),Jt)return Jr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Jt} provided in the "measurementId" field in the local Firebase config. [${tr?.message}]`),{appId:kt,measurementId:Jt};throw dn}const an=503===Number(null===(wt=tr?.customData)||void 0===wt?void 0:wt.httpStatus)?(0,de.$s)(W,Fe.intervalMillis,30):(0,de.$s)(W,Fe.intervalMillis),Cr={throttleEndTimeMillis:Date.now()+an,backoffCount:W+1};return Fe.setThrottleMetadata(kt,Cr),Jr.debug(`Calling attemptFetch again in ${an} millis`),Es(S,Cr,re,Fe)}})).apply(this,arguments)}function To(S,O){return new Promise((W,re)=>{const Fe=Math.max(O-Date.now(),0),it=setTimeout(W,Fe);S.addEventListener(()=>{clearTimeout(it),re(Lr.create("fetch-throttle",{throttleEndTimeMillis:O}))})})}function ca(S){if(!(S instanceof de.ZR&&S.customData))return!1;const O=Number(S.customData.httpStatus);return 429===O||500===O||503===O||504===O}class da{constructor(){this.listeners=[]}addEventListener(O){this.listeners.push(O)}abort(){this.listeners.forEach(O=>O())}}let fo,Xn;function Ca(){return(Ca=(0,H.Z)(function*(S,O,W,re,Fe){if(Fe&&Fe.global)S("event",W,re);else{const it=yield O;S("event",W,Object.assign(Object.assign({},re),{send_to:it}))}})).apply(this,arguments)}function qo(S){Xn=S}function zr(S){fo=S}function Yt(){return So.apply(this,arguments)}function So(){return(So=(0,H.Z)(function*(){var S;if(!(0,de.hl)())return Jr.warn(Lr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,de.eu)()}catch(O){return Jr.warn(Lr.create("indexeddb-unavailable",{errorInfo:null===(S=O)||void 0===S?void 0:S.toString()}).message),!1}return!0})).apply(this,arguments)}function po(){return(po=(0,H.Z)(function*(S,O,W,re,Fe,it,wt){var kt;const Jt=_i(S);Jt.then(Kr=>{W[Kr.measurementId]=Kr.appId,S.options.measurementId&&Kr.measurementId!==S.options.measurementId&&Jr.warn(`The measurement ID in the local Firebase config (${S.options.measurementId}) does not match the measurement ID fetched from the server (${Kr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Kr=>Jr.error(Kr)),O.push(Jt);const dn=Yt().then(Kr=>{if(Kr)return re.getId()}),[tr,an]=yield Promise.all([Jt,dn]);Lt()||ea(it,tr.measurementId),Xn&&(Fe("consent","default",Xn),qo(void 0)),Fe("js",new Date);const Cr=null!==(kt=wt?.config)&&void 0!==kt?kt:{};return Cr.origin="firebase",Cr.update=!0,null!=an&&(Cr[ko]=an),Fe("config",tr.measurementId,Cr),fo&&(Fe("set",fo),zr(void 0)),tr.measurementId})).apply(this,arguments)}class fa{constructor(O){this.app=O}_delete(){return delete ei[this.app.options.appId],Promise.resolve()}}let ei={},go=[];const Us={};let ri,Bs,Fo="dataLayer",ra=!1;function ba(S,O,W){!function yo(){const S=[];if((0,de.ru)()&&S.push("This is a browser extension environment."),(0,de.zI)()||S.push("Cookies are not available."),S.length>0){const O=S.map((re,Fe)=>`(${Fe+1}) ${re}`).join(" "),W=Lr.create("invalid-analytics-context",{errorInfo:O});Jr.warn(W.message)}}();const re=S.options.appId;if(!re)throw Lr.create("no-app-id");if(!S.options.apiKey){if(!S.options.measurementId)throw Lr.create("no-api-key");Jr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${S.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ei[re])throw Lr.create("already-exists",{id:re});if(!ra){!function Va(S){let O=[];Array.isArray(window[S])?O=window[S]:window[S]=O}(Fo);const{wrappedGtag:it,gtagCore:wt}=function Ia(S,O,W,re,Fe){let it=function(...wt){window[re].push(arguments)};return window[Fe]&&"function"==typeof window[Fe]&&(it=window[Fe]),window[Fe]=function wa(S,O,W,re){function it(){return(it=(0,H.Z)(function*(wt,kt,Jt){try{"event"===wt?yield Fs(S,O,W,kt,Jt):"config"===wt?yield Ea(S,O,W,re,kt,Jt):"consent"===wt?S("consent","update",Jt):S("set",kt)}catch(dn){Jr.error(dn)}})).apply(this,arguments)}return function Fe(wt,kt,Jt){return it.apply(this,arguments)}}(it,S,O,W),{gtagCore:it,wrappedGtag:window[Fe]}}(ei,go,Us,Fo,"gtag");Bs=it,ri=wt,ra=!0}return ei[re]=function ha(S,O,W,re,Fe,it,wt){return po.apply(this,arguments)}(S,go,Us,O,ri,Fo,W),new fa(S)}function to(){return qa.apply(this,arguments)}function qa(){return(qa=(0,H.Z)(function*(){if((0,de.ru)()||!(0,de.zI)()||!(0,de.hl)())return!1;try{return yield(0,de.eu)()}catch{return!1}})).apply(this,arguments)}const Ya="@firebase/analytics";!function cs(){(0,ce._registerComponent)(new Ce.wA(xi,(O,{options:W})=>ba(O.getProvider("app").getImmediate(),O.getProvider("installations-internal").getImmediate(),W),"PUBLIC")),(0,ce._registerComponent)(new Ce.wA("analytics-internal",function S(O){try{const W=O.getProvider(xi).getImmediate();return{logEvent:(re,Fe,it)=>function Lo(S,O,W,re){S=(0,de.m9)(S),function ta(S,O,W,re,Fe){return Ca.apply(this,arguments)}(Bs,ei[S.app.options.appId],O,W,re).catch(Fe=>Jr.error(Fe))}(W,re,Fe,it)}}catch(W){throw Lr.create("interop-component-reg-failed",{reason:W})}},"PRIVATE")),(0,ce.registerVersion)(Ya,"0.8.0"),(0,ce.registerVersion)(Ya,"0.8.0","esm2017")}();var ds=F(4408),Tr=F(7565);const Hi=new class vo extends Tr.v{}(class pa extends ds.o{constructor(O,W){super(O,W),this.scheduler=O,this.work=W}schedule(O,W=0){return W>0?super.schedule(O,W):(this.delay=W,this.state=O,this.scheduler.flush(this),this)}execute(O,W){return W>0||this.closed?super.execute(O,W):this._execute(O,W)}requestAsyncId(O,W,re=0){return null!=re&&re>0||null==re&&this.delay>0?super.requestAsyncId(O,W,re):O.flush(this)}});var c=F(4986),l=F(9751),m=F(8505),E=F(9468),C=F(5363);const U=new h.GfV("7.4.1"),$="__angularfire_symbol__analyticsIsSupportedValue",X="__angularfire_symbol__analyticsIsSupported",xe="__angularfire_symbol__remoteConfigIsSupportedValue",Tt="__angularfire_symbol__remoteConfigIsSupported",gt="__angularfire_symbol__messagingIsSupportedValue",sn="__angularfire_symbol__messagingIsSupported";function _r(S,O,W){if(O){if(1===O.length)return O[0];const it=O.filter(wt=>wt.app===W);if(1===it.length)return it[0]}return W.container.getProvider(S).getImmediate({optional:!0})}globalThis[X]||(globalThis[X]=to().then(S=>globalThis[$]=S).catch(()=>globalThis[$]=!1)),globalThis[sn]||(globalThis[sn]=Xt().then(S=>globalThis[gt]=S).catch(()=>globalThis[gt]=!1)),globalThis[Tt]||(globalThis[Tt]=Yr().then(S=>globalThis[xe]=S).catch(()=>globalThis[xe]=!1));const gr=(S,O)=>{const W=O?[O]:(0,k.C6)(),re=[];return W.forEach(Fe=>{Fe.container.getProvider(S).instances.forEach(wt=>{re.includes(wt)||re.push(wt)})}),re};function Or(){}class Wr{constructor(O,W=Hi){this.zone=O,this.delegate=W}now(){return this.delegate.now()}schedule(O,W,re){const Fe=this.zone;return this.delegate.schedule(function(wt){Fe.runGuarded(()=>{O.apply(this,[wt])})},W,re)}}class Oi{constructor(O){this.zone=O,this.task=null}call(O,W){const re=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Or,{},Or,Or)),W.pipe((0,m.b)({next:re,complete:re,error:re})).subscribe(O).add(re)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Is=(()=>{class S{constructor(W){this.ngZone=W,this.outsideAngular=W.runOutsideAngular(()=>new Wr(Zone.current)),this.insideAngular=W.run(()=>new Wr(Zone.current,c.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return S.\u0275fac=function(W){return new(W||S)(h.LFG(h.R0b))},S.\u0275prov=h.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})();function Ar(){const S=globalThis.\u0275AngularFireScheduler;if(!S)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return S}function Vo(S){return Ar().ngZone.runOutsideAngular(()=>S())}function di(S){return Ar().ngZone.run(()=>S())}function ia(S){return Ar(),function Mr(S){return function(W){return(W=W.lift(new Oi(S.ngZone))).pipe((0,E.R)(S.outsideAngular),(0,C.Q)(S.insideAngular))}}(Ar())(S)}const Sa=(S,O)=>function(){const re=arguments;return O&&setTimeout(()=>{"scheduled"===O.state&&O.invoke()},10),di(()=>S.apply(void 0,re))},Qa=(S,O)=>function(){let W;const re=arguments;for(let it=0;it<arguments.length;it++)"function"==typeof re[it]&&(O&&(W||(W=di(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Or,{},Or,Or)))),re[it]=Sa(re[it],W));const Fe=Vo(()=>S.apply(this,re));if(!O){if(Fe instanceof l.y){const it=Ar();return Fe.pipe((0,E.R)(it.outsideAngular),(0,C.Q)(it.insideAngular))}return di(()=>Fe)}return Fe instanceof l.y?Fe.pipe(ia):Fe instanceof Promise?di(()=>new Promise((it,wt)=>Fe.then(kt=>di(()=>it(kt)),kt=>di(()=>wt(kt))))):"function"==typeof Fe&&W?function(){return setTimeout(()=>{W&&"scheduled"===W.state&&W.invoke()},10),Fe.apply(this,arguments)}:di(()=>Fe)}},8554:($t,qe,F)=>{F.d(qe,{$:()=>Ji,A:()=>ae,B:()=>Je,G:()=>Wn,H:()=>Ur,J:()=>Wi,L:()=>yn,M:()=>As,N:()=>bi,P:()=>c,Q:()=>ss,R:()=>Zo,T:()=>Zi,U:()=>is,V:()=>nr,W:()=>Ti,X:()=>ao,Y:()=>Xr,Z:()=>Tn,_:()=>No,a:()=>en,a0:()=>us,a1:()=>Nr,a2:()=>Ys,a3:()=>rr,a4:()=>Jo,a5:()=>L,a6:()=>M,a7:()=>Y,a8:()=>qt,a9:()=>ur,aA:()=>Cr,aB:()=>kt,aC:()=>di,aD:()=>Vo,aE:()=>hn,aI:()=>Qt,aL:()=>gs,aa:()=>Rs,ab:()=>co,ac:()=>ks,af:()=>Fa,ag:()=>Wo,ah:()=>x,ak:()=>ui,al:()=>lr,an:()=>La,ao:()=>ci,ap:()=>ne,aq:()=>Ue,ar:()=>ue,as:()=>cn,at:()=>xt,au:()=>Vu,av:()=>ro,aw:()=>Re,ax:()=>Te,ay:()=>Se,az:()=>nn,b:()=>Lr,c:()=>Tt,d:()=>fn,e:()=>sn,f:()=>ia,g:()=>W,h:()=>Qa,i:()=>So,j:()=>it,k:()=>fc,l:()=>ws,m:()=>sa,n:()=>ud,o:()=>se,q:()=>Hr,r:()=>ds,s:()=>Ta,u:()=>Hi,y:()=>xi});var h=F(5861),k=F(2090),H=F(9681),ce=F(655),de=F(1877),Ce=F(4859);const se={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ae={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Je=function De(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ge=function Qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Mt=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ke=new de.Yd("@firebase/auth");function Me(I,...y){Ke.logLevel<=de.in.ERROR&&Ke.error(`Auth (${H.SDK_VERSION}): ${I}`,...y)}function xt(I,...y){throw vt(I,...y)}function Re(I,...y){return vt(I,...y)}function pe(I,y,v){const T=Object.assign(Object.assign({},Ge()),{[y]:v});return new k.LL("auth","Firebase",T).create(y,{appName:I.name})}function je(I,y,v){if(!(y instanceof v))throw v.name!==y.constructor.name&&xt(I,"argument-error"),pe(I,"argument-error",`Type of ${y.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function vt(I,...y){if("string"!=typeof I){const v=y[0],T=[...y.slice(1)];return T[0]&&(T[0].appName=I.name),I._errorFactory.create(v,...T)}return Mt.create(I,...y)}function Te(I,y,...v){if(!I)throw vt(y,...v)}function Ve(I){const y="INTERNAL ASSERTION FAILED: "+I;throw Me(y),new Error(y)}function Ue(I,y){I||Ve(y)}const be=new Map;function Se(I){Ue(I instanceof Function,"Expected a class definition");let y=be.get(I);return y?(Ue(y instanceof I,"Instance stored in cache mismatched with class"),y):(y=new I,be.set(I,y),y)}function dt(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.href)||""}function It(){return"http:"===St()||"https:"===St()}function St(){var I;return typeof self<"u"&&(null===(I=self.location)||void 0===I?void 0:I.protocol)||null}class ft{constructor(y,v){this.shortDelay=y,this.longDelay=v,Ue(v>y,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function Kt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(It()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tn(I,y){Ue(I.emulator,"Emulator should always be set here");const{url:v}=I.emulator;return y?`${v}${y.startsWith("/")?y.slice(1):y}`:v}class En{static initialize(y,v,T){this.fetchImpl=y,v&&(this.headersImpl=v),T&&(this.responseImpl=T)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ve("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ve("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ve("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const et={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},pt=new ft(3e4,6e4);function Ie(I,y){return I.tenantId&&!y.tenantId?Object.assign(Object.assign({},y),{tenantId:I.tenantId}):y}function ve(I,y,v,T){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,h.Z)(function*(I,y,v,T,K={}){return wn(I,K,(0,h.Z)(function*(){let te={},Ye={};T&&("GET"===y?Ye=T:te={body:JSON.stringify(T)});const Nt=(0,k.xO)(Object.assign({key:I.config.apiKey},Ye)).slice(1),Vt=yield I._getAdditionalHeaders();return Vt["Content-Type"]="application/json",I.languageCode&&(Vt["X-Firebase-Locale"]=I.languageCode),En.fetch()(kn(I,I.config.apiHost,v,Nt),Object.assign({method:y,headers:Vt,referrerPolicy:"no-referrer"},te))}))})).apply(this,arguments)}function wn(I,y,v){return In.apply(this,arguments)}function In(){return(In=(0,h.Z)(function*(I,y,v){I._canInitEmulator=!1;const T=Object.assign(Object.assign({},et),y);try{const K=new Un(I),te=yield Promise.race([v(),K.promise]);K.clearNetworkTimeout();const Ye=yield te.json();if("needConfirmation"in Ye)throw Ln(I,"account-exists-with-different-credential",Ye);if(te.ok&&!("errorMessage"in Ye))return Ye;{const Nt=te.ok?Ye.errorMessage:Ye.error.message,[Vt,Cn]=Nt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Vt)throw Ln(I,"credential-already-in-use",Ye);if("EMAIL_EXISTS"===Vt)throw Ln(I,"email-already-in-use",Ye);if("USER_DISABLED"===Vt)throw Ln(I,"user-disabled",Ye);const sr=T[Vt]||Vt.toLowerCase().replace(/[_\s]+/g,"-");if(Cn)throw pe(I,sr,Cn);xt(I,sr)}}catch(K){if(K instanceof k.ZR)throw K;xt(I,"network-request-failed")}})).apply(this,arguments)}function xn(I,y,v,T){return cr.apply(this,arguments)}function cr(){return(cr=(0,h.Z)(function*(I,y,v,T,K={}){const te=yield ve(I,y,v,T,K);return"mfaPendingCredential"in te&&xt(I,"multi-factor-auth-required",{_serverResponse:te}),te})).apply(this,arguments)}function kn(I,y,v,T){const K=`${y}${v}?${T}`;return I.config.emulator?tn(I.config,K):`${I.config.apiScheme}://${K}`}class Un{constructor(y){this.auth=y,this.timer=null,this.promise=new Promise((v,T)=>{this.timer=setTimeout(()=>T(Re(this.auth,"network-request-failed")),pt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ln(I,y,v){const T={appName:I.name};v.email&&(T.email=v.email),v.phoneNumber&&(T.phoneNumber=v.phoneNumber);const K=Re(I,y,T);return K.customData._tokenResponse=v,K}function Zn(){return(Zn=(0,h.Z)(function*(I,y){return ve(I,"POST","/v1/accounts:delete",y)})).apply(this,arguments)}function _t(I,y){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,h.Z)(function*(I,y){return ve(I,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function vn(I,y){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,h.Z)(function*(I,y){return ve(I,"POST","/v1/accounts:lookup",y)})).apply(this,arguments)}function mr(I){if(I)try{const y=new Date(Number(I));if(!isNaN(y.getTime()))return y.toUTCString()}catch{}}function at(){return(at=(0,h.Z)(function*(I,y=!1){const v=(0,k.m9)(I),T=yield v.getIdToken(y),K=le(T);Te(K&&K.exp&&K.auth_time&&K.iat,v.auth,"internal-error");const te="object"==typeof K.firebase?K.firebase:void 0,Ye=te?.sign_in_provider;return{claims:K,token:T,authTime:mr(_e(K.auth_time)),issuedAtTime:mr(_e(K.iat)),expirationTime:mr(_e(K.exp)),signInProvider:Ye||null,signInSecondFactor:te?.sign_in_second_factor||null}})).apply(this,arguments)}function _e(I){return 1e3*Number(I)}function le(I){var y;const[v,T,K]=I.split(".");if(void 0===v||void 0===T||void 0===K)return Me("JWT malformed, contained fewer than 3 sections"),null;try{const te=(0,k.tV)(T);return te?JSON.parse(te):(Me("Failed to decode base64 JWT payload"),null)}catch(te){return Me("Caught error parsing JWT payload as JSON",null===(y=te)||void 0===y?void 0:y.toString()),null}}function ot(I,y){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,h.Z)(function*(I,y,v=!1){if(v)return y;try{return yield y}catch(T){throw T instanceof k.ZR&&on(T)&&I.auth.currentUser===I&&(yield I.auth.signOut()),T}})).apply(this,arguments)}function on({code:I}){return"auth/user-disabled"===I||"auth/user-token-expired"===I}class Gt{constructor(y){this.user=y,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(y){var v;if(y){const T=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),T}{this.errorBackoff=3e4;const K=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(y=!1){var v=this;if(!this.isRunning)return;const T=this.getInterval(y);this.timerId=setTimeout((0,h.Z)(function*(){yield v.iteration()}),T)}iteration(){var y=this;return(0,h.Z)(function*(){var v;try{yield y.user.getIdToken(!0)}catch(T){return void("auth/network-request-failed"===(null===(v=T)||void 0===v?void 0:v.code)&&y.schedule(!0))}y.schedule()})()}}class Ot{constructor(y,v){this.createdAt=y,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=mr(this.lastLoginAt),this.creationTime=mr(this.createdAt)}_copy(y){this.createdAt=y.createdAt,this.lastLoginAt=y.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function zn(I){return ln.apply(this,arguments)}function ln(){return(ln=(0,h.Z)(function*(I){var y;const v=I.auth,T=yield I.getIdToken(),K=yield ot(I,vn(v,{idToken:T}));Te(K?.users.length,v,"internal-error");const te=K.users[0];I._notifyReloadListener(te);const Ye=null!==(y=te.providerUserInfo)&&void 0!==y&&y.length?he(te.providerUserInfo):[],Nt=Ee(I.providerData,Ye),sr=!!I.isAnonymous&&!(I.email&&te.passwordHash||Nt?.length),hi={uid:te.localId,displayName:te.displayName||null,photoURL:te.photoUrl||null,email:te.email||null,emailVerified:te.emailVerified||!1,phoneNumber:te.phoneNumber||null,tenantId:te.tenantId||null,providerData:Nt,metadata:new Ot(te.createdAt,te.lastLoginAt),isAnonymous:sr};Object.assign(I,hi)})).apply(this,arguments)}function mn(){return(mn=(0,h.Z)(function*(I){const y=(0,k.m9)(I);yield zn(y),yield y.auth._persistUserIfCurrent(y),y.auth._notifyListenersIfCurrent(y)})).apply(this,arguments)}function Ee(I,y){return[...I.filter(T=>!y.some(K=>K.providerId===T.providerId)),...y]}function he(I){return I.map(y=>{var{providerId:v}=y,T=(0,ce._T)(y,["providerId"]);return{providerId:v,uid:T.rawId||"",displayName:T.displayName||null,email:T.email||null,phoneNumber:T.phoneNumber||null,photoURL:T.photoUrl||null}})}function N(){return(N=(0,h.Z)(function*(I,y){const v=yield wn(I,{},(0,h.Z)(function*(){const T=(0,k.xO)({grant_type:"refresh_token",refresh_token:y}).slice(1),{tokenApiHost:K,apiKey:te}=I.config,Ye=kn(I,K,"/v1/token",`key=${te}`),Nt=yield I._getAdditionalHeaders();return Nt["Content-Type"]="application/x-www-form-urlencoded",En.fetch()(Ye,{method:"POST",headers:Nt,body:T})}));return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class j{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(y){Te(y.idToken,"internal-error"),Te(typeof y.idToken<"u","internal-error"),Te(typeof y.refreshToken<"u","internal-error");const v="expiresIn"in y&&typeof y.expiresIn<"u"?Number(y.expiresIn):function nt(I){const y=le(I);return Te(y,"internal-error"),Te(typeof y.exp<"u","internal-error"),Te(typeof y.iat<"u","internal-error"),Number(y.exp)-Number(y.iat)}(y.idToken);this.updateTokensAndExpiration(y.idToken,y.refreshToken,v)}getToken(y,v=!1){var T=this;return(0,h.Z)(function*(){return Te(!T.accessToken||T.refreshToken,y,"user-token-expired"),v||!T.accessToken||T.isExpired?T.refreshToken?(yield T.refresh(y,T.refreshToken),T.accessToken):null:T.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(y,v){var T=this;return(0,h.Z)(function*(){const{accessToken:K,refreshToken:te,expiresIn:Ye}=yield function q(I,y){return N.apply(this,arguments)}(y,v);T.updateTokensAndExpiration(K,te,Number(Ye))})()}updateTokensAndExpiration(y,v,T){this.refreshToken=v||null,this.accessToken=y||null,this.expirationTime=Date.now()+1e3*T}static fromJSON(y,v){const{refreshToken:T,accessToken:K,expirationTime:te}=v,Ye=new j;return T&&(Te("string"==typeof T,"internal-error",{appName:y}),Ye.refreshToken=T),K&&(Te("string"==typeof K,"internal-error",{appName:y}),Ye.accessToken=K),te&&(Te("number"==typeof te,"internal-error",{appName:y}),Ye.expirationTime=te),Ye}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(y){this.accessToken=y.accessToken,this.refreshToken=y.refreshToken,this.expirationTime=y.expirationTime}_clone(){return Object.assign(new j,this.toJSON())}_performRefresh(){return Ve("not implemented")}}function fe(I,y){Te("string"==typeof I||typeof I>"u","internal-error",{appName:y})}class We{constructor(y){var{uid:v,auth:T,stsTokenManager:K}=y,te=(0,ce._T)(y,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=T,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=te.displayName||null,this.email=te.email||null,this.emailVerified=te.emailVerified||!1,this.phoneNumber=te.phoneNumber||null,this.photoURL=te.photoURL||null,this.isAnonymous=te.isAnonymous||!1,this.tenantId=te.tenantId||null,this.providerData=te.providerData?[...te.providerData]:[],this.metadata=new Ot(te.createdAt||void 0,te.lastLoginAt||void 0)}getIdToken(y){var v=this;return(0,h.Z)(function*(){const T=yield ot(v,v.stsTokenManager.getToken(v.auth,y));return Te(T,v.auth,"internal-error"),v.accessToken!==T&&(v.accessToken=T,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),T})()}getIdTokenResult(y){return function Mn(I){return at.apply(this,arguments)}(this,y)}reload(){return function Er(I){return mn.apply(this,arguments)}(this)}_assign(y){this!==y&&(Te(this.uid===y.uid,this.auth,"internal-error"),this.displayName=y.displayName,this.photoURL=y.photoURL,this.email=y.email,this.emailVerified=y.emailVerified,this.phoneNumber=y.phoneNumber,this.isAnonymous=y.isAnonymous,this.tenantId=y.tenantId,this.providerData=y.providerData.map(v=>Object.assign({},v)),this.metadata._copy(y.metadata),this.stsTokenManager._assign(y.stsTokenManager))}_clone(y){return new We(Object.assign(Object.assign({},this),{auth:y,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(y){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=y,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(y){this.reloadListener?this.reloadListener(y):this.reloadUserInfo=y}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(y,v=!1){var T=this;return(0,h.Z)(function*(){let K=!1;y.idToken&&y.idToken!==T.stsTokenManager.accessToken&&(T.stsTokenManager.updateFromServerResponse(y),K=!0),v&&(yield zn(T)),yield T.auth._persistUserIfCurrent(T),K&&T.auth._notifyListenersIfCurrent(T)})()}delete(){var y=this;return(0,h.Z)(function*(){const v=yield y.getIdToken();return yield ot(y,function ar(I,y){return Zn.apply(this,arguments)}(y.auth,{idToken:v})),y.stsTokenManager.clearRefreshToken(),y.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(y=>Object.assign({},y)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(y,v){var T,K,te,Ye,Nt,Vt,Cn,sr;const hi=null!==(T=v.displayName)&&void 0!==T?T:void 0,ma=null!==(K=v.email)&&void 0!==K?K:void 0,ya=null!==(te=v.phoneNumber)&&void 0!==te?te:void 0,pc=null!==(Ye=v.photoURL)&&void 0!==Ye?Ye:void 0,ld=null!==(Nt=v.tenantId)&&void 0!==Nt?Nt:void 0,Ra=null!==(Vt=v._redirectEventId)&&void 0!==Vt?Vt:void 0,oa=null!==(Cn=v.createdAt)&&void 0!==Cn?Cn:void 0,al=null!==(sr=v.lastLoginAt)&&void 0!==sr?sr:void 0,{uid:gc,emailVerified:cd,isAnonymous:tu,providerData:ul,stsTokenManager:dd}=v;Te(gc&&dd,y,"internal-error");const Ds=j.fromJSON(this.name,dd);Te("string"==typeof gc,y,"internal-error"),fe(hi,y.name),fe(ma,y.name),Te("boolean"==typeof cd,y,"internal-error"),Te("boolean"==typeof tu,y,"internal-error"),fe(ya,y.name),fe(pc,y.name),fe(ld,y.name),fe(Ra,y.name),fe(oa,y.name),fe(al,y.name);const br=new We({uid:gc,auth:y,email:ma,emailVerified:cd,displayName:hi,isAnonymous:tu,photoURL:pc,phoneNumber:ya,tenantId:ld,stsTokenManager:Ds,createdAt:oa,lastLoginAt:al});return ul&&Array.isArray(ul)&&(br.providerData=ul.map(mc=>Object.assign({},mc))),Ra&&(br._redirectEventId=Ra),br}static _fromIdTokenResponse(y,v,T=!1){return(0,h.Z)(function*(){const K=new j;K.updateFromServerResponse(v);const te=new We({uid:v.localId,auth:y,stsTokenManager:K,isAnonymous:T});return yield zn(te),te})()}}const yn=(()=>{class I{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(v,T){var K=this;return(0,h.Z)(function*(){K.storage[v]=T})()}_get(v){var T=this;return(0,h.Z)(function*(){const K=T.storage[v];return void 0===K?null:K})()}_remove(v){var T=this;return(0,h.Z)(function*(){delete T.storage[v]})()}_addListener(v,T){}_removeListener(v,T){}}return I.type="NONE",I})();function nn(I,y,v){return`firebase:${I}:${y}:${v}`}class On{constructor(y,v,T){this.persistence=y,this.auth=v,this.userKey=T;const{config:K,name:te}=this.auth;this.fullUserKey=nn(this.userKey,K.apiKey,te),this.fullPersistenceKey=nn("persistence",K.apiKey,te),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(y){return this.persistence._set(this.fullUserKey,y.toJSON())}getCurrentUser(){var y=this;return(0,h.Z)(function*(){const v=yield y.persistence._get(y.fullUserKey);return v?We._fromJSON(y.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(y){var v=this;return(0,h.Z)(function*(){if(v.persistence===y)return;const T=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=y,T?v.setCurrentUser(T):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(y,v,T="authUser"){return(0,h.Z)(function*(){if(!v.length)return new On(Se(yn),y,T);const K=(yield Promise.all(v.map(function(){var Cn=(0,h.Z)(function*(sr){if(yield sr._isAvailable())return sr});return function(sr){return Cn.apply(this,arguments)}}()))).filter(Cn=>Cn);let te=K[0]||Se(yn);const Ye=nn(T,y.config.apiKey,y.name);let Nt=null;for(const Cn of v)try{const sr=yield Cn._get(Ye);if(sr){const hi=We._fromJSON(y,sr);Cn!==te&&(Nt=hi),te=Cn;break}}catch{}const Vt=K.filter(Cn=>Cn._shouldAllowMigration);return te._shouldAllowMigration&&Vt.length?(te=Vt[0],Nt&&(yield te._set(Ye,Nt.toJSON())),yield Promise.all(v.map(function(){var Cn=(0,h.Z)(function*(sr){if(sr!==te)try{yield sr._remove(Ye)}catch{}});return function(sr){return Cn.apply(this,arguments)}}())),new On(te,y,T)):new On(te,y,T)})()}}function $e(I){const y=I.toLowerCase();if(y.includes("opera/")||y.includes("opr/")||y.includes("opios/"))return"Opera";if(Ut(y))return"IEMobile";if(y.includes("msie")||y.includes("trident/"))return"IE";if(y.includes("edge/"))return"Edge";if(me(y))return"Firefox";if(y.includes("silk/"))return"Silk";if(pn(y))return"Blackberry";if(oe(y))return"Webos";if(ye(y))return"Safari";if((y.includes("chrome/")||ct(y))&&!y.includes("edge/"))return"Chrome";if(cn(y))return"Android";{const T=I.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===T?.length)return T[1]}return"Other"}function me(I=(0,k.z$)()){return/firefox\//i.test(I)}function ye(I=(0,k.z$)()){const y=I.toLowerCase();return y.includes("safari/")&&!y.includes("chrome/")&&!y.includes("crios/")&&!y.includes("android")}function ct(I=(0,k.z$)()){return/crios\//i.test(I)}function Ut(I=(0,k.z$)()){return/iemobile/i.test(I)}function cn(I=(0,k.z$)()){return/android/i.test(I)}function pn(I=(0,k.z$)()){return/blackberry/i.test(I)}function oe(I=(0,k.z$)()){return/webos/i.test(I)}function ue(I=(0,k.z$)()){return/iphone|ipad|ipod/i.test(I)||/macintosh/i.test(I)&&/mobile/i.test(I)}function ne(I=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(I)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(I)}function jt(I=(0,k.z$)()){return ue(I)||cn(I)||oe(I)||pn(I)||/windows phone/i.test(I)||Ut(I)}function Pn(I,y=[]){let v;switch(I){case"Browser":v=$e((0,k.z$)());break;case"Worker":v=`${$e((0,k.z$)())}-${I}`;break;default:v=I}const T=y.length?y.join(","):"FirebaseCore-web";return`${v}/JsCore/${H.SDK_VERSION}/${T}`}class wr{constructor(y){this.auth=y,this.queue=[]}pushCallback(y,v){const T=te=>new Promise((Ye,Nt)=>{try{Ye(y(te))}catch(Vt){Nt(Vt)}});T.onAbort=v,this.queue.push(T);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(y){var v=this;return(0,h.Z)(function*(){var T;if(v.auth.currentUser===y)return;const K=[];try{for(const te of v.queue)yield te(y),te.onAbort&&K.push(te.onAbort)}catch(te){K.reverse();for(const Ye of K)try{Ye()}catch{}throw v.auth._errorFactory.create("login-blocked",{originalMessage:null===(T=te)||void 0===T?void 0:T.message})}})()}}class oi{constructor(y,v,T){this.app=y,this.heartbeatServiceProvider=v,this.config=T,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new qr(this),this.idTokenSubscription=new qr(this),this.beforeStateQueue=new wr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Mt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=y.name,this.clientVersion=T.sdkClientVersion}_initializeWithPersistence(y,v){var T=this;return v&&(this._popupRedirectResolver=Se(v)),this._initializationPromise=this.queue((0,h.Z)(function*(){var K,te;if(!T._deleted&&(T.persistenceManager=yield On.create(T,y),!T._deleted)){if(null!==(K=T._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield T._popupRedirectResolver._initialize(T)}catch{}yield T.initializeCurrentUser(v),T.lastNotifiedUid=(null===(te=T.currentUser)||void 0===te?void 0:te.uid)||null,!T._deleted&&(T._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var y=this;return(0,h.Z)(function*(){if(y._deleted)return;const v=yield y.assertedPersistence.getCurrentUser();if(y.currentUser||v){if(y.currentUser&&v&&y.currentUser.uid===v.uid)return y._currentUser._assign(v),void(yield y.currentUser.getIdToken());yield y._updateCurrentUser(v,!0)}})()}initializeCurrentUser(y){var v=this;return(0,h.Z)(function*(){var T;const K=yield v.assertedPersistence.getCurrentUser();let te=K,Ye=!1;if(y&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const Nt=null===(T=v.redirectUser)||void 0===T?void 0:T._redirectEventId,Vt=te?._redirectEventId,Cn=yield v.tryRedirectSignIn(y);(!Nt||Nt===Vt)&&Cn?.user&&(te=Cn.user,Ye=!0)}if(!te)return v.directlySetCurrentUser(null);if(!te._redirectEventId){if(Ye)try{yield v.beforeStateQueue.runMiddleware(te)}catch(Nt){te=K,v._popupRedirectResolver._overrideRedirectResult(v,()=>Promise.reject(Nt))}return te?v.reloadAndSetCurrentUserOrClear(te):v.directlySetCurrentUser(null)}return Te(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===te._redirectEventId?v.directlySetCurrentUser(te):v.reloadAndSetCurrentUserOrClear(te)})()}tryRedirectSignIn(y){var v=this;return(0,h.Z)(function*(){let T=null;try{T=yield v._popupRedirectResolver._completeRedirectFn(v,y,!0)}catch{yield v._setRedirectUser(null)}return T})()}reloadAndSetCurrentUserOrClear(y){var v=this;return(0,h.Z)(function*(){var T;try{yield zn(y)}catch(K){if("auth/network-request-failed"!==(null===(T=K)||void 0===T?void 0:T.code))return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(y)})()}useDeviceLanguage(){this.languageCode=function zt(){if(typeof navigator>"u")return null;const I=navigator;return I.languages&&I.languages[0]||I.language||null}()}_delete(){var y=this;return(0,h.Z)(function*(){y._deleted=!0})()}updateCurrentUser(y){var v=this;return(0,h.Z)(function*(){const T=y?(0,k.m9)(y):null;return T&&Te(T.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(T&&T._clone(v))})()}_updateCurrentUser(y,v=!1){var T=this;return(0,h.Z)(function*(){if(!T._deleted)return y&&Te(T.tenantId===y.tenantId,T,"tenant-id-mismatch"),v||(yield T.beforeStateQueue.runMiddleware(y)),T.queue((0,h.Z)(function*(){yield T.directlySetCurrentUser(y),T.notifyAuthListeners()}))})()}signOut(){var y=this;return(0,h.Z)(function*(){return yield y.beforeStateQueue.runMiddleware(null),(y.redirectPersistenceManager||y._popupRedirectResolver)&&(yield y._setRedirectUser(null)),y._updateCurrentUser(null,!0)})()}setPersistence(y){var v=this;return this.queue((0,h.Z)(function*(){yield v.assertedPersistence.setPersistence(Se(y))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(y){this._errorFactory=new k.LL("auth","Firebase",y())}onAuthStateChanged(y,v,T){return this.registerStateListener(this.authStateSubscription,y,v,T)}beforeAuthStateChanged(y,v){return this.beforeStateQueue.pushCallback(y,v)}onIdTokenChanged(y,v,T){return this.registerStateListener(this.idTokenSubscription,y,v,T)}toJSON(){var y;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(y=this._currentUser)||void 0===y?void 0:y.toJSON()}}_setRedirectUser(y,v){var T=this;return(0,h.Z)(function*(){const K=yield T.getOrInitRedirectPersistenceManager(v);return null===y?K.removeCurrentUser():K.setCurrentUser(y)})()}getOrInitRedirectPersistenceManager(y){var v=this;return(0,h.Z)(function*(){if(!v.redirectPersistenceManager){const T=y&&Se(y)||v._popupRedirectResolver;Te(T,v,"argument-error"),v.redirectPersistenceManager=yield On.create(v,[Se(T._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(y){var v=this;return(0,h.Z)(function*(){var T,K;return v._isInitialized&&(yield v.queue((0,h.Z)(function*(){}))),(null===(T=v._currentUser)||void 0===T?void 0:T._redirectEventId)===y?v._currentUser:(null===(K=v.redirectUser)||void 0===K?void 0:K._redirectEventId)===y?v.redirectUser:null})()}_persistUserIfCurrent(y){var v=this;return(0,h.Z)(function*(){if(y===v.currentUser)return v.queue((0,h.Z)(function*(){return v.directlySetCurrentUser(y)}))})()}_notifyListenersIfCurrent(y){y===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var y,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const T=null!==(v=null===(y=this.currentUser)||void 0===y?void 0:y.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==T&&(this.lastNotifiedUid=T,this.authStateSubscription.next(this.currentUser))}registerStateListener(y,v,T,K){if(this._deleted)return()=>{};const te="function"==typeof v?v:v.next.bind(v),Ye=this._isInitialized?Promise.resolve():this._initializationPromise;return Te(Ye,this,"internal-error"),Ye.then(()=>te(this.currentUser)),"function"==typeof v?y.addObserver(v,T,K):y.addObserver(v)}directlySetCurrentUser(y){var v=this;return(0,h.Z)(function*(){v.currentUser&&v.currentUser!==y&&v._currentUser._stopProactiveRefresh(),y&&v.isProactiveRefreshEnabled&&y._startProactiveRefresh(),v.currentUser=y,y?yield v.assertedPersistence.setCurrentUser(y):yield v.assertedPersistence.removeCurrentUser()})()}queue(y){return this.operations=this.operations.then(y,y),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(y){!y||this.frameworks.includes(y)||(this.frameworks.push(y),this.frameworks.sort(),this.clientVersion=Pn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var y=this;return(0,h.Z)(function*(){var v;const T={"X-Client-Version":y.clientVersion};y.app.options.appId&&(T["X-Firebase-gmpid"]=y.app.options.appId);const K=yield null===(v=y.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===v?void 0:v.getHeartbeatsHeader();return K&&(T["X-Firebase-Client"]=K),T})()}}function hn(I){return(0,k.m9)(I)}class qr{constructor(y){this.auth=y,this.observer=null,this.addObserver=(0,k.ne)(v=>this.observer=v)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Wn(I,y,v){const T=hn(I);Te(T._canInitEmulator,T,"emulator-config-failed"),Te(/^https?:\/\//.test(y),T,"invalid-emulator-scheme");const K=!!v?.disableWarnings,te=ki(y),{host:Ye,port:Nt}=function Fi(I){const y=ki(I),v=/(\/\/)?([^?#/]+)/.exec(I.substr(y.length));if(!v)return{host:"",port:null};const T=v[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(T);if(K){const te=K[1];return{host:te,port:yr(T.substr(te.length+1))}}{const[te,Ye]=T.split(":");return{host:te,port:yr(Ye)}}}(y);T.config.emulator={url:`${te}//${Ye}${null===Nt?"":`:${Nt}`}/`},T.settings.appVerificationDisabledForTesting=!0,T.emulatorConfig=Object.freeze({host:Ye,port:Nt,protocol:te.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function Ts(){function I(){const y=document.createElement("p"),v=y.style;y.innerText="Running in emulator mode. Do not use with production credentials.",v.position="fixed",v.width="100%",v.backgroundColor="#ffffff",v.border=".1em solid #000000",v.color="#b50000",v.bottom="0px",v.left="0px",v.margin="0px",v.zIndex="10000",v.textAlign="center",y.classList.add("firebase-emulator-warning"),document.body.appendChild(y)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",I):I())}()}function ki(I){const y=I.indexOf(":");return y<0?"":I.substr(0,y+1)}function yr(I){if(!I)return null;const y=Number(I);return isNaN(y)?null:y}class Ur{constructor(y,v){this.providerId=y,this.signInMethod=v}toJSON(){return Ve("not implemented")}_getIdTokenResponse(y){return Ve("not implemented")}_linkToIdToken(y,v){return Ve("not implemented")}_getReauthenticationResolver(y){return Ve("not implemented")}}function Zr(I,y){return jr.apply(this,arguments)}function jr(){return(jr=(0,h.Z)(function*(I,y){return ve(I,"POST","/v1/accounts:resetPassword",Ie(I,y))})).apply(this,arguments)}function wo(I,y){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,h.Z)(function*(I,y){return ve(I,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Ao(I,y){return pi.apply(this,arguments)}function pi(){return(pi=(0,h.Z)(function*(I,y){return ve(I,"POST","/v1/accounts:update",Ie(I,y))})).apply(this,arguments)}function Ii(){return(Ii=(0,h.Z)(function*(I,y){return xn(I,"POST","/v1/accounts:signInWithPassword",Ie(I,y))})).apply(this,arguments)}function Gi(I,y){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,h.Z)(function*(I,y){return ve(I,"POST","/v1/accounts:sendOobCode",Ie(I,y))})).apply(this,arguments)}function ke(I,y){return ze.apply(this,arguments)}function ze(){return(ze=(0,h.Z)(function*(I,y){return Gi(I,y)})).apply(this,arguments)}function yt(I,y){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,h.Z)(function*(I,y){return Gi(I,y)})).apply(this,arguments)}function Wt(I,y){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,h.Z)(function*(I,y){return Gi(I,y)})).apply(this,arguments)}function Sr(I,y){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,h.Z)(function*(I,y){return Gi(I,y)})).apply(this,arguments)}function rs(){return(rs=(0,h.Z)(function*(I,y){return xn(I,"POST","/v1/accounts:signInWithEmailLink",Ie(I,y))})).apply(this,arguments)}function Ss(){return(Ss=(0,h.Z)(function*(I,y){return xn(I,"POST","/v1/accounts:signInWithEmailLink",Ie(I,y))})).apply(this,arguments)}class gi extends Ur{constructor(y,v,T,K=null){super("password",T),this._email=y,this._password=v,this._tenantId=K}static _fromEmailAndPassword(y,v){return new gi(y,v,"password")}static _fromEmailAndCode(y,v,T=null){return new gi(y,v,"emailLink",T)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y;if(v?.email&&v?.password){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(y){var v=this;return(0,h.Z)(function*(){switch(v.signInMethod){case"password":return function zs(I,y){return Ii.apply(this,arguments)}(y,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Ir(I,y){return rs.apply(this,arguments)}(y,{email:v._email,oobCode:v._password});default:xt(y,"internal-error")}})()}_linkToIdToken(y,v){var T=this;return(0,h.Z)(function*(){switch(T.signInMethod){case"password":return wo(y,{idToken:v,returnSecureToken:!0,email:T._email,password:T._password});case"emailLink":return function Ho(I,y){return Ss.apply(this,arguments)}(y,{idToken:v,email:T._email,oobCode:T._password});default:xt(y,"internal-error")}})()}_getReauthenticationResolver(y){return this._getIdTokenResponse(y)}}function Ws(I,y){return zi.apply(this,arguments)}function zi(){return(zi=(0,h.Z)(function*(I,y){return xn(I,"POST","/v1/accounts:signInWithIdp",Ie(I,y))})).apply(this,arguments)}class Wi extends Ur{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(y){const v=new Wi(y.providerId,y.signInMethod);return y.idToken||y.accessToken?(y.idToken&&(v.idToken=y.idToken),y.accessToken&&(v.accessToken=y.accessToken),y.nonce&&!y.pendingToken&&(v.nonce=y.nonce),y.pendingToken&&(v.pendingToken=y.pendingToken)):y.oauthToken&&y.oauthTokenSecret?(v.accessToken=y.oauthToken,v.secret=y.oauthTokenSecret):xt("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y,{providerId:T,signInMethod:K}=v,te=(0,ce._T)(v,["providerId","signInMethod"]);if(!T||!K)return null;const Ye=new Wi(T,K);return Ye.idToken=te.idToken||void 0,Ye.accessToken=te.accessToken||void 0,Ye.secret=te.secret,Ye.nonce=te.nonce,Ye.pendingToken=te.pendingToken||null,Ye}_getIdTokenResponse(y){return Ws(y,this.buildRequest())}_linkToIdToken(y,v){const T=this.buildRequest();return T.idToken=v,Ws(y,T)}_getReauthenticationResolver(y){const v=this.buildRequest();return v.autoCreate=!1,Ws(y,v)}buildRequest(){const y={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)y.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),y.postBody=(0,k.xO)(v)}return y}}function Mo(I,y){return Io.apply(this,arguments)}function Io(){return(Io=(0,h.Z)(function*(I,y){return ve(I,"POST","/v1/accounts:sendVerificationCode",Ie(I,y))})).apply(this,arguments)}function Ks(){return(Ks=(0,h.Z)(function*(I,y){return xn(I,"POST","/v1/accounts:signInWithPhoneNumber",Ie(I,y))})).apply(this,arguments)}function Di(){return(Di=(0,h.Z)(function*(I,y){const v=yield xn(I,"POST","/v1/accounts:signInWithPhoneNumber",Ie(I,y));if(v.temporaryProof)throw Ln(I,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const Do={USER_NOT_FOUND:"user-not-found"};function Ci(){return(Ci=(0,h.Z)(function*(I,y){return xn(I,"POST","/v1/accounts:signInWithPhoneNumber",Ie(I,Object.assign(Object.assign({},y),{operation:"REAUTH"})),Do)})).apply(this,arguments)}class mi extends Ur{constructor(y){super("phone","phone"),this.params=y}static _fromVerification(y,v){return new mi({verificationId:y,verificationCode:v})}static _fromTokenResponse(y,v){return new mi({phoneNumber:y,temporaryProof:v})}_getIdTokenResponse(y){return function xo(I,y){return Ks.apply(this,arguments)}(y,this._makeVerificationRequest())}_linkToIdToken(y,v){return function ps(I,y){return Di.apply(this,arguments)}(y,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(y){return function qs(I,y){return Ci.apply(this,arguments)}(y,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:y,phoneNumber:v,verificationId:T,verificationCode:K}=this.params;return y&&v?{temporaryProof:y,phoneNumber:v}:{sessionInfo:T,code:K}}toJSON(){const y={providerId:this.providerId};return this.params.phoneNumber&&(y.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(y.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(y.verificationCode=this.params.verificationCode),this.params.verificationId&&(y.verificationId=this.params.verificationId),y}static fromJSON(y){"string"==typeof y&&(y=JSON.parse(y));const{verificationId:v,verificationCode:T,phoneNumber:K,temporaryProof:te}=y;return T||v||K||te?new mi({verificationId:v,verificationCode:T,phoneNumber:K,temporaryProof:te}):null}}class qi{constructor(y){var v,T,K,te,Ye,Nt;const Vt=(0,k.zd)((0,k.pd)(y)),Cn=null!==(v=Vt.apiKey)&&void 0!==v?v:null,sr=null!==(T=Vt.oobCode)&&void 0!==T?T:null,hi=function Ki(I){switch(I){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=Vt.mode)&&void 0!==K?K:null);Te(Cn&&sr&&hi,"argument-error"),this.apiKey=Cn,this.operation=hi,this.code=sr,this.continueUrl=null!==(te=Vt.continueUrl)&&void 0!==te?te:null,this.languageCode=null!==(Ye=Vt.languageCode)&&void 0!==Ye?Ye:null,this.tenantId=null!==(Nt=Vt.tenantId)&&void 0!==Nt?Nt:null}static parseLink(y){const v=function oo(I){const y=(0,k.zd)((0,k.pd)(I)).link,v=y?(0,k.zd)((0,k.pd)(y)).deep_link_id:null,T=(0,k.zd)((0,k.pd)(I)).deep_link_id;return(T?(0,k.zd)((0,k.pd)(T)).link:null)||T||v||y||I}(y);try{return new qi(v)}catch{return null}}}let As=(()=>{class I{constructor(){this.providerId=I.PROVIDER_ID}static credential(v,T){return gi._fromEmailAndPassword(v,T)}static credentialWithLink(v,T){const K=qi.parseLink(T);return Te(K,"argument-error"),gi._fromEmailAndCode(v,K.code,K.tenantId)}}return I.PROVIDER_ID="password",I.EMAIL_PASSWORD_SIGN_IN_METHOD="password",I.EMAIL_LINK_SIGN_IN_METHOD="emailLink",I})();class Dr{constructor(y){this.providerId=y,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(y){this.defaultLanguageCode=y}setCustomParameters(y){return this.customParameters=y,this}getCustomParameters(){return this.customParameters}}class Li extends Dr{constructor(){super(...arguments),this.scopes=[]}addScope(y){return this.scopes.includes(y)||this.scopes.push(y),this}getScopes(){return[...this.scopes]}}class is extends Li{static credentialFromJSON(y){const v="string"==typeof y?JSON.parse(y):y;return Te("providerId"in v&&"signInMethod"in v,"argument-error"),Wi._fromParams(v)}credential(y){return this._credential(Object.assign(Object.assign({},y),{nonce:y.rawNonce}))}_credential(y){return Te(y.idToken||y.accessToken,"argument-error"),Wi._fromParams(Object.assign(Object.assign({},y),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(y){return is.oauthCredentialFromTaggedObject(y)}static credentialFromError(y){return is.oauthCredentialFromTaggedObject(y.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{oauthIdToken:v,oauthAccessToken:T,oauthTokenSecret:K,pendingToken:te,nonce:Ye,providerId:Nt}=y;if(!T&&!K&&!v&&!te||!Nt)return null;try{return new is(Nt)._credential({idToken:v,accessToken:T,nonce:Ye,pendingToken:te})}catch{return null}}}let bi=(()=>{class I extends Li{constructor(){super("facebook.com")}static credential(v){return Wi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.FACEBOOK_SIGN_IN_METHOD="facebook.com",I.PROVIDER_ID="facebook.com",I})(),ss=(()=>{class I extends Li{constructor(){super("google.com"),this.addScope("profile")}static credential(v,T){return Wi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:T})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:T,oauthAccessToken:K}=v;if(!T&&!K)return null;try{return I.credential(T,K)}catch{return null}}}return I.GOOGLE_SIGN_IN_METHOD="google.com",I.PROVIDER_ID="google.com",I})(),Zi=(()=>{class I extends Li{constructor(){super("github.com")}static credential(v){return Wi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return I.credential(v.oauthAccessToken)}catch{return null}}}return I.GITHUB_SIGN_IN_METHOD="github.com",I.PROVIDER_ID="github.com",I})();class gs extends Ur{constructor(y,v){super(y,y),this.pendingToken=v}_getIdTokenResponse(y){return Ws(y,this.buildRequest())}_linkToIdToken(y,v){const T=this.buildRequest();return T.idToken=v,Ws(y,T)}_getReauthenticationResolver(y){const v=this.buildRequest();return v.autoCreate=!1,Ws(y,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(y){const v="string"==typeof y?JSON.parse(y):y,{providerId:T,signInMethod:K,pendingToken:te}=v;return T&&K&&te&&T===K?new gs(T,te):null}static _create(y,v){return new gs(y,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class nr extends Dr{constructor(y){Te(y.startsWith("saml."),"argument-error"),super(y)}static credentialFromResult(y){return nr.samlCredentialFromTaggedObject(y)}static credentialFromError(y){return nr.samlCredentialFromTaggedObject(y.customData||{})}static credentialFromJSON(y){const v=gs.fromJSON(y);return Te(v,"argument-error"),v}static samlCredentialFromTaggedObject({_tokenResponse:y}){if(!y)return null;const{pendingToken:v,providerId:T}=y;if(!v||!T)return null;try{return gs._create(T,v)}catch{return null}}}let Ti=(()=>{class I extends Li{constructor(){super("twitter.com")}static credential(v,T){return Wi._fromParams({providerId:I.PROVIDER_ID,signInMethod:I.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:T})}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:T,oauthTokenSecret:K}=v;if(!T||!K)return null;try{return I.credential(T,K)}catch{return null}}}return I.TWITTER_SIGN_IN_METHOD="twitter.com",I.PROVIDER_ID="twitter.com",I})();function yi(I,y){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,h.Z)(function*(I,y){return xn(I,"POST","/v1/accounts:signUp",Ie(I,y))})).apply(this,arguments)}class ai{constructor(y){this.user=y.user,this.providerId=y.providerId,this._tokenResponse=y._tokenResponse,this.operationType=y.operationType}static _fromIdTokenResponse(y,v,T,K=!1){return(0,h.Z)(function*(){const te=yield We._fromIdTokenResponse(y,T,K),Ye=Si(T);return new ai({user:te,providerId:Ye,_tokenResponse:T,operationType:v})})()}static _forOperation(y,v,T){return(0,h.Z)(function*(){yield y._updateTokensIfNecessary(T,!0);const K=Si(T);return new ai({user:y,providerId:K,_tokenResponse:T,operationType:v})})()}}function Si(I){return I.providerId?I.providerId:"phoneNumber"in I?"phone":null}function ao(I){return uo.apply(this,arguments)}function uo(){return(uo=(0,h.Z)(function*(I){var y;const v=hn(I);if(yield v._initializationPromise,null!==(y=v.currentUser)&&void 0!==y&&y.isAnonymous)return new ai({user:v.currentUser,providerId:null,operationType:"signIn"});const T=yield yi(v,{returnSecureToken:!0}),K=yield ai._fromIdTokenResponse(v,"signIn",T,!0);return yield v._updateCurrentUser(K.user),K})).apply(this,arguments)}class kr extends k.ZR{constructor(y,v,T,K){var te;super(v.code,v.message),this.operationType=T,this.user=K,Object.setPrototypeOf(this,kr.prototype),this.customData={appName:y.name,tenantId:null!==(te=y.tenantId)&&void 0!==te?te:void 0,_serverResponse:v.customData._serverResponse,operationType:T}}static _fromErrorAndOperation(y,v,T,K){return new kr(y,v,T,K)}}function Ro(I,y,v,T){return("reauthenticate"===y?v._getReauthenticationResolver(I):v._getIdTokenResponse(I)).catch(te=>{throw"auth/multi-factor-auth-required"===te.code?kr._fromErrorAndOperation(I,te,y,T):te})}function lo(I){return new Set(I.map(({providerId:y})=>y).filter(y=>!!y))}function ui(I,y){return xr.apply(this,arguments)}function xr(){return(xr=(0,h.Z)(function*(I,y){const v=(0,k.m9)(I);yield Ai(!0,v,y);const{providerUserInfo:T}=yield _t(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[y]}),K=lo(T||[]);return v.providerData=v.providerData.filter(te=>K.has(te.providerId)),K.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function Qr(I,y){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,h.Z)(function*(I,y,v=!1){const T=yield ot(I,y._linkToIdToken(I.auth,yield I.getIdToken()),v);return ai._forOperation(I,"link",T)})).apply(this,arguments)}function Ai(I,y,v){return jn.apply(this,arguments)}function jn(){return(jn=(0,h.Z)(function*(I,y,v){yield zn(y);const K=!1===I?"provider-already-linked":"no-such-provider";Te(lo(y.providerData).has(v)===I,y.auth,K)})).apply(this,arguments)}function Vi(I,y){return os.apply(this,arguments)}function os(){return(os=(0,h.Z)(function*(I,y,v=!1){var T;const{auth:K}=I,te="reauthenticate";try{const Ye=yield ot(I,Ro(K,te,y,I),v);Te(Ye.idToken,K,"internal-error");const Nt=le(Ye.idToken);Te(Nt,K,"internal-error");const{sub:Vt}=Nt;return Te(I.uid===Vt,K,"user-mismatch"),ai._forOperation(I,te,Ye)}catch(Ye){throw"auth/user-not-found"===(null===(T=Ye)||void 0===T?void 0:T.code)&&xt(K,"user-mismatch"),Ye}})).apply(this,arguments)}function zo(I,y){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,h.Z)(function*(I,y,v=!1){const T="signIn",K=yield Ro(I,T,y),te=yield ai._fromIdTokenResponse(I,T,K);return v||(yield I._updateCurrentUser(te.user)),te})).apply(this,arguments)}function Xr(I,y){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,h.Z)(function*(I,y){return zo(hn(I),y)})).apply(this,arguments)}function Tn(I,y){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,h.Z)(function*(I,y){const v=(0,k.m9)(I);return yield Ai(!1,v,y.providerId),Qr(v,y)})).apply(this,arguments)}function No(I,y){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,h.Z)(function*(I,y){return Vi((0,k.m9)(I),y)})).apply(this,arguments)}function li(I,y){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,h.Z)(function*(I,y){return xn(I,"POST","/v1/accounts:signInWithCustomToken",Ie(I,y))})).apply(this,arguments)}function Ji(I,y){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,h.Z)(function*(I,y){const v=hn(I),T=yield li(v,{token:y,returnSecureToken:!0}),K=yield ai._fromIdTokenResponse(v,"signIn",T);return yield v._updateCurrentUser(K.user),K})).apply(this,arguments)}class as{constructor(y,v){this.factorId=y,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(y,v){return"phoneInfo"in v?bt._fromServerResponse(y,v):xt(y,"internal-error")}}class bt extends as{constructor(y){super("phone",y),this.phoneNumber=y.phoneInfo}static _fromServerResponse(y,v){return new bt(v)}}function Vn(I,y,v){var T;Te((null===(T=v.url)||void 0===T?void 0:T.length)>0,I,"invalid-continue-uri"),Te(typeof v.dynamicLinkDomain>"u"||v.dynamicLinkDomain.length>0,I,"invalid-dynamic-link-domain"),y.continueUrl=v.url,y.dynamicLinkDomain=v.dynamicLinkDomain,y.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Te(v.iOS.bundleId.length>0,I,"missing-ios-bundle-id"),y.iOSBundleId=v.iOS.bundleId),v.android&&(Te(v.android.packageName.length>0,I,"missing-android-pkg-name"),y.androidInstallApp=v.android.installApp,y.androidMinimumVersionCode=v.android.minimumVersion,y.androidPackageName=v.android.packageName)}function us(I,y,v){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,h.Z)(function*(I,y,v){const T=(0,k.m9)(I),K={requestType:"PASSWORD_RESET",email:y};v&&Vn(T,K,v),yield yt(T,K)})).apply(this,arguments)}function Nr(I,y,v){return xs.apply(this,arguments)}function xs(){return(xs=(0,h.Z)(function*(I,y,v){yield Zr((0,k.m9)(I),{oobCode:y,newPassword:v})})).apply(this,arguments)}function Ys(I,y){return vi.apply(this,arguments)}function vi(){return(vi=(0,h.Z)(function*(I,y){yield Ao((0,k.m9)(I),{oobCode:y})})).apply(this,arguments)}function rr(I,y){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,h.Z)(function*(I,y){const v=(0,k.m9)(I),T=yield Zr(v,{oobCode:y}),K=T.requestType;switch(Te(K,v,"internal-error"),K){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Te(T.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Te(T.mfaInfo,v,"internal-error");default:Te(T.email,v,"internal-error")}let te=null;return T.mfaInfo&&(te=as._fromServerResponse(hn(v),T.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.newEmail:T.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===T.requestType?T.email:T.newEmail)||null,multiFactorInfo:te},operation:K}})).apply(this,arguments)}function Jo(I,y){return Js.apply(this,arguments)}function Js(){return(Js=(0,h.Z)(function*(I,y){const{data:v}=yield rr((0,k.m9)(I),y);return v.email})).apply(this,arguments)}function L(I,y,v){return P.apply(this,arguments)}function P(){return(P=(0,h.Z)(function*(I,y,v){const T=hn(I),K=yield yi(T,{returnSecureToken:!0,email:y,password:v}),te=yield ai._fromIdTokenResponse(T,"signIn",K);return yield T._updateCurrentUser(te.user),te})).apply(this,arguments)}function M(I,y,v){return Xr((0,k.m9)(I),As.credential(y,v))}function Y(I,y,v){return ut.apply(this,arguments)}function ut(){return(ut=(0,h.Z)(function*(I,y,v){const T=(0,k.m9)(I),K={requestType:"EMAIL_SIGNIN",email:y};Te(v.handleCodeInApp,T,"argument-error"),v&&Vn(T,K,v),yield Wt(T,K)})).apply(this,arguments)}function qt(I,y){return"EMAIL_SIGNIN"===qi.parseLink(y)?.operation}function ur(I,y,v){return $r.apply(this,arguments)}function $r(){return($r=(0,h.Z)(function*(I,y,v){const T=(0,k.m9)(I),K=As.credentialWithLink(y,v||dt());return Te(K._tenantId===(T.tenantId||null),T,"tenant-id-mismatch"),Xr(T,K)})).apply(this,arguments)}function ms(I,y){return ys.apply(this,arguments)}function ys(){return(ys=(0,h.Z)(function*(I,y){return ve(I,"POST","/v1/accounts:createAuthUri",Ie(I,y))})).apply(this,arguments)}function Rs(I,y){return ji.apply(this,arguments)}function ji(){return(ji=(0,h.Z)(function*(I,y){const T={identifier:y,continueUri:It()?dt():"http://localhost"},{signinMethods:K}=yield ms((0,k.m9)(I),T);return K||[]})).apply(this,arguments)}function co(I,y){return bo.apply(this,arguments)}function bo(){return(bo=(0,h.Z)(function*(I,y){const v=(0,k.m9)(I),K={requestType:"VERIFY_EMAIL",idToken:yield I.getIdToken()};y&&Vn(v.auth,K,y);const{email:te}=yield ke(v.auth,K);te!==I.email&&(yield I.reload())})).apply(this,arguments)}function ks(I,y,v){return ho.apply(this,arguments)}function ho(){return(ho=(0,h.Z)(function*(I,y,v){const T=(0,k.m9)(I),te={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield I.getIdToken(),newEmail:y};v&&Vn(T.auth,te,v);const{email:Ye}=yield Sr(T.auth,te);Ye!==I.email&&(yield I.reload())})).apply(this,arguments)}function Oo(I,y){return vs.apply(this,arguments)}function vs(){return(vs=(0,h.Z)(function*(I,y){return ve(I,"POST","/v1/accounts:update",y)})).apply(this,arguments)}function Fa(I,y){return Po.apply(this,arguments)}function Po(){return(Po=(0,h.Z)(function*(I,{displayName:y,photoURL:v}){if(void 0===y&&void 0===v)return;const T=(0,k.m9)(I),te={idToken:yield T.getIdToken(),displayName:y,photoUrl:v,returnSecureToken:!0},Ye=yield ot(T,Oo(T.auth,te));T.displayName=Ye.displayName||null,T.photoURL=Ye.photoUrl||null;const Nt=T.providerData.find(({providerId:Vt})=>"password"===Vt);Nt&&(Nt.displayName=T.displayName,Nt.photoURL=T.photoURL),yield T._updateTokensIfNecessary(Ye)})).apply(this,arguments)}function Wo(I,y){return G((0,k.m9)(I),y,null)}function x(I,y){return G((0,k.m9)(I),null,y)}function G(I,y,v){return R.apply(this,arguments)}function R(){return(R=(0,h.Z)(function*(I,y,v){const{auth:T}=I,te={idToken:yield I.getIdToken(),returnSecureToken:!0};y&&(te.email=y),v&&(te.password=v);const Ye=yield ot(I,wo(T,te));yield I._updateTokensIfNecessary(Ye,!0)})).apply(this,arguments)}class ge{constructor(y,v,T={}){this.isNewUser=y,this.providerId=v,this.profile=T}}class rt extends ge{constructor(y,v,T,K){super(y,v,T),this.username=K}}class mt extends ge{constructor(y,v){super(y,"facebook.com",v)}}class Xt extends rt{constructor(y,v){super(y,"github.com",v,"string"==typeof v?.login?v?.login:null)}}class Qn extends ge{constructor(y,v){super(y,"google.com",v)}}class fr extends rt{constructor(y,v,T){super(y,"twitter.com",v,T)}}function lr(I){const{user:y,_tokenResponse:v}=I;return y.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function Z(I){var y,v;if(!I)return null;const{providerId:T}=I,K=I.rawUserInfo?JSON.parse(I.rawUserInfo):{},te=I.isNewUser||"identitytoolkit#SignupNewUserResponse"===I.kind;if(!T&&I?.idToken){const Ye=null===(v=null===(y=le(I.idToken))||void 0===y?void 0:y.firebase)||void 0===v?void 0:v.sign_in_provider;if(Ye)return new ge(te,"anonymous"!==Ye&&"custom"!==Ye?Ye:null)}if(!T)return null;switch(T){case"facebook.com":return new mt(te,K);case"github.com":return new Xt(te,K);case"google.com":return new Qn(te,K);case"twitter.com":return new fr(te,K,I.screenName||null);case"custom":case"anonymous":return new ge(te,null);default:return new ge(te,T,K)}}(v)}function Hr(I,y,v,T){return(0,k.m9)(I).onIdTokenChanged(y,v,T)}function xi(I){return(0,k.m9)(I).signOut()}class Xi{constructor(y,v){this.type=y,this.credential=v}static _fromIdtoken(y){return new Xi("enroll",y)}static _fromMfaPendingCredential(y){return new Xi("signin",y)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(y){var v,T;if(y?.multiFactorSession){if(null!==(v=y.multiFactorSession)&&void 0!==v&&v.pendingCredential)return Xi._fromMfaPendingCredential(y.multiFactorSession.pendingCredential);if(null!==(T=y.multiFactorSession)&&void 0!==T&&T.idToken)return Xi._fromIdtoken(y.multiFactorSession.idToken)}return null}}class Xo{constructor(y,v,T){this.session=y,this.hints=v,this.signInResolver=T}static _fromError(y,v){const T=hn(y),K=v.customData._serverResponse,te=(K.mfaInfo||[]).map(Nt=>as._fromServerResponse(T,Nt));Te(K.mfaPendingCredential,T,"internal-error");const Ye=Xi._fromMfaPendingCredential(K.mfaPendingCredential);return new Xo(Ye,te,function(){var Nt=(0,h.Z)(function*(Vt){const Cn=yield Vt._process(T,Ye);delete K.mfaInfo,delete K.mfaPendingCredential;const sr=Object.assign(Object.assign({},K),{idToken:Cn.idToken,refreshToken:Cn.refreshToken});switch(v.operationType){case"signIn":const hi=yield ai._fromIdTokenResponse(T,v.operationType,sr);return yield T._updateCurrentUser(hi.user),hi;case"reauthenticate":return Te(v.user,T,"internal-error"),ai._forOperation(v.user,v.operationType,sr);default:xt(T,"internal-error")}});return function(Vt){return Nt.apply(this,arguments)}}())}resolveSignIn(y){var v=this;return(0,h.Z)(function*(){return v.signInResolver(y)})()}}function La(I,y){var v;const T=(0,k.m9)(I),K=y;return Te(y.customData.operationType,T,"argument-error"),Te(null===(v=K.customData._serverResponse)||void 0===v?void 0:v.mfaPendingCredential,T,"argument-error"),Xo._fromError(T,K)}function Jr(I,y){return ve(I,"POST","/v2/accounts/mfaEnrollment:start",Ie(I,y))}class Va{constructor(y){this.user=y,this.enrolledFactors=[],y._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(T=>as._fromServerResponse(y.auth,T)))})}static _fromUser(y){return new Va(y)}getSession(){var y=this;return(0,h.Z)(function*(){return Xi._fromIdtoken(yield y.user.getIdToken())})()}enroll(y,v){var T=this;return(0,h.Z)(function*(){const K=y,te=yield T.getSession(),Ye=yield ot(T.user,K._process(T.user.auth,te,v));return yield T.user._updateTokensIfNecessary(Ye),T.user.reload()})()}unenroll(y){var v=this;return(0,h.Z)(function*(){var T;const K="string"==typeof y?y:y.uid,te=yield v.user.getIdToken(),Ye=yield ot(v.user,function ea(I,y){return ve(I,"POST","/v2/accounts/mfaEnrollment:withdraw",Ie(I,y))}(v.user.auth,{idToken:te,mfaEnrollmentId:K}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Nt})=>Nt!==K),yield v.user._updateTokensIfNecessary(Ye);try{yield v.user.reload()}catch(Nt){if("auth/user-token-expired"!==(null===(T=Nt)||void 0===T?void 0:T.code))throw Nt}})()}}const Ea=new WeakMap;function ci(I){const y=(0,k.m9)(I);return Ea.has(y)||Ea.set(y,Va._fromUser(y)),Ea.get(y)}const Fs="__sak";class Ls{constructor(y,v){this.storageRetriever=y,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Fs,"1"),this.storage.removeItem(Fs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(y,v){return this.storage.setItem(y,JSON.stringify(v)),Promise.resolve()}_get(y){const v=this.storage.getItem(y);return Promise.resolve(v?JSON.parse(v):null)}_remove(y){return this.storage.removeItem(y),Promise.resolve()}get storage(){return this.storageRetriever()}}const Lr=(()=>{class I extends Ls{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(v,T)=>this.onStorageEvent(v,T),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function wa(){const I=(0,k.z$)();return ye(I)||ue(I)}()&&function _n(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=jt(),this._shouldAllowMigration=!0}forAllChangedKeys(v){for(const T of Object.keys(this.listeners)){const K=this.storage.getItem(T),te=this.localCache[T];K!==te&&v(T,te,K)}}onStorageEvent(v,T=!1){if(!v.key)return void this.forAllChangedKeys((Nt,Vt,Cn)=>{this.notifyListeners(Nt,Cn)});const K=v.key;if(T?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Nt=this.storage.getItem(K);if(v.newValue!==Nt)null!==v.newValue?this.storage.setItem(K,v.newValue):this.storage.removeItem(K);else if(this.localCache[K]===v.newValue&&!T)return}const te=()=>{const Nt=this.storage.getItem(K);!T&&this.localCache[K]===Nt||this.notifyListeners(K,Nt)},Ye=this.storage.getItem(K);!function Xe(){return(0,k.w1)()&&10===document.documentMode}()||Ye===v.newValue||v.newValue===v.oldValue?te():setTimeout(te,10)}notifyListeners(v,T){this.localCache[v]=T;const K=this.listeners[v];if(K)for(const te of Array.from(K))te(T&&JSON.parse(T))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,T,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:T,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,T){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(T)}_removeListener(v,T){this.listeners[v]&&(this.listeners[v].delete(T),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,T){var K=()=>super._set,te=this;return(0,h.Z)(function*(){yield K().call(te,v,T),te.localCache[v]=JSON.stringify(T)})()}_get(v){var T=()=>super._get,K=this;return(0,h.Z)(function*(){const te=yield T().call(K,v);return K.localCache[v]=JSON.stringify(te),te})()}_remove(v){var T=()=>super._remove,K=this;return(0,h.Z)(function*(){yield T().call(K,v),delete K.localCache[v]})()}}return I.type="LOCAL",I})(),en=(()=>{class I extends Ls{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(v,T){}_removeListener(v,T){}}return I.type="SESSION",I})();let Da=(()=>{class I{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const T=this.receivers.find(te=>te.isListeningto(v));if(T)return T;const K=new I(v);return this.receivers.push(K),K}isListeningto(v){return this.eventTarget===v}handleEvent(v){var T=this;return(0,h.Z)(function*(){const K=v,{eventId:te,eventType:Ye,data:Nt}=K.data,Vt=T.handlersMap[Ye];if(!Vt?.size)return;K.ports[0].postMessage({status:"ack",eventId:te,eventType:Ye});const Cn=Array.from(Vt).map(function(){var hi=(0,h.Z)(function*(ma){return ma(K.origin,Nt)});return function(ma){return hi.apply(this,arguments)}}()),sr=yield function Rn(I){return Promise.all(I.map(function(){var y=(0,h.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(T){return{fulfilled:!1,reason:T}}});return function(v){return y.apply(this,arguments)}}()))}(Cn);K.ports[0].postMessage({status:"done",eventId:te,eventType:Ye,response:sr})})()}_subscribe(v,T){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(T)}_unsubscribe(v,T){this.handlersMap[v]&&T&&this.handlersMap[v].delete(T),(!T||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return I.receivers=[],I})();function Qt(I="",y=10){let v="";for(let T=0;T<y;T++)v+=Math.floor(10*Math.random());return I+v}class ht{constructor(y){this.target=y,this.handlers=new Set}removeMessageHandler(y){y.messageChannel&&(y.messageChannel.port1.removeEventListener("message",y.onMessage),y.messageChannel.port1.close()),this.handlers.delete(y)}_send(y,v,T=50){var K=this;return(0,h.Z)(function*(){const te=typeof MessageChannel<"u"?new MessageChannel:null;if(!te)throw new Error("connection_unavailable");let Ye,Nt;return new Promise((Vt,Cn)=>{const sr=Qt("",20);te.port1.start();const hi=setTimeout(()=>{Cn(new Error("unsupported_event"))},T);Nt={messageChannel:te,onMessage(ma){const ya=ma;if(ya.data.eventId===sr)switch(ya.data.status){case"ack":clearTimeout(hi),Ye=setTimeout(()=>{Cn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ye),Vt(ya.data.response);break;default:clearTimeout(hi),clearTimeout(Ye),Cn(new Error("invalid_response"))}}},K.handlers.add(Nt),te.port1.addEventListener("message",Nt.onMessage),K.target.postMessage({eventType:y,eventId:sr,data:v},[te.port2])}).finally(()=>{Nt&&K.removeMessageHandler(Nt)})})()}}function Et(){return window}function Ri(){return typeof Et().WorkerGlobalScope<"u"&&"function"==typeof Et().importScripts}function Ns(){return(Ns=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const da="firebaseLocalStorageDb",ta="firebaseLocalStorage",Ca="fbase_key";class na{constructor(y){this.request=y}toPromise(){return new Promise((y,v)=>{this.request.addEventListener("success",()=>{y(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function eo(I,y){return I.transaction([ta],y?"readwrite":"readonly").objectStore(ta)}function Vs(){const I=indexedDB.open(da,1);return new Promise((y,v)=>{I.addEventListener("error",()=>{v(I.error)}),I.addEventListener("upgradeneeded",()=>{const T=I.result;try{T.createObjectStore(ta,{keyPath:Ca})}catch(K){v(K)}}),I.addEventListener("success",(0,h.Z)(function*(){const T=I.result;T.objectStoreNames.contains(ta)?y(T):(T.close(),yield function $n(){const I=indexedDB.deleteDatabase(da);return new na(I).toPromise()}(),y(yield Vs()))}))})}function Gr(I,y,v){return pr.apply(this,arguments)}function pr(){return(pr=(0,h.Z)(function*(I,y,v){const T=eo(I,!0).put({[Ca]:y,value:v});return new na(T).toPromise()})).apply(this,arguments)}function Ni(){return(Ni=(0,h.Z)(function*(I,y){const v=eo(I,!1).get(y),T=yield new na(v).toPromise();return void 0===T?null:T.value})).apply(this,arguments)}function Xn(I,y){const v=eo(I,!0).delete(y);return new na(v).toPromise()}const So=(()=>{class I{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,h.Z)(function*(){return v.db||(v.db=yield Vs()),v.db})()}_withRetries(v){var T=this;return(0,h.Z)(function*(){let K=0;for(;;)try{const te=yield T._openDb();return yield v(te)}catch(te){if(K++>3)throw te;T.db&&(T.db.close(),T.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,h.Z)(function*(){return Ri()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,h.Z)(function*(){v.receiver=Da._getInstance(function ca(){return Ri()?self:null}()),v.receiver._subscribe("keyChanged",function(){var T=(0,h.Z)(function*(K,te){return{keyProcessed:(yield v._poll()).includes(te.key)}});return function(K,te){return T.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var T=(0,h.Z)(function*(K,te){return["keyChanged"]});return function(K,te){return T.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,h.Z)(function*(){var T,K;if(v.activeServiceWorker=yield function Es(){return Ns.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new ht(v.activeServiceWorker);const te=yield v.sender._send("ping",{},800);!te||(null===(T=te[0])||void 0===T?void 0:T.fulfilled)&&(null===(K=te[0])||void 0===K?void 0:K.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var T=this;return(0,h.Z)(function*(){if(T.sender&&T.activeServiceWorker&&function To(){var I;return(null===(I=navigator?.serviceWorker)||void 0===I?void 0:I.controller)||null}()===T.activeServiceWorker)try{yield T.sender._send("keyChanged",{key:v},T.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const v=yield Vs();return yield Gr(v,Fs,"1"),yield Xn(v,Fs),!0}catch{}return!1})()}_withPendingWrite(v){var T=this;return(0,h.Z)(function*(){T.pendingWrites++;try{yield v()}finally{T.pendingWrites--}})()}_set(v,T){var K=this;return(0,h.Z)(function*(){return K._withPendingWrite((0,h.Z)(function*(){return yield K._withRetries(te=>Gr(te,v,T)),K.localCache[v]=T,K.notifyServiceWorker(v)}))})()}_get(v){var T=this;return(0,h.Z)(function*(){const K=yield T._withRetries(te=>function gn(I,y){return Ni.apply(this,arguments)}(te,v));return T.localCache[v]=K,K})()}_remove(v){var T=this;return(0,h.Z)(function*(){return T._withPendingWrite((0,h.Z)(function*(){return yield T._withRetries(K=>Xn(K,v)),delete T.localCache[v],T.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,h.Z)(function*(){const T=yield v._withRetries(Ye=>{const Nt=eo(Ye,!1).getAll();return new na(Nt).toPromise()});if(!T)return[];if(0!==v.pendingWrites)return[];const K=[],te=new Set;for(const{fbase_key:Ye,value:Nt}of T)te.add(Ye),JSON.stringify(v.localCache[Ye])!==JSON.stringify(Nt)&&(v.notifyListeners(Ye,Nt),K.push(Ye));for(const Ye of Object.keys(v.localCache))v.localCache[Ye]&&!te.has(Ye)&&(v.notifyListeners(Ye,null),K.push(Ye));return K})()}notifyListeners(v,T){this.localCache[v]=T;const K=this.listeners[v];if(K)for(const te of Array.from(K))te(T)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,T){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(T)}_removeListener(v,T){this.listeners[v]&&(this.listeners[v].delete(T),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return I.type="LOCAL",I})();function ha(I,y){return ve(I,"POST","/v2/accounts/mfaSignIn:start",Ie(I,y))}function ei(){return(ei=(0,h.Z)(function*(I){return(yield ve(I,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Us(I){return new Promise((y,v)=>{const T=document.createElement("script");T.setAttribute("src",I),T.onload=y,T.onerror=K=>{const te=Re("internal-error");te.customData=K,v(te)},T.type="text/javascript",T.charset="UTF-8",function go(){var I,y;return null!==(y=null===(I=document.getElementsByTagName("head"))||void 0===I?void 0:I[0])&&void 0!==y?y:document}().appendChild(T)})}function Fo(I){return`__${I}${Math.floor(1e6*Math.random())}`}const Bs=1e12;class ra{constructor(y){this.auth=y,this.counter=Bs,this._widgets=new Map}render(y,v){const T=this.counter;return this._widgets.set(T,new vr(y,this.auth.name,v||{})),this.counter++,T}reset(y){var v;const T=y||Bs;null===(v=this._widgets.get(T))||void 0===v||v.delete(),this._widgets.delete(T)}getResponse(y){var v;return(null===(v=this._widgets.get(y||Bs))||void 0===v?void 0:v.getResponse())||""}execute(y){var v=this;return(0,h.Z)(function*(){var T;return null===(T=v._widgets.get(y||Bs))||void 0===T||T.execute(),""})()}}class vr{constructor(y,v,T){this.params=T,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const K="string"==typeof y?document.getElementById(y):y;Te(K,"argument-error",{appName:v}),this.container=K,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function yo(I){const y=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let T=0;T<I;T++)y.push(v.charAt(Math.floor(Math.random()*v.length)));return y.join("")}(50);const{callback:y,"expired-callback":v}=this.params;if(y)try{y(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ba=Fo("rcb"),lt=new ft(3e4,6e4);class to{constructor(){var y;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(y=Et().grecaptcha)||void 0===y||!y.render)}load(y,v=""){return Te(function qa(I){return I.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(I)}(v),y,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(Et().grecaptcha):new Promise((T,K)=>{const te=Et().setTimeout(()=>{K(Re(y,"network-request-failed"))},lt.get());Et()[ba]=()=>{Et().clearTimeout(te),delete Et()[ba];const Nt=Et().grecaptcha;if(!Nt)return void K(Re(y,"internal-error"));const Vt=Nt.render;Nt.render=(Cn,sr)=>{const hi=Vt(Cn,sr);return this.counter++,hi},this.hostLanguage=v,T(Nt)},Us(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:ba,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(te),K(Re(y,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(y){var v;return!(null===(v=Et().grecaptcha)||void 0===v||!v.render)&&(y===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Za{load(y){return(0,h.Z)(function*(){return new ra(y)})()}clearedOneInstance(){}}const ls="recaptcha",Ol={theme:"light",type:"image"};class Zo{constructor(y,v=Object.assign({},Ol),T){this.parameters=v,this.type=ls,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=hn(T),this.isInvisible="invisible"===this.parameters.size,Te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const K="string"==typeof y?document.getElementById(y):y;Te(K,this.auth,"argument-error"),this.container=K,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Za:new to,this.validateStartingState()}verify(){var y=this;return(0,h.Z)(function*(){y.assertNotDestroyed();const v=yield y.render(),T=y.getAssertedRecaptcha();return T.getResponse(v)||new Promise(te=>{const Ye=Nt=>{!Nt||(y.tokenChangeListeners.delete(Ye),te(Nt))};y.tokenChangeListeners.add(Ye),y.isInvisible&&T.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(y){return Promise.reject(y)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(y=>{throw this.renderPromise=null,y})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(y=>{this.container.removeChild(y)})}validateStartingState(){Te(!this.parameters.sitekey,this.auth,"argument-error"),Te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Te(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(y){return v=>{if(this.tokenChangeListeners.forEach(T=>T(v)),"function"==typeof y)y(v);else if("string"==typeof y){const T=Et()[y];"function"==typeof T&&T(v)}}}assertNotDestroyed(){Te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var y=this;return(0,h.Z)(function*(){if(yield y.init(),!y.widgetId){let v=y.container;if(!y.isInvisible){const T=document.createElement("div");v.appendChild(T),v=T}y.widgetId=y.getAssertedRecaptcha().render(v,y.parameters)}return y.widgetId})()}init(){var y=this;return(0,h.Z)(function*(){Te(It()&&!Ri(),y.auth,"internal-error"),yield function ii(){let I=null;return new Promise(y=>{"complete"!==document.readyState?(I=()=>y(),window.addEventListener("load",I)):y()}).catch(y=>{throw I&&window.removeEventListener("load",I),y})}(),y.recaptcha=yield y._recaptchaLoader.load(y.auth,y.auth.languageCode||void 0);const v=yield function fa(I){return ei.apply(this,arguments)}(y.auth);Te(v,y.auth,"internal-error"),y.parameters.sitekey=v})()}getAssertedRecaptcha(){return Te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Lo{constructor(y,v){this.verificationId=y,this.onConfirmation=v}confirm(y){const v=mi._fromVerification(this.verificationId,y);return this.onConfirmation(v)}}function Ta(I,y,v){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,h.Z)(function*(I,y,v){const T=hn(I),K=yield Tr(T,y,(0,k.m9)(v));return new Lo(K,te=>Xr(T,te))})).apply(this,arguments)}function ws(I,y,v){return cs.apply(this,arguments)}function cs(){return(cs=(0,h.Z)(function*(I,y,v){const T=(0,k.m9)(I);yield Ai(!1,T,"phone");const K=yield Tr(T.auth,y,(0,k.m9)(v));return new Lo(K,te=>Tn(T,te))})).apply(this,arguments)}function ds(I,y,v){return pa.apply(this,arguments)}function pa(){return(pa=(0,h.Z)(function*(I,y,v){const T=(0,k.m9)(I),K=yield Tr(T.auth,y,(0,k.m9)(v));return new Lo(K,te=>No(T,te))})).apply(this,arguments)}function Tr(I,y,v){return vo.apply(this,arguments)}function vo(){return(vo=(0,h.Z)(function*(I,y,v){var T;const K=yield v.verify();try{let te;if(Te("string"==typeof K,I,"argument-error"),Te(v.type===ls,I,"argument-error"),te="string"==typeof y?{phoneNumber:y}:y,"session"in te){const Ye=te.session;if("phoneNumber"in te)return Te("enroll"===Ye.type,I,"internal-error"),(yield Jr(I,{idToken:Ye.credential,phoneEnrollmentInfo:{phoneNumber:te.phoneNumber,recaptchaToken:K}})).phoneSessionInfo.sessionInfo;{Te("signin"===Ye.type,I,"internal-error");const Nt=(null===(T=te.multiFactorHint)||void 0===T?void 0:T.uid)||te.multiFactorUid;return Te(Nt,I,"missing-multi-factor-info"),(yield ha(I,{mfaPendingCredential:Ye.credential,mfaEnrollmentId:Nt,phoneSignInInfo:{recaptchaToken:K}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ye}=yield Mo(I,{phoneNumber:te.phoneNumber,recaptchaToken:K});return Ye}}finally{v._reset()}})).apply(this,arguments)}function Hi(I,y){return f.apply(this,arguments)}function f(){return(f=(0,h.Z)(function*(I,y){yield Qr((0,k.m9)(I),y)})).apply(this,arguments)}let c=(()=>{class I{constructor(v){this.providerId=I.PROVIDER_ID,this.auth=hn(v)}verifyPhoneNumber(v,T){return Tr(this.auth,v,(0,k.m9)(T))}static credential(v,T){return mi._fromVerification(v,T)}static credentialFromResult(v){return I.credentialFromTaggedObject(v)}static credentialFromError(v){return I.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:T,temporaryProof:K}=v;return T&&K?mi._fromTokenResponse(T,K):null}}return I.PROVIDER_ID="phone",I.PHONE_SIGN_IN_METHOD="phone",I})();function l(I,y){return y?Se(y):(Te(I._popupRedirectResolver,I,"argument-error"),I._popupRedirectResolver)}class m extends Ur{constructor(y){super("custom","custom"),this.params=y}_getIdTokenResponse(y){return Ws(y,this._buildIdpRequest())}_linkToIdToken(y,v){return Ws(y,this._buildIdpRequest(v))}_getReauthenticationResolver(y){return Ws(y,this._buildIdpRequest())}_buildIdpRequest(y){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return y&&(v.idToken=y),v}}function E(I){return zo(I.auth,new m(I),I.bypassAuthState)}function C(I){const{auth:y,user:v}=I;return Te(v,y,"internal-error"),Vi(v,new m(I),I.bypassAuthState)}function U(I){return $.apply(this,arguments)}function $(){return($=(0,h.Z)(function*(I){const{auth:y,user:v}=I;return Te(v,y,"internal-error"),Qr(v,new m(I),I.bypassAuthState)})).apply(this,arguments)}class X{constructor(y,v,T,K,te=!1){this.auth=y,this.resolver=T,this.user=K,this.bypassAuthState=te,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var y=this;return new Promise(function(){var v=(0,h.Z)(function*(T,K){y.pendingPromise={resolve:T,reject:K};try{y.eventManager=yield y.resolver._initialize(y.auth),yield y.onExecution(),y.eventManager.registerConsumer(y)}catch(te){y.reject(te)}});return function(T,K){return v.apply(this,arguments)}}())}onAuthEvent(y){var v=this;return(0,h.Z)(function*(){const{urlResponse:T,sessionId:K,postBody:te,tenantId:Ye,error:Nt,type:Vt}=y;if(Nt)return void v.reject(Nt);const Cn={auth:v.auth,requestUri:T,sessionId:K,tenantId:Ye||void 0,postBody:te||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(Vt)(Cn))}catch(sr){v.reject(sr)}})()}onError(y){this.reject(y)}getIdpTask(y){switch(y){case"signInViaPopup":case"signInViaRedirect":return E;case"linkViaPopup":case"linkViaRedirect":return U;case"reauthViaPopup":case"reauthViaRedirect":return C;default:xt(this.auth,"internal-error")}}resolve(y){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(y),this.unregisterAndCleanUp()}reject(y){Ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(y),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xe=new ft(2e3,1e4);function Tt(I,y,v){return gt.apply(this,arguments)}function gt(){return(gt=(0,h.Z)(function*(I,y,v){const T=hn(I);je(I,y,Dr);const K=l(T,v);return new Hn(T,"signInViaPopup",y,K).executeNotNull()})).apply(this,arguments)}function sn(I,y,v){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,h.Z)(function*(I,y,v){const T=(0,k.m9)(I);je(T.auth,y,Dr);const K=l(T.auth,v);return new Hn(T.auth,"reauthViaPopup",y,K,T).executeNotNull()})).apply(this,arguments)}function fn(I,y,v){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,h.Z)(function*(I,y,v){const T=(0,k.m9)(I);je(T.auth,y,Dr);const K=l(T.auth,v);return new Hn(T.auth,"linkViaPopup",y,K,T).executeNotNull()})).apply(this,arguments)}let Hn=(()=>{class I extends X{constructor(v,T,K,te,Ye){super(v,T,te,Ye),this.provider=K,this.authWindow=null,this.pollId=null,I.currentPopupAction&&I.currentPopupAction.cancel(),I.currentPopupAction=this}executeNotNull(){var v=this;return(0,h.Z)(function*(){const T=yield v.execute();return Te(T,v.auth,"internal-error"),T})()}onExecution(){var v=this;return(0,h.Z)(function*(){Ue(1===v.filter.length,"Popup operations only handle one event");const T=Qt();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],T),v.authWindow.associatedEvent=T,v.resolver._originValidation(v.auth).catch(K=>{v.reject(K)}),v.resolver._isIframeWebStorageSupported(v.auth,K=>{K||v.reject(Re(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(Re(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,I.currentPopupAction=null}pollUserCancellation(){const v=()=>{var T,K;this.pollId=null!==(K=null===(T=this.authWindow)||void 0===T?void 0:T.window)&&void 0!==K&&K.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Re(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,xe.get())};v()}}return I.currentPopupAction=null,I})();const gr=new Map;class Or extends X{constructor(y,v,T=!1){super(y,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,T),this.eventId=null}execute(){var y=()=>super.execute,v=this;return(0,h.Z)(function*(){let T=gr.get(v.auth._key());if(!T){try{const te=(yield function Wr(I,y){return Oi.apply(this,arguments)}(v.resolver,v.auth))?yield y().call(v):null;T=()=>Promise.resolve(te)}catch(K){T=()=>Promise.reject(K)}gr.set(v.auth._key(),T)}return v.bypassAuthState||gr.set(v.auth._key(),()=>Promise.resolve(null)),T()})()}onAuthEvent(y){var v=()=>super.onAuthEvent,T=this;return(0,h.Z)(function*(){if("signInViaRedirect"===y.type)return v().call(T,y);if("unknown"!==y.type){if(y.eventId){const K=yield T.auth._redirectUserForId(y.eventId);if(K)return T.user=K,v().call(T,y);T.resolve(null)}}else T.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Oi(){return(Oi=(0,h.Z)(function*(I,y){const v=no(y),T=Os(I);if(!(yield T._isAvailable()))return!1;const K="true"===(yield T._get(v));return yield T._remove(v),K})).apply(this,arguments)}function Is(I,y){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,h.Z)(function*(I,y){return Os(I)._set(no(y),"true")})).apply(this,arguments)}function Vo(){gr.clear()}function di(I,y){gr.set(I._key(),y)}function Os(I){return Se(I._redirectPersistence)}function no(I){return nn("pendingRedirect",I.config.apiKey,I.name)}function ia(I,y,v){return function Mr(I,y,v){return Sa.apply(this,arguments)}(I,y,v)}function Sa(){return(Sa=(0,h.Z)(function*(I,y,v){const T=hn(I);je(I,y,Dr);const K=l(T,v);return yield Is(K,T),K._openRedirect(T,y,"signInViaRedirect")})).apply(this,arguments)}function Qa(I,y,v){return function S(I,y,v){return O.apply(this,arguments)}(I,y,v)}function O(){return(O=(0,h.Z)(function*(I,y,v){const T=(0,k.m9)(I);je(T.auth,y,Dr);const K=l(T.auth,v);yield Is(K,T.auth);const te=yield dn(T);return K._openRedirect(T.auth,y,"reauthViaRedirect",te)})).apply(this,arguments)}function W(I,y,v){return function re(I,y,v){return Fe.apply(this,arguments)}(I,y,v)}function Fe(){return(Fe=(0,h.Z)(function*(I,y,v){const T=(0,k.m9)(I);je(T.auth,y,Dr);const K=l(T.auth,v);yield Ai(!1,T,y.providerId),yield Is(K,T.auth);const te=yield dn(T);return K._openRedirect(T.auth,y,"linkViaRedirect",te)})).apply(this,arguments)}function it(I,y){return wt.apply(this,arguments)}function wt(){return(wt=(0,h.Z)(function*(I,y){return yield hn(I)._initializationPromise,kt(I,y,!1)})).apply(this,arguments)}function kt(I,y){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,h.Z)(function*(I,y,v=!1){const T=hn(I),K=l(T,y),Ye=yield new Or(T,K,v).execute();return Ye&&!v&&(delete Ye.user._redirectEventId,yield T._persistUserIfCurrent(Ye.user),yield T._setRedirectUser(null,y)),Ye})).apply(this,arguments)}function dn(I){return tr.apply(this,arguments)}function tr(){return(tr=(0,h.Z)(function*(I){const y=Qt(`${I.uid}:::`);return I._redirectEventId=y,yield I.auth._setRedirectUser(I),yield I.auth._persistUserIfCurrent(I),y})).apply(this,arguments)}class Cr{constructor(y){this.auth=y,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(y){this.consumers.add(y),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,y)&&(this.sendToConsumer(this.queuedRedirectEvent,y),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(y){this.consumers.delete(y)}onEvent(y){if(this.hasEventBeenHandled(y))return!1;let v=!1;return this.consumers.forEach(T=>{this.isEventForConsumer(y,T)&&(v=!0,this.sendToConsumer(y,T),this.saveEventToCache(y))}),this.hasHandledPotentialRedirect||!function Uo(I){switch(I.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _o(I);default:return!1}}(y)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=y,v=!0)),v}sendToConsumer(y,v){var T;if(y.error&&!_o(y)){const K=(null===(T=y.error.code)||void 0===T?void 0:T.split("auth/")[1])||"internal-error";v.onError(Re(this.auth,K))}else v.onAuthEvent(y)}isEventForConsumer(y,v){const T=null===v.eventId||!!y.eventId&&y.eventId===v.eventId;return v.filter.includes(y.type)&&T}hasEventBeenHandled(y){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Kr(y))}saveEventToCache(y){this.cachedEventUids.add(Kr(y)),this.lastProcessedEventTime=Date.now()}}function Kr(I){return[I.type,I.eventId,I.sessionId,I.tenantId].filter(y=>y).join("-")}function _o({type:I,error:y}){return"unknown"===I&&"auth/no-auth-event"===y?.code}function ro(I){return Aa.apply(this,arguments)}function Aa(){return(Aa=(0,h.Z)(function*(I,y={}){return ve(I,"GET","/v1/projects",y)})).apply(this,arguments)}const Fu=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,es=/^https?/;function xa(){return(xa=(0,h.Z)(function*(I){if(I.config.emulator)return;const{authorizedDomains:y}=yield ro(I);for(const v of y)try{if(lc(v))return}catch{}xt(I,"unauthorized-domain")})).apply(this,arguments)}function lc(I){const y=dt(),{protocol:v,hostname:T}=new URL(y);if(I.startsWith("chrome-extension://")){const Ye=new URL(I);return""===Ye.hostname&&""===T?"chrome-extension:"===v&&I.replace("chrome-extension://","")===y.replace("chrome-extension://",""):"chrome-extension:"===v&&Ye.hostname===T}if(!es.test(v))return!1;if(Fu.test(I))return T===I;const K=I.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(T)}const td=new ft(3e4,6e4);function nd(){const I=Et().___jsl;if(I?.H)for(const y of Object.keys(I.H))if(I.H[y].r=I.H[y].r||[],I.H[y].L=I.H[y].L||[],I.H[y].r=[...I.H[y].L],I.CP)for(let v=0;v<I.CP.length;v++)I.CP[v]=null}let gu=null;function rd(I){return gu=gu||function wh(I){return new Promise((y,v)=>{var T,K,te;function Ye(){nd(),gapi.load("gapi.iframes",{callback:()=>{y(gapi.iframes.getContext())},ontimeout:()=>{nd(),v(Re(I,"network-request-failed"))},timeout:td.get()})}if(null!==(K=null===(T=Et().gapi)||void 0===T?void 0:T.iframes)&&void 0!==K&&K.Iframe)y(gapi.iframes.getContext());else{if(null===(te=Et().gapi)||void 0===te||!te.load){const Nt=Fo("iframefcb");return Et()[Nt]=()=>{gapi.load?Ye():v(Re(I,"network-request-failed"))},Us(`https://apis.google.com/js/api.js?onload=${Nt}`).catch(Vt=>v(Vt))}Ye()}}).catch(y=>{throw gu=null,y})}(I),gu}const Ja=new ft(5e3,15e3),cc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ih=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ga(I){const y=I.config;Te(y.authDomain,I,"auth-domain-config-required");const v=y.emulator?tn(y,"emulator/auth/iframe"):`https://${I.config.authDomain}/__/auth/iframe`,T={apiKey:y.apiKey,appName:I.name,v:H.SDK_VERSION},K=Ih.get(I.config.apiHost);K&&(T.eid=K);const te=I._getFrameworks();return te.length&&(T.fw=te.join(",")),`${v}?${(0,k.xO)(T).slice(1)}`}function Ba(){return Ba=(0,h.Z)(function*(I){const y=yield rd(I),v=Et().gapi;return Te(v,I,"internal-error"),y.open({where:document.body,url:ga(I),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cc,dontclear:!0},T=>new Promise(function(){var K=(0,h.Z)(function*(te,Ye){yield T.restyle({setHideOnLeave:!1});const Nt=Re(I,"network-request-failed"),Vt=Et().setTimeout(()=>{Ye(Nt)},Ja.get());function Cn(){Et().clearTimeout(Vt),te(T)}T.ping(Cn).then(Cn,()=>{Ye(Nt)})});return function(te,Ye){return K.apply(this,arguments)}}()))}),Ba.apply(this,arguments)}const sl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Bo{constructor(y){this.window=y,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vu(I,y,v,T,K,te){Te(I.config.authDomain,I,"auth-domain-config-required"),Te(I.config.apiKey,I,"invalid-api-key");const Ye={apiKey:I.config.apiKey,appName:I.name,authType:v,redirectUrl:T,v:H.SDK_VERSION,eventId:K};if(y instanceof Dr){y.setDefaultLanguage(I.languageCode),Ye.providerId=y.providerId||"",(0,k.xb)(y.getCustomParameters())||(Ye.customParameters=JSON.stringify(y.getCustomParameters()));for(const[Vt,Cn]of Object.entries(te||{}))Ye[Vt]=Cn}if(y instanceof Li){const Vt=y.getScopes().filter(Cn=>""!==Cn);Vt.length>0&&(Ye.scopes=Vt.join(","))}I.tenantId&&(Ye.tid=I.tenantId);const Nt=Ye;for(const Vt of Object.keys(Nt))void 0===Nt[Vt]&&delete Nt[Vt];return`${function eu({config:I}){return I.emulator?tn(I,"emulator/auth/handler"):`https://${I.authDomain}/__/auth/handler`}(I)}?${(0,k.xO)(Nt).slice(1)}`}const kl="webStorageSupport",fc=class Dh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=en,this._completeRedirectFn=kt,this._overrideRedirectResult=di}_openPopup(y,v,T,K){var te=this;return(0,h.Z)(function*(){var Ye;Ue(null===(Ye=te.eventManagers[y._key()])||void 0===Ye?void 0:Ye.manager,"_initialize() not called before _openPopup()");const Nt=Vu(y,v,T,dt(),K);return function yu(I,y,v,T=500,K=600){const te=Math.max((window.screen.availHeight-K)/2,0).toString(),Ye=Math.max((window.screen.availWidth-T)/2,0).toString();let Nt="";const Vt=Object.assign(Object.assign({},sl),{width:T.toString(),height:K.toString(),top:te,left:Ye}),Cn=(0,k.z$)().toLowerCase();v&&(Nt=ct(Cn)?"_blank":v),me(Cn)&&(y=y||"http://localhost",Vt.scrollbars="yes");const sr=Object.entries(Vt).reduce((ma,[ya,pc])=>`${ma}${ya}=${pc},`,"");if(function Oe(I=(0,k.z$)()){var y;return ue(I)&&!(null===(y=window.navigator)||void 0===y||!y.standalone)}(Cn)&&"_self"!==Nt)return function vu(I,y){const v=document.createElement("a");v.href=I,v.target=y;const T=document.createEvent("MouseEvent");T.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(T)}(y||"",Nt),new Bo(null);const hi=window.open(y||"",Nt,sr);Te(hi,I,"popup-blocked");try{hi.focus()}catch{}return new Bo(hi)}(y,Nt,Qt())})()}_openRedirect(y,v,T,K){var te=this;return(0,h.Z)(function*(){return yield te._originValidation(y),function _i(I){Et().location.href=I}(Vu(y,v,T,dt(),K)),new Promise(()=>{})})()}_initialize(y){const v=y._key();if(this.eventManagers[v]){const{manager:K,promise:te}=this.eventManagers[v];return K?Promise.resolve(K):(Ue(te,"If manager is not set, promise should be"),te)}const T=this.initAndGetManager(y);return this.eventManagers[v]={promise:T},T.catch(()=>{delete this.eventManagers[v]}),T}initAndGetManager(y){var v=this;return(0,h.Z)(function*(){const T=yield function id(I){return Ba.apply(this,arguments)}(y),K=new Cr(y);return T.register("authEvent",te=>(Te(te?.authEvent,y,"invalid-auth-event"),{status:K.onEvent(te.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[y._key()]={manager:K},v.iframes[y._key()]=T,K})()}_isIframeWebStorageSupported(y,v){this.iframes[y._key()].send(kl,{type:kl},K=>{var te;const Ye=null===(te=K?.[0])||void 0===te?void 0:te[kl];void 0!==Ye&&v(!!Ye),xt(y,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(y){const v=y._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function Ma(I){return xa.apply(this,arguments)}(y)),this.originValidationPromises[v]}get _shouldInitProactively(){return jt()||ye()||ue()}};class Fl extends class sd{constructor(y){this.factorId=y}_process(y,v,T){switch(v.type){case"enroll":return this._finalizeEnroll(y,v.credential,T);case"signin":return this._finalizeSignIn(y,v.credential);default:return Ve("unexpected MultiFactorSessionType")}}}{constructor(y){super("phone"),this.credential=y}static _fromCredential(y){return new Fl(y)}_finalizeEnroll(y,v,T){return function Ko(I,y){return ve(I,"POST","/v2/accounts/mfaEnrollment:finalize",Ie(I,y))}(y,{idToken:v,displayName:T,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(y,v){return function po(I,y){return ve(I,"POST","/v2/accounts/mfaSignIn:finalize",Ie(I,y))}(y,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let sa=(()=>{class I{constructor(){}static assertion(v){return Fl._fromCredential(v)}}return I.FACTOR_ID="phone",I})();var _u="@firebase/auth";class ad{constructor(y){this.auth=y,this.internalListeners=new Map}getUid(){var y;return this.assertAuthConfigured(),(null===(y=this.auth.currentUser)||void 0===y?void 0:y.uid)||null}getToken(y){var v=this;return(0,h.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(y)}:null})()}addAuthTokenListener(y){if(this.assertAuthConfigured(),this.internalListeners.has(y))return;const v=this.auth.onIdTokenChanged(T=>{var K;y((null===(K=T)||void 0===K?void 0:K.stsTokenManager.accessToken)||null)});this.internalListeners.set(y,v),this.updateProactiveRefresh()}removeAuthTokenListener(y){this.assertAuthConfigured();const v=this.internalListeners.get(y);!v||(this.internalListeners.delete(y),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ud(I=(0,H.getApp)()){const y=(0,H._getProvider)(I,"auth");return y.isInitialized()?y.getImmediate():function He(I,y){const v=(0,H._getProvider)(I,"auth");if(v.isInitialized()){const K=v.getImmediate(),te=v.getOptions();if((0,k.vZ)(te,y??{}))return K;xt(K,"already-initialized")}return v.initialize({options:y})}(I,{popupRedirectResolver:fc,persistence:[So,Lr,en]})}!function Eu(I){(0,H._registerComponent)(new Ce.wA("auth",(y,{options:v})=>{const T=y.getProvider("app").getImmediate(),K=y.getProvider("heartbeat"),{apiKey:te,authDomain:Ye}=T.options;return((Nt,Vt)=>{Te(te&&!te.includes(":"),"invalid-api-key",{appName:Nt.name}),Te(!Ye?.includes(":"),"argument-error",{appName:Nt.name});const Cn={apiKey:te,authDomain:Ye,clientPlatform:I,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pn(I)},sr=new oi(Nt,Vt,Cn);return function Le(I,y){const v=y?.persistence||[],T=(Array.isArray(v)?v:[v]).map(Se);y?.errorMap&&I._updateErrorMap(y.errorMap),I._initializeWithPersistence(T,y?.popupRedirectResolver)}(sr,v),sr})(T,K)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((y,v,T)=>{y.getProvider("auth-internal").initialize()})),(0,H._registerComponent)(new Ce.wA("auth-internal",y=>{const v=hn(y.getProvider("auth").getImmediate());return new ad(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)(_u,"0.20.6",function Uu(I){switch(I){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(I)),(0,H.registerVersion)(_u,"0.20.6","esm2017")}("Browser")},5525:($t,qe,F)=>{F.d(qe,{u7:()=>gp,Jj:()=>cu,IX:()=>Ry,my:()=>bs,xU:()=>rl,Lz:()=>Ga,WA:()=>Et,F8:()=>Nu,$q:()=>sc,W:()=>Pu,EK:()=>pr,PU:()=>om,l7:()=>fn,Ky:()=>Yt,Xb:()=>zr,Cf:()=>Pr,K9:()=>Da,Me:()=>E,yq:()=>Lr,Wi:()=>Jl,ET:()=>dm,Ab:()=>Wa,vr:()=>fu,Fc:()=>Oy,hJ:()=>Sy,B$:()=>Ay,at:()=>s_,oe:()=>jy,AK:()=>Hy,TF:()=>ky,JU:()=>Bg,ST:()=>Cl,fH:()=>a_,Ix:()=>sp,Wu:()=>im,Lx:()=>rm,qY:()=>$s,GL:()=>Zc,QT:()=>am,kl:()=>Vy,Xk:()=>um,PL:()=>Uy,UQ:()=>lm,zN:()=>cm,ad:()=>Ny,nP:()=>Ka,b9:()=>em,vh:()=>tm,Pb:()=>zc,L$:()=>$o,cf:()=>$y,sc:()=>hm,Xo:()=>Jg,IO:()=>Ly,iE:()=>oh,Eo:()=>jg,i3:()=>hu,Bt:()=>fm,pl:()=>ac,Ub:()=>Ia,qK:()=>qg,TQ:()=>nm,e0:()=>lp,r7:()=>By,Mx:()=>Py,ar:()=>Yg});var se,h=F(5861),k=F(9681),H=F(4859),ce=F(1877),de=F(2090),Ce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ae={},Be=Be||{},ee=Ce||self;function ae(){}function De(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Qe(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Ge="closure_uid_"+(1e9*Math.random()>>>0),Mt=0;function Ze(i,e,n){return i.call.apply(i.bind,arguments)}function Ke(i,e,n){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Me(i,e,n){return(Me=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ze:Ke).apply(null,arguments)}function xt(i,e){var n=Array.prototype.slice.call(arguments,1);return function(){var o=n.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function Re(i,e){function n(){}n.prototype=e.prototype,i.Z=e.prototype,i.prototype=new n,i.prototype.constructor=i,i.Vb=function(o,u,p){for(var _=Array(arguments.length-2),b=2;b<arguments.length;b++)_[b-2]=arguments[b];return e.prototype[u].apply(o,_)}}function pe(){this.s=this.s,this.o=this.o}var vt={};pe.prototype.s=!1,pe.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function Je(i){return Object.prototype.hasOwnProperty.call(i,Ge)&&i[Ge]||(i[Ge]=++Mt)}(this);delete vt[i]}},pe.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Te=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let n=0;n<i.length;n++)if(n in i&&i[n]===e)return n;return-1},Ve=Array.prototype.forEach?function(i,e,n){Array.prototype.forEach.call(i,e,n)}:function(i,e,n){const o=i.length,u="string"==typeof i?i.split(""):i;for(let p=0;p<o;p++)p in u&&e.call(n,u[p],p,i)};function be(i){return Array.prototype.concat.apply([],arguments)}function Se(i){const e=i.length;if(0<e){const n=Array(e);for(let o=0;o<e;o++)n[o]=i[o];return n}return[]}function He(i){return/^[\s\xa0]*$/.test(i)}var St,Le=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function dt(i,e){return-1!=i.indexOf(e)}function It(i,e){return i<e?-1:i>e?1:0}e:{var Kt=ee.navigator;if(Kt){var zt=Kt.userAgent;if(zt){St=zt;break e}}St=""}function ft(i,e,n){for(const o in i)e.call(n,i[o],o,i)}function tn(i){const e={};for(const n in i)e[n]=i[n];return e}var En="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function et(i,e){let n,o;for(let u=1;u<arguments.length;u++){for(n in o=arguments[u],o)i[n]=o[n];for(let p=0;p<En.length;p++)n=En[p],Object.prototype.hasOwnProperty.call(o,n)&&(i[n]=o[n])}}function pt(i){return pt[" "](i),i}pt[" "]=ae;var Un,i,ve=dt(St,"Opera"),Ft=dt(St,"Trident")||dt(St,"MSIE"),wn=dt(St,"Edge"),In=wn||Ft,xn=dt(St,"Gecko")&&!(dt(St.toLowerCase(),"webkit")&&!dt(St,"Edge"))&&!(dt(St,"Trident")||dt(St,"MSIE"))&&!dt(St,"Edge"),cr=dt(St.toLowerCase(),"webkit")&&!dt(St,"Edge");function kn(){var i=ee.document;return i?i.documentMode:void 0}e:{var Ln="",ar=(i=St,xn?/rv:([^\);]+)(\)|;)/.exec(i):wn?/Edge\/([\d\.]+)/.exec(i):Ft?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):cr?/WebKit\/(\S+)/.exec(i):ve?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(ar&&(Ln=ar?ar[1]:""),Ft){var Zn=kn();if(null!=Zn&&Zn>parseFloat(Ln)){Un=String(Zn);break e}}Un=Ln}var _t={};var mr=ee.document&&Ft&&(kn()||parseInt(Un,10))||void 0,ti=function(){if(!ee.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{ee.addEventListener("test",ae,e),ee.removeEventListener("test",ae,e)}catch{}return i}();function Mn(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function at(i,e){if(Mn.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var n=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(xn){e:{try{pt(e.nodeName);var u=!0;break e}catch{}u=!1}u||(e=null)}}else"mouseover"==n?e=i.fromElement:"mouseout"==n&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:_e[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&at.Z.h.call(this)}}Mn.prototype.h=function(){this.defaultPrevented=!0},Re(at,Mn);var _e={2:"touch",3:"pen",4:"mouse"};at.prototype.h=function(){at.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var le="closure_listenable_"+(1e6*Math.random()|0),nt=0;function ot(i,e,n,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=n,this.capture=!!o,this.ia=u,this.key=++nt,this.ca=this.fa=!1}function Zt(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function on(i){this.src=i,this.g={},this.h=0}function Gt(i,e){var n=e.type;if(n in i.g){var p,o=i.g[n],u=Te(o,e);(p=0<=u)&&Array.prototype.splice.call(o,u,1),p&&(Zt(e),0==i.g[n].length&&(delete i.g[n],i.h--))}}function Ot(i,e,n,o){for(var u=0;u<i.length;++u){var p=i[u];if(!p.ca&&p.listener==e&&p.capture==!!n&&p.ia==o)return u}return-1}on.prototype.add=function(i,e,n,o,u){var p=i.toString();(i=this.g[p])||(i=this.g[p]=[],this.h++);var _=Ot(i,e,o,u);return-1<_?(e=i[_],n||(e.fa=!1)):((e=new ot(e,this.src,p,!!o,u)).fa=n,i.push(e)),e};var zn="closure_lm_"+(1e6*Math.random()|0),ln={};function Er(i,e,n,o,u){if(o&&o.once)return he(i,e,n,o,u);if(Array.isArray(e)){for(var p=0;p<e.length;p++)Er(i,e[p],n,o,u);return null}return n=yn(n),i&&i[le]?i.N(e,n,Qe(o)?!!o.capture:!!o,u):mn(i,e,n,!1,o,u)}function mn(i,e,n,o,u,p){if(!e)throw Error("Invalid event type");var _=Qe(u)?!!u.capture:!!u,b=We(i);if(b||(i[zn]=b=new on(i)),(n=b.add(e,n,o,_,p)).proxy)return n;if(o=function Ee(){var e=fe;return function i(n){return e.call(i.src,i.listener,n)}}(),n.proxy=o,o.src=i,o.listener=n,i.addEventListener)ti||(u=_),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(j(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return n}function he(i,e,n,o,u){if(Array.isArray(e)){for(var p=0;p<e.length;p++)he(i,e[p],n,o,u);return null}return n=yn(n),i&&i[le]?i.O(e,n,Qe(o)?!!o.capture:!!o,u):mn(i,e,n,!0,o,u)}function q(i,e,n,o,u){if(Array.isArray(e))for(var p=0;p<e.length;p++)q(i,e[p],n,o,u);else o=Qe(o)?!!o.capture:!!o,n=yn(n),i&&i[le]?(i=i.i,(e=String(e).toString())in i.g&&-1<(n=Ot(p=i.g[e],n,o,u))&&(Zt(p[n]),Array.prototype.splice.call(p,n,1),0==p.length&&(delete i.g[e],i.h--))):i&&(i=We(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Ot(e,n,o,u)),(n=-1<i?e[i]:null)&&N(n))}function N(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[le])Gt(e.i,i);else{var n=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(n,o,i.capture):e.detachEvent?e.detachEvent(j(n),o):e.addListener&&e.removeListener&&e.removeListener(o),(n=We(e))?(Gt(n,i),0==n.h&&(n.src=null,e[zn]=null)):Zt(i)}}}function j(i){return i in ln?ln[i]:ln[i]="on"+i}function fe(i,e){if(i.ca)i=!0;else{e=new at(e,this);var n=i.listener,o=i.ia||i.src;i.fa&&N(i),i=n.call(o,e)}return i}function We(i){return(i=i[zn])instanceof on?i:null}var Pt="__closure_events_fn_"+(1e9*Math.random()>>>0);function yn(i){return"function"==typeof i?i:(i[Pt]||(i[Pt]=function(e){return i.handleEvent(e)}),i[Pt])}function nn(){pe.call(this),this.i=new on(this),this.P=this,this.I=null}function On(i,e){var n,o=i.I;if(o)for(n=[];o;o=o.I)n.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new Mn(e,i);else if(e instanceof Mn)e.target=e.target||i;else{var u=e;et(e=new Mn(o,i),u)}if(u=!0,n)for(var p=n.length-1;0<=p;p--){var _=e.g=n[p];u=$e(_,o,!0,e)&&u}if(u=$e(_=e.g=i,o,!0,e)&&u,u=$e(_,o,!1,e)&&u,n)for(p=0;p<n.length;p++)u=$e(_=e.g=n[p],o,!1,e)&&u}function $e(i,e,n,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,p=0;p<e.length;++p){var _=e[p];if(_&&!_.ca&&_.capture==n){var b=_.listener,V=_.ia||_.src;_.fa&&Gt(i.i,_),u=!1!==b.call(V,o)&&u}}return u&&!o.defaultPrevented}Re(nn,pe),nn.prototype[le]=!0,nn.prototype.removeEventListener=function(i,e,n,o){q(this,i,e,n,o)},nn.prototype.M=function(){if(nn.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var n=i.g[e],o=0;o<n.length;o++)Zt(n[o]);delete i.g[e],i.h--}}this.I=null},nn.prototype.N=function(i,e,n,o){return this.i.add(String(i),e,!1,n,o)},nn.prototype.O=function(i,e,n,o){return this.i.add(String(i),e,!0,n,o)};var me=ee.JSON.stringify;function ye(){var i=Xe;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var ue,Ut=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new cn,i=>i.reset());class cn{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function pn(i){ee.setTimeout(()=>{throw i},0)}function oe(i,e){ue||function ne(){var i=ee.Promise.resolve(void 0);ue=function(){i.then(jt)}}(),Oe||(ue(),Oe=!0),Xe.add(i,e)}var Oe=!1,Xe=new class ct{constructor(){this.h=this.g=null}add(e,n){const o=Ut.get();o.set(e,n),this.h?this.h.next=o:this.g=o,this.h=o}};function jt(){for(var i;i=ye();){try{i.h.call(i.g)}catch(n){pn(n)}var e=Ut;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Oe=!1}function _n(i,e){nn.call(this),this.h=i||1,this.g=e||ee,this.j=Me(this.kb,this),this.l=Date.now()}function Pn(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function wr(i,e,n){if("function"==typeof i)n&&(i=Me(i,n));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Me(i.handleEvent,i)}return 2147483647<Number(e)?-1:ee.setTimeout(i,e||0)}function oi(i){i.g=wr(()=>{i.g=null,i.i&&(i.i=!1,oi(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Re(_n,nn),(se=_n.prototype).da=!1,se.S=null,se.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),On(this,"tick"),this.da&&(Pn(this),this.start()))}},se.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},se.M=function(){_n.Z.M.call(this),Pn(this),delete this.g};class hn extends pe{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:oi(this)}M(){super.M(),this.g&&(ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qr(i){pe.call(this),this.h=i,this.g={}}Re(qr,pe);var Wn=[];function ki(i,e,n,o){Array.isArray(n)||(n&&(Wn[0]=n.toString()),n=Wn);for(var u=0;u<n.length;u++){var p=Er(e,n[u],o||i.handleEvent,!1,i.h||i);if(!p)break;i.g[p.key]=p}}function Fi(i){ft(i.g,function(e,n){this.g.hasOwnProperty(n)&&N(e)},i),i.g={}}function yr(){this.g=!0}function Zr(i,e,n,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function wo(i,e){if(!i.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(i=0;i<n.length;i++)if(Array.isArray(n[i])){var o=n[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var p=u[0];if("noop"!=p&&"stop"!=p&&"close"!=p)for(var _=1;_<u.length;_++)u[_]=""}}}return me(n)}catch{return e}}(i,n)+(o?" "+o:"")})}qr.prototype.M=function(){qr.Z.M.call(this),Fi(this)},qr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},yr.prototype.Aa=function(){this.g=!1},yr.prototype.info=function(){};var Yn={},Ao=null;function pi(){return Ao=Ao||new nn}function zs(i){Mn.call(this,Yn.Ma,i)}function Ii(i){const e=pi();On(e,new zs(e,i))}function Gi(i,e){Mn.call(this,Yn.STAT_EVENT,i),this.stat=e}function Pe(i){const e=pi();On(e,new Gi(e,i))}function ke(i,e){Mn.call(this,Yn.Na,i),this.size=e}function ze(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return ee.setTimeout(function(){i()},e)}Yn.Ma="serverreachability",Re(zs,Mn),Yn.STAT_EVENT="statevent",Re(Gi,Mn),Yn.Na="timingevent",Re(ke,Mn);var yt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Ct={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Wt(){}function Sr(){}Wt.prototype.h=null;var Ho,Kn={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ir(){Mn.call(this,"d")}function rs(){Mn.call(this,"c")}function Ss(){}function gi(i,e,n,o){this.l=i,this.j=e,this.m=n,this.X=o||1,this.V=new qr(this),this.P=zi,this.W=new _n(i=In?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ws}function Ws(){this.i=null,this.g="",this.h=!1}Re(Ir,Mn),Re(rs,Mn),Re(Ss,Wt),Ss.prototype.g=function(){return new XMLHttpRequest},Ss.prototype.i=function(){return{}},Ho=new Ss;var zi=45e3,Go={},Wi={};function Mo(i,e,n){i.K=1,i.v=Ti(ss(e)),i.s=n,i.U=!0,Io(i,null)}function Io(i,e){i.F=Date.now(),Di(i),i.A=ss(i.v);var n=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),jn(n.h,"t",o),i.C=0,n=i.l.H,i.h=new Ws,i.g=or(i.l,n?e:null,!i.s),0<i.O&&(i.L=new hn(Me(i.Ia,i,i.g),i.O)),ki(i.V,i.g,"readystatechange",i.gb),e=i.H?tn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),Ii(1),function Ts(i,e,n,o,u,p){i.info(function(){if(i.g)if(p)for(var _="",b=p.split("&"),V=0;V<b.length;V++){var z=b[V].split("=");if(1<z.length){var J=z[0];z=z[1];var we=J.split("_");_=2<=we.length&&"type"==we[1]?_+(J+"=")+z+"&":_+(J+"=redacted&")}}else _=null;else _=p;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+n+"\n"+_})}(i.j,i.u,i.A,i.m,i.X,i.s)}function xo(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function Ks(i,e,n){let u,o=!0;for(;!i.I&&i.C<n.length;){if(u=ps(i,n),u==Wi){4==e&&(i.o=4,Pe(14),o=!1),Zr(i.j,i.m,null,"[Incomplete Response]");break}if(u==Go){i.o=4,Pe(15),Zr(i.j,i.m,n,"[Invalid Chunk]"),o=!1;break}Zr(i.j,i.m,u,null),Ki(i,u)}xo(i)&&u!=Wi&&u!=Go&&(i.h.g="",i.C=0),4!=e||0!=n.length||i.h.h||(i.o=1,Pe(16),o=!1),i.i=i.i&&o,o?0<n.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Z(e),e.L=!0,Pe(11))):(Zr(i.j,i.m,n,"[Invalid Chunked Response]"),mi(i),Ci(i))}function ps(i,e){var n=i.C,o=e.indexOf("\n",n);return-1==o?Wi:(n=Number(e.substring(n,o)),isNaN(n)?Go:(o+=1)+n>e.length?Wi:(e=e.substr(o,n),i.C=o+n,e))}function Di(i){i.Y=Date.now()+i.P,Do(i,i.P)}function Do(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=ze(Me(i.eb,i),e)}function qs(i){i.B&&(ee.clearTimeout(i.B),i.B=null)}function Ci(i){0==i.l.G||i.I||mt(i.l,i)}function mi(i){qs(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Pn(i.W),Fi(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Ki(i,e){try{var n=i.l;if(0!=n.G&&(n.g==i||Mi(n.i,i)))if(n.I=i.N,!i.J&&Mi(n.i,i)&&3==n.G){try{var o=n.Ca.g.parse(e)}catch{o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<i.F))break e;rt(n),ks(n)}R(n),Pe(18)}}else n.ta=u[1],0<n.ta-n.U&&37500>u[2]&&n.N&&0==n.A&&!n.v&&(n.v=ze(Me(n.ab,n),6e3));if(1>=Tn(n.i)&&n.ka){try{n.ka()}catch{}n.ka=void 0}}else Qn(n,11)}else if((i.J||n.g==i)&&rt(n),!He(e))for(u=n.Ca.g.parse(e),e=0;e<u.length;e++){let z=u[e];if(n.U=z[0],z=z[1],2==n.G)if("c"==z[0]){n.J=z[1],n.la=z[2];const J=z[3];null!=J&&(n.ma=J,n.h.info("VER="+n.ma));const we=z[4];null!=we&&(n.za=we,n.h.info("SVER="+n.za));const st=z[5];null!=st&&"number"==typeof st&&0<st&&(n.K=o=1.5*st,n.h.info("backChannelRequestTimeoutMs_="+o)),o=n;const Dt=i.g;if(Dt){const At=Dt.g?Dt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(At){var p=o.i;!p.g&&(dt(At,"spdy")||dt(At,"quic")||dt(At,"h2"))&&(p.j=p.l,p.g=new Set,p.h&&(No(p,p.h),p.h=null))}if(o.D){const rn=Dt.g?Dt.g.getResponseHeader("X-HTTP-Session-Id"):null;rn&&(o.sa=rn,nr(o.F,o.D,rn))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-i.F,n.h.info("Handshake RTT: "+n.O+"ms"));var _=i;if((o=n).oa=lr(o,o.H?o.la:null,o.W),_.J){Ps(o.i,_);var b=_,V=o.K;V&&b.setTimeout(V),b.B&&(qs(b),Di(b)),o.g=_}else G(o);0<n.l.length&&vs(n)}else"stop"!=z[0]&&"close"!=z[0]||Qn(n,7);else 3==n.G&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?Qn(n,7):bo(n):"noop"!=z[0]&&n.j&&n.j.wa(z),n.A=0)}Ii(4)}catch{}}function qi(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(De(i)||"string"==typeof i)Ve(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var n=i.T();else if(i.R&&"function"==typeof i.R)n=void 0;else if(De(i)||"string"==typeof i){n=[];for(var o=i.length,u=0;u<o;u++)n.push(u)}else for(u in n=[],o=0,i)n[o++]=u;o=function oo(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(De(i)){for(var e=[],n=i.length,o=0;o<n;o++)e.push(i[o]);return e}for(o in e=[],n=0,i)e[n++]=i[o];return e}(i),u=o.length;for(var p=0;p<u;p++)e.call(void 0,o[p],n&&n[p],i)}}function Yr(i,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var o=0;o<n;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof Yr)for(n=i.T(),o=0;o<n.length;o++)this.set(n[o],i.get(n[o]));else for(o in i)this.set(o,i[o])}function As(i){if(i.i!=i.g.length){for(var e=0,n=0;e<i.g.length;){var o=i.g[e];Dr(i.h,o)&&(i.g[n++]=o),e++}i.g.length=n}if(i.i!=i.g.length){var u={};for(n=e=0;e<i.g.length;)Dr(u,o=i.g[e])||(i.g[n++]=o,u[o]=1),e++;i.g.length=n}}function Dr(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(se=gi.prototype).setTimeout=function(i){this.P=i},se.gb=function(i){i=i.target;const e=this.L;e&&3==$r(i)?e.l():this.Ia(i)},se.Ia=function(i){try{if(i==this.g)e:{const J=$r(this.g);var e=this.g.Da();const we=this.g.ba();if(!(3>J)&&(3!=J||In||this.g&&(this.h.h||this.g.ga()||ms(this.g)))){this.I||4!=J||7==e||Ii(8==e||0>=we?3:2),qs(this);var n=this.g.ba();this.N=n;t:if(xo(this)){var o=ms(this.g);i="";var u=o.length,p=4==$r(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),Ci(this);var _="";break t}this.h.i=new ee.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:p&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,_=this.h.g}else _=this.g.ga();if(this.i=200==n,function Ur(i,e,n,o,u,p,_){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+n+"\n"+p+" "+_})}(this.j,this.u,this.A,this.m,this.X,J,n),this.i){if(this.$&&!this.J){t:{if(this.g){var b,V=this.g;if((b=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!He(b)){var z=b;break t}}z=null}if(!(n=z)){this.i=!1,this.o=3,Pe(12),mi(this),Ci(this);break e}Zr(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ki(this,n)}this.U?(Ks(this,J,_),In&&this.i&&3==J&&(ki(this.V,this.W,"tick",this.fb),this.W.start())):(Zr(this.j,this.m,_,null),Ki(this,_)),4==J&&mi(this),this.i&&!this.I&&(4==J?mt(this.l,this):(this.i=!1,Di(this)))}else 400==n&&0<_.indexOf("Unknown SID")?(this.o=3,Pe(12)):(this.o=0,Pe(13)),mi(this),Ci(this)}}}catch{}},se.fb=function(){if(this.g){var i=$r(this.g),e=this.g.ga();this.C<e.length&&(qs(this),Ks(this,i,e),this.i&&4!=i&&Di(this))}},se.cancel=function(){this.I=!0,mi(this)},se.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function jr(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Ii(3),Pe(17)),mi(this),this.o=2,Ci(this)):Do(this,this.Y-i)},(se=Yr.prototype).R=function(){As(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},se.T=function(){return As(this),this.g.concat()},se.get=function(i,e){return Dr(this.h,i)?this.h[i]:e},se.set=function(i,e){Dr(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},se.forEach=function(i,e){for(var n=this.T(),o=0;o<n.length;o++){var u=n[o],p=this.get(u);i.call(e,p,u,this)}};var Li=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function bi(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof bi){this.g=void 0!==e?e:i.g,Zi(this,i.j),this.s=i.s,Yi(this,i.i),gs(this,i.m),this.l=i.l,e=i.h;var n=new xr;n.i=e.i,e.g&&(n.g=new Yr(e.g),n.h=e.h),Co(this,n),this.o=i.o}else i&&(n=String(i).match(Li))?(this.g=!!e,Zi(this,n[1]||"",!0),this.s=ai(n[2]||""),Yi(this,n[3]||"",!0),gs(this,n[4]),this.l=ai(n[5]||"",!0),Co(this,n[6]||"",!0),this.o=ai(n[7]||"")):(this.g=!!e,this.h=new xr(null,this.g))}function ss(i){return new bi(i)}function Zi(i,e,n){i.j=n?ai(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function Yi(i,e,n){i.i=n?ai(e,!0):e}function gs(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Co(i,e,n){e instanceof xr?(i.h=e,function os(i,e){e&&!i.j&&(Qr(i),i.i=null,i.g.forEach(function(n,o){var u=o.toLowerCase();o!=u&&(Zs(this,o),jn(this,u,n))},i)),i.j=e}(i.h,i.g)):(n||(e=Si(e,lo)),i.h=new xr(e,i.g))}function nr(i,e,n){i.h.set(e,n)}function Ti(i){return nr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function ai(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Si(i,e,n){return"string"==typeof i?(i=encodeURI(i).replace(e,ao),n&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function ao(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}bi.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Si(e,uo,!0),":");var n=this.i;return(n||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Si(e,uo,!0),"@"),i.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&i.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&i.push("/"),i.push(Si(n,"/"==n.charAt(0)?Ro:kr,!0))),(n=this.h.toString())&&i.push("?",n),(n=this.o)&&i.push("#",Si(n,ui)),i.join("")};var uo=/[#\/\?@]/g,kr=/[#\?:]/g,Ro=/[#\?]/g,lo=/[#\?@]/g,ui=/#/g;function xr(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Qr(i){i.g||(i.g=new Yr,i.h=0,i.i&&function is(i,e){if(i){i=i.split("&");for(var n=0;n<i.length;n++){var o=i[n].indexOf("="),u=null;if(0<=o){var p=i[n].substring(0,o);u=i[n].substring(o+1)}else p=i[n];e(p,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,n){i.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Zs(i,e){Qr(i),e=Vi(i,e),Dr(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,Dr((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&As(i)))}function Ai(i,e){return Qr(i),e=Vi(i,e),Dr(i.g.h,e)}function jn(i,e,n){Zs(i,e),0<n.length&&(i.i=null,i.g.set(Vi(i,e),Se(n)),i.h+=n.length)}function Vi(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function Fr(i){this.l=i||Xr,i=ee.PerformanceNavigationTiming?0<(i=ee.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(ee.g&&ee.g.Ea&&ee.g.Ea()&&ee.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(se=xr.prototype).add=function(i,e){Qr(this),this.i=null,i=Vi(this,i);var n=this.g.get(i);return n||this.g.set(i,n=[]),n.push(e),this.h+=1,this},se.forEach=function(i,e){Qr(this),this.g.forEach(function(n,o){Ve(n,function(u){i.call(e,u,o,this)},this)},this)},se.T=function(){Qr(this);for(var i=this.g.R(),e=this.g.T(),n=[],o=0;o<e.length;o++)for(var u=i[o],p=0;p<u.length;p++)n.push(e[o]);return n},se.R=function(i){Qr(this);var e=[];if("string"==typeof i)Ai(this,i)&&(e=be(e,this.g.get(Vi(this,i))));else{i=this.g.R();for(var n=0;n<i.length;n++)e=be(e,i[n])}return e},se.set=function(i,e){return Qr(this),this.i=null,Ai(this,i=Vi(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},se.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},se.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),n=0;n<e.length;n++){var o=e[n],u=encodeURIComponent(String(o));o=this.R(o);for(var p=0;p<o.length;p++){var _=u;""!==o[p]&&(_+="="+encodeURIComponent(String(o[p]))),i.push(_)}}return this.i=i.join("&")};var Xr=10;function Rr(i){return!!i.h||!!i.g&&i.g.size>=i.j}function Tn(i){return i.h?1:i.g?i.g.size:0}function Mi(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function No(i,e){i.g?i.g.add(e):i.h=e}function Ps(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function li(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const n of i.g.values())e=e.concat(n.D);return e}return Se(i.i)}function Ui(){}function Ji(){this.g=new Ui}function Ms(i,e,n){const o=n||"";try{qi(i,function(u,p){let _=u;Qe(u)&&(_=me(u)),e.push(o+p+"="+encodeURIComponent(_))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function bt(i,e,n,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch{}}function Vn(i){this.l=i.$b||null,this.j=i.ib||!1}function us(i,e){nn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Bi,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fr.prototype.cancel=function(){if(this.i=li(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},Ui.prototype.stringify=function(i){return ee.JSON.stringify(i,void 0)},Ui.prototype.parse=function(i){return ee.JSON.parse(i,void 0)},Re(Vn,Wt),Vn.prototype.g=function(){return new us(this.l,this.j)},Vn.prototype.i=function(i){return function(){return i}}({}),Re(us,nn);var Bi=0;function Nr(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function xs(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Ys(i)}function Ys(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(se=us.prototype).open=function(i,e){if(this.readyState!=Bi)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Ys(this)},se.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||ee).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},se.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,xs(this)),this.readyState=Bi},se.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Ys(this)),this.g&&(this.readyState=3,Ys(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof ee.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Nr(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},se.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?xs(this):Ys(this),3==this.readyState&&Nr(this)}},se.Ua=function(i){this.g&&(this.response=this.responseText=i,xs(this))},se.Ta=function(i){this.g&&(this.response=i,xs(this))},se.ha=function(){this.g&&xs(this)},se.setRequestHeader=function(i,e){this.v.append(i,e)},se.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},se.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var n=e.next();!n.done;)i.push((n=n.value)[0]+": "+n[1]),n=e.next();return i.join("\r\n")},Object.defineProperty(us.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var vi=ee.JSON.parse;function rr(i){nn.call(this),this.headers=new Yr,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Qs,this.K=this.L=!1}Re(rr,nn);var Qs="",Jo=/^https?$/i,Js=["POST","PUT"];function P(i){return"content-type"==i.toLowerCase()}function M(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,Y(i),qt(i)}function Y(i){i.D||(i.D=!0,On(i,"complete"),On(i,"error"))}function ut(i){if(i.h&&typeof Be<"u"&&(!i.C[1]||4!=$r(i)||2!=i.ba()))if(i.v&&4==$r(i))wr(i.Fa,0,i);else if(On(i,"readystatechange"),4==$r(i)){i.h=!1;try{const b=i.ba();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var o;if(o=0===b){var u=String(i.H).match(Li)[1]||null;if(!u&&ee.self&&ee.self.location){var p=ee.self.location.protocol;u=p.substr(0,p.length-1)}o=!Jo.test(u?u.toLowerCase():"")}n=o}if(n)On(i,"complete"),On(i,"success");else{i.m=6;try{var _=2<$r(i)?i.g.statusText:""}catch{_=""}i.j=_+" ["+i.ba()+"]",Y(i)}}finally{qt(i)}}}function qt(i,e){if(i.g){ur(i);const n=i.g,o=i.C[0]?ae:null;i.g=null,i.C=null,e||On(i,"ready");try{n.onreadystatechange=o}catch{}}}function ur(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(ee.clearTimeout(i.A),i.A=null)}function $r(i){return i.g?i.g.readyState:0}function ms(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Qs:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function Rs(i,e,n){e:{for(o in n){var o=!1;break e}o=!0}o||(n=function ys(i){let e="";return ft(i,function(n,o){e+=o,e+=":",e+=n,e+="\r\n"}),e}(n),"string"==typeof i?null!=n&&encodeURIComponent(String(n)):nr(i,e,n))}function ji(i,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[i]||e}function co(i){this.za=0,this.l=[],this.h=new yr,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ji("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ji("baseRetryDelayMs",5e3,i),this.$a=ji("retryDelaySeedMs",1e4,i),this.Ya=ji("forwardChannelMaxRetries",2,i),this.ra=ji("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new Fr(i&&i.concurrentRequestLimit),this.Ca=new Ji,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function bo(i){if(ho(i),3==i.G){var e=i.V++,n=ss(i.F);nr(n,"SID",i.J),nr(n,"RID",e),nr(n,"TYPE","terminate"),Wo(i,n),(e=new gi(i,i.h,e,void 0)).K=2,e.v=Ti(ss(n)),n=!1,ee.navigator&&ee.navigator.sendBeacon&&(n=ee.navigator.sendBeacon(e.v.toString(),"")),!n&&ee.Image&&((new Image).src=e.v,n=!0),n||(e.g=or(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Di(e)}fr(i)}function ks(i){i.g&&(Z(i),i.g.cancel(),i.g=null)}function ho(i){ks(i),i.u&&(ee.clearTimeout(i.u),i.u=null),rt(i),i.i.cancel(),i.m&&("number"==typeof i.m&&ee.clearTimeout(i.m),i.m=null)}function Oo(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&vs(i)}function vs(i){Rr(i.i)||i.m||(i.m=!0,oe(i.Ha,i),i.C=0)}function Po(i,e){var n;n=e?e.m:i.V++;const o=ss(i.F);nr(o,"SID",i.J),nr(o,"RID",n),nr(o,"AID",i.U),Wo(i,o),i.o&&i.s&&Rs(o,i.o,i.s),n=new gi(i,i.h,n,i.C+1),null===i.o&&(n.H=i.s),e&&(i.l=e.D.concat(i.l)),e=x(i,n,1e3),n.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),No(i.i,n),Mo(n,o,e)}function Wo(i,e){i.j&&qi({},function(n,o){nr(e,o,n)})}function x(i,e,n){n=Math.min(i.l.length,n);var o=i.j?Me(i.j.Oa,i.j,i):null;e:{var u=i.l;let p=-1;for(;;){const _=["count="+n];-1==p?0<n?(p=u[0].h,_.push("ofs="+p)):p=0:_.push("ofs="+p);let b=!0;for(let V=0;V<n;V++){let z=u[V].h;const J=u[V].g;if(z-=p,0>z)p=Math.max(0,u[V].h-100),b=!1;else try{Ms(J,_,"req"+z+"_")}catch{o&&o(J)}}if(b){o=_.join("&");break e}}}return i=i.l.splice(0,n),e.D=i,o}function G(i){i.g||i.u||(i.Y=1,oe(i.Ga,i),i.A=0)}function R(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=ze(Me(i.Ga,i),Xt(i,i.A)),i.A++,0))}function Z(i){null!=i.B&&(ee.clearTimeout(i.B),i.B=null)}function ge(i){i.g=new gi(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=ss(i.oa);nr(e,"RID","rpc"),nr(e,"SID",i.J),nr(e,"CI",i.N?"0":"1"),nr(e,"AID",i.U),Wo(i,e),nr(e,"TYPE","xmlhttp"),i.o&&i.s&&Rs(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var n=i.g;i=i.la,n.K=1,n.v=Ti(ss(e)),n.s=null,n.U=!0,Io(n,i)}function rt(i){null!=i.v&&(ee.clearTimeout(i.v),i.v=null)}function mt(i,e){var n=null;if(i.g==e){rt(i),Z(i),i.g=null;var o=2}else{if(!Mi(i.i,e))return;n=e.D,Ps(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){n=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;On(o=pi(),new ke(o,n,e,u)),vs(i)}else G(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function Fa(i,e){return!(Tn(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=ze(Me(i.Ha,i,e),Xt(i,i.C)),i.C++,0)))}(i,e)||2==o&&R(i)))switch(n&&0<n.length&&(e=i.i,e.i=e.i.concat(n)),u){case 1:Qn(i,5);break;case 4:Qn(i,10);break;case 3:Qn(i,6);break;default:Qn(i,2)}}function Xt(i,e){let n=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(n*=2),n*e}function Qn(i,e){if(i.h.info("Error code "+e),2==e){var n=null;i.j&&(n=null);var o=Me(i.jb,i);n||(n=new bi("//www.google.com/images/cleardot.gif"),ee.location&&"http"==ee.location.protocol||Zi(n,"https"),Ti(n)),function as(i,e){const n=new yr;if(ee.Image){const o=new Image;o.onload=xt(bt,n,o,"TestLoadImage: loaded",!0,e),o.onerror=xt(bt,n,o,"TestLoadImage: error",!1,e),o.onabort=xt(bt,n,o,"TestLoadImage: abort",!1,e),o.ontimeout=xt(bt,n,o,"TestLoadImage: timeout",!1,e),ee.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(n.toString(),o)}else Pe(2);i.G=0,i.j&&i.j.va(e),fr(i),ho(i)}function fr(i){i.G=0,i.I=-1,i.j&&((0!=li(i.i).length||0!=i.l.length)&&(i.i.i.length=0,Se(i.l),i.l.length=0),i.j.ua())}function lr(i,e,n){let o=function yi(i){return i instanceof bi?ss(i):new bi(i,void 0)}(n);if(""!=o.i)e&&Yi(o,e+"."+o.i),gs(o,o.m);else{const u=ee.location;o=function Qi(i,e,n,o){var u=new bi(null,void 0);return i&&Zi(u,i),e&&Yi(u,e),n&&gs(u,n),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,n)}return i.aa&&ft(i.aa,function(u,p){nr(o,p,u)}),n=i.sa,(e=i.D)&&n&&nr(o,e,n),nr(o,"VER",i.ma),Wo(i,o),o}function or(i,e,n){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new rr(n&&i.Ba&&!i.qa?new Vn({ib:!0}):i.qa)).L=i.H,e}function Hr(){}function dr(){if(Ft&&!(10<=Number(mr)))throw Error("Environmental error: no available transport.")}function Jn(i,e){nn.call(this),this.g=new co(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!He(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!He(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new xi(this)}function Xs(i){Ir.call(this);var e=i.__sm__;if(e){e:{for(const n in e){i=n;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function _s(){rs.call(this),this.status=1}function xi(i){this.g=i}(se=rr.prototype).ea=function(i,e,n,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ho.g(),this.C=function Bn(i){return i.h||(i.h=i.i())}(this.u?this.u:Ho),this.g.onreadystatechange=Me(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(p){return void M(this,p)}i=n||"";const u=new Yr(this.headers);o&&qi(o,function(p,_){u.set(_,p)}),o=function Ue(i){e:{var e=P;const n=i.length,o="string"==typeof i?i.split(""):i;for(let u=0;u<n;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),n=ee.FormData&&i instanceof ee.FormData,!(0<=Te(Js,e))||o||n||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(p,_){this.g.setRequestHeader(_,p)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ur(this),0<this.B&&((this.K=function L(i){return Ft&&function Nn(){return function Ie(i){var e=_t;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Le(String(Un)).split("."),n=Le("9").split("."),o=Math.max(e.length,n.length);for(let _=0;0==i&&_<o;_++){var u=e[_]||"",p=n[_]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],p=/(\d*)(\D*)(.*)/.exec(p)||["","","",""],0==u[0].length&&0==p[0].length)break;i=It(0==u[1].length?0:parseInt(u[1],10),0==p[1].length?0:parseInt(p[1],10))||It(0==u[2].length,0==p[2].length)||It(u[2],p[2]),u=u[3],p=p[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Me(this.pa,this)):this.A=wr(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(p){M(this,p)}},se.pa=function(){typeof Be<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,On(this,"timeout"),this.abort(8))},se.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,On(this,"complete"),On(this,"abort"),qt(this))},se.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qt(this,!0)),rr.Z.M.call(this)},se.Fa=function(){this.s||(this.F||this.v||this.l?ut(this):this.cb())},se.cb=function(){ut(this)},se.ba=function(){try{return 2<$r(this)?this.g.status:-1}catch{return-1}},se.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},se.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),vi(e)}},se.Da=function(){return this.m},se.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(se=co.prototype).ma=8,se.G=1,se.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch{}},se.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const u=new gi(this,this.h,i,void 0);let p=this.s;if(this.P&&(p?(p=tn(p),et(p,this.P)):p=this.P),null===this.o&&(u.H=p),this.ja)e:{for(var e=0,n=0;n<this.l.length;n++){var o=this.l[n];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=n;break e}if(4096===e||n===this.l.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=x(this,u,e),nr(n=ss(this.F),"RID",i),nr(n,"CVER",22),this.D&&nr(n,"X-HTTP-Session-Id",this.D),Wo(this,n),this.o&&p&&Rs(n,this.o,p),No(this.i,u),this.Ra&&nr(n,"TYPE","init"),this.ja?(nr(n,"$req",e),nr(n,"SID","null"),u.$=!0,Mo(u,n,null)):Mo(u,n,e),this.G=2}}else 3==this.G&&(i?Po(this,i):0==this.l.length||Rr(this.i)||Po(this))},se.Ga=function(){if(this.u=null,ge(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=ze(Me(this.bb,this),i)}},se.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pe(10),ks(this),ge(this))},se.ab=function(){null!=this.v&&(this.v=null,ks(this),R(this),Pe(19))},se.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Pe(2)):(this.h.info("Failed to ping google.com"),Pe(1))},(se=Hr.prototype).xa=function(){},se.wa=function(){},se.va=function(){},se.ua=function(){},se.Oa=function(){},dr.prototype.g=function(i,e){return new Jn(i,e)},Re(Jn,nn),Jn.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,n=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),oe(Me(i.hb,i,e))),Pe(0),i.W=e,i.aa=n||{},i.N=i.X,i.F=lr(i,null,i.W),vs(i)},Jn.prototype.close=function(){bo(this.g)},Jn.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,Oo(this.g,e)}else this.v?((e={}).__data__=me(i),Oo(this.g,e)):Oo(this.g,i)},Jn.prototype.M=function(){this.g.j=null,delete this.j,bo(this.g),delete this.g,Jn.Z.M.call(this)},Re(Xs,Ir),Re(_s,rs),Re(xi,Hr),xi.prototype.xa=function(){On(this.g,"a")},xi.prototype.wa=function(i){On(this.g,new Xs(i))},xi.prototype.va=function(i){On(this.g,new _s(i))},xi.prototype.ua=function(){On(this.g,"b")},dr.prototype.createWebChannel=dr.prototype.g,Jn.prototype.send=Jn.prototype.u,Jn.prototype.open=Jn.prototype.m,Jn.prototype.close=Jn.prototype.close,yt.NO_ERROR=0,yt.TIMEOUT=8,yt.HTTP_ERROR=6,Ct.COMPLETE="complete",Sr.EventType=Kn,Kn.OPEN="a",Kn.CLOSE="b",Kn.ERROR="c",Kn.MESSAGE="d",nn.prototype.listen=nn.prototype.N,rr.prototype.listenOnce=rr.prototype.O,rr.prototype.getLastError=rr.prototype.La,rr.prototype.getLastErrorCode=rr.prototype.Da,rr.prototype.getStatus=rr.prototype.ba,rr.prototype.getResponseJson=rr.prototype.Qa,rr.prototype.getResponseText=rr.prototype.ga,rr.prototype.send=rr.prototype.ea;var ko=Ae.createWebChannelTransport=function(){return new dr},$i=Ae.getStatEventTarget=function(){return pi()},Xi=Ae.ErrorCode=yt,Xo=Ae.EventType=Ct,La=Ae.Event=Yn,Jr=Ae.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ko=Ae.FetchXmlHttpFactory=Vn,ea=Ae.WebChannel=Sr,Va=Ae.XhrIo=rr;const Ea="@firebase/firestore";class ci{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ci.UNAUTHENTICATED=new ci(null),ci.GOOGLE_CREDENTIALS=new ci("google-credentials-uid"),ci.FIRST_PARTY=new ci("first-party-uid"),ci.MOCK_USER=new ci("mock-user");let Fs="9.9.4";const Ls=new ce.Yd("@firebase/firestore");function wa(){return Ls.logLevel}function Ia(i){Ls.setLogLevel(i)}function Lt(i,...e){if(Ls.logLevel<=ce.in.DEBUG){const n=e.map(la);Ls.debug(`Firestore (${Fs}): ${i}`,...n)}}function ni(i,...e){if(Ls.logLevel<=ce.in.ERROR){const n=e.map(la);Ls.error(`Firestore (${Fs}): ${i}`,...n)}}function Lr(i,...e){if(Ls.logLevel<=ce.in.WARN){const n=e.map(la);Ls.warn(`Firestore (${Fs}): ${i}`,...n)}}function la(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function en(i="Unexpected state"){const e=`FIRESTORE (${Fs}) INTERNAL ASSERTION FAILED: `+i;throw ni(e),new Error(e)}function Rn(i,e){i||en()}function Da(i,e){i||en()}function Qt(i,e){return i}const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Et extends de.ZR{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _i{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class Ri{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Es{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ci.UNAUTHENTICATED))}shutdown(){}}class Ns{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class To{constructor(e){this.t=e,this.currentUser=ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var o=this;let u=this.i;const p=z=>this.i!==u?(u=this.i,n(z)):Promise.resolve();let _=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),_.resolve(),_=new _i,e.enqueueRetryable(()=>p(this.currentUser))};const b=()=>{const z=_;e.enqueueRetryable((0,h.Z)(function*(){yield z.promise,yield p(o.currentUser)}))},V=z=>{Lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),b()};this.t.onInit(z=>V(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?V(z):(Lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),_.resolve(),_=new _i)}},0),b()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(o=>this.i!==e?(Lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Rn("string"==typeof o.accessToken),new Ri(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rn(null===e||"string"==typeof e),new ci(e)}}class ca{constructor(e,n,o,u){this.h=e,this.l=n,this.m=o,this.g=u,this.type="FirstParty",this.user=ci.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Rn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class da{constructor(e,n,o,u){this.h=e,this.l=n,this.m=o,this.g=u}getToken(){return Promise.resolve(new ca(this.h,this.l,this.m,this.g))}start(e,n){e.enqueueRetryable(()=>n(ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fo{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ta{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,n){const o=p=>{null!=p.error&&Lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${p.error.message}`);const _=p.token!==this.A;return this.A=p.token,Lt("FirebaseAppCheckTokenProvider",`Received ${_?"new":"existing"} token.`),_?n(p.token):Promise.resolve()};this.o=p=>{e.enqueueRetryable(()=>o(p))};const u=p=>{Lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=p,this.appCheck.addTokenListener(this.o)};this.T.onInit(p=>u(p)),setTimeout(()=>{if(!this.appCheck){const p=this.T.getImmediate({optional:!0});p?u(p):Lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Rn("string"==typeof n.token),this.A=n.token,new fo(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function na(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let o=0;o<i;o++)n[o]=Math.floor(256*Math.random());return n}class eo{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=na(40);for(let p=0;p<u.length;++p)o.length<20&&u[p]<n&&(o+=e.charAt(u[p]%e.length))}return o}}function $n(i,e){return i<e?-1:i>e?1:0}function Vs(i,e,n){return i.length===e.length&&i.every((o,u)=>n(o,e[u]))}function Gr(i){return i+"\0"}class pr{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Et(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Et(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Et(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Et(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pr.fromMillis(Date.now())}static fromDate(e){return pr.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*n));return new pr(n,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?$n(this.nanoseconds,e.nanoseconds):$n(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new gn(e)}static min(){return new gn(new pr(0,0))}static max(){return new gn(new pr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ni{constructor(e,n,o){void 0===n?n=0:n>e.length&&en(),void 0===o?o=e.length-n:o>e.length-n&&en(),this.segments=e,this.offset=n,this.len=o}get length(){return this.len}isEqual(e){return 0===Ni.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ni?e.forEach(o=>{n.push(o)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,o=this.limit();n<o;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const o=Math.min(e.length,n.length);for(let u=0;u<o;u++){const p=e.get(u),_=n.get(u);if(p<_)return-1;if(p>_)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Xn extends Ni{construct(e,n,o){return new Xn(e,n,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const o of e){if(o.indexOf("//")>=0)throw new Et(ht.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);n.push(...o.split("/").filter(u=>u.length>0))}return new Xn(n)}static emptyPath(){return new Xn([])}}const qo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zr extends Ni{construct(e,n,o){return new zr(e,n,o)}static isValidIdentifier(e){return qo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zr(["__name__"])}static fromServerFormat(e){const n=[];let o="",u=0;const p=()=>{if(0===o.length)throw new Et(ht.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(o),o=""};let _=!1;for(;u<e.length;){const b=e[u];if("\\"===b){if(u+1===e.length)throw new Et(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const V=e[u+1];if("\\"!==V&&"."!==V&&"`"!==V)throw new Et(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=V,u+=2}else"`"===b?(_=!_,u++):"."!==b||_?(o+=b,u++):(p(),u++)}if(p(),_)throw new Et(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zr(n)}static emptyPath(){return new zr([])}}class Yt{constructor(e){this.path=e}static fromPath(e){return new Yt(Xn.fromString(e))}static fromName(e){return new Yt(Xn.fromString(e).popFirst(5))}static empty(){return new Yt(Xn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Xn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Xn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Yt(new Xn(e.slice()))}}class So{constructor(e,n,o,u){this.indexId=e,this.collectionGroup=n,this.fields=o,this.indexState=u}}function ha(i){return i.fields.find(e=>2===e.kind)}function po(i){return i.fields.filter(e=>2!==e.kind)}So.UNKNOWN_ID=-1;class ei{constructor(e,n){this.fieldPath=e,this.kind=n}}class Us{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Us(0,ri.min())}}function Fo(i,e){const n=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=gn.fromTimestamp(1e9===o?new pr(n+1,0):new pr(n,o));return new ri(u,Yt.empty(),e)}function mo(i){return new ri(i.readTime,i.key,-1)}class ri{constructor(e,n,o){this.readTime=e,this.documentKey=n,this.largestBatchId=o}static min(){return new ri(gn.min(),Yt.empty(),-1)}static max(){return new ri(gn.max(),Yt.empty(),-1)}}function Bs(i,e){let n=i.readTime.compareTo(e.readTime);return 0!==n?n:(n=Yt.comparator(i.documentKey,e.documentKey),0!==n?n:$n(i.largestBatchId,e.largestBatchId))}const ra="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vr{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function yo(i){return ba.apply(this,arguments)}function ba(){return ba=(0,h.Z)(function*(i){if(i.code!==ht.FAILED_PRECONDITION||i.message!==ra)throw i;Lt("LocalStore","Unexpectedly lost primary lease")}),ba.apply(this,arguments)}class lt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&en(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new lt((o,u)=>{this.nextCallback=p=>{this.wrapSuccess(e,p).next(o,u)},this.catchCallback=p=>{this.wrapFailure(n,p).next(o,u)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof lt?n:lt.resolve(n)}catch(n){return lt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):lt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):lt.reject(n)}static resolve(e){return new lt((n,o)=>{n(e)})}static reject(e){return new lt((n,o)=>{o(e)})}static waitFor(e){return new lt((n,o)=>{let u=0,p=0,_=!1;e.forEach(b=>{++u,b.next(()=>{++p,_&&p===u&&n()},V=>o(V))}),_=!0,p===u&&n()})}static or(e){let n=lt.resolve(!1);for(const o of e)n=n.next(u=>u?lt.resolve(u):o());return n}static forEach(e,n){const o=[];return e.forEach((u,p)=>{o.push(n.call(this,u,p))}),this.waitFor(o)}static mapArray(e,n){return new lt((o,u)=>{const p=e.length,_=new Array(p);let b=0;for(let V=0;V<p;V++){const z=V;n(e[z]).next(J=>{_[z]=J,++b,b===p&&o(_)},J=>u(J))}})}static doWhile(e,n){return new lt((o,u)=>{const p=()=>{!0===e()?n().next(()=>{p()},u):o()};p()})}}class Ua{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.P=new _i,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{n.error?this.P.reject(new Za(e,n.error)):this.P.resolve()},this.transaction.onerror=o=>{const u=Lo(o.target.error);this.P.reject(new Za(e,u))}}static open(e,n,o,u){try{return new Ua(n,e.transaction(u,o))}catch(p){throw new Za(n,p)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Lt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Ol(n)}}class to{constructor(e,n,o){this.name=e,this.version=n,this.S=o,12.2===to.D((0,de.z$)())&&ni("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Lt("SimpleDb","Removing database:",e),Zo(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,de.hl)())return!1;if(to.N())return!0;const e=(0,de.z$)(),n=to.D(e),o=0<n&&n<10,u=to.k(e),p=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||p)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.M)}static O(e,n){return e.store(n)}static D(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static k(e){const n=e.match(/Android ([\d.]+)/i),o=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(o)}F(e){var n=this;return(0,h.Z)(function*(){return n.db||(Lt("SimpleDb","Opening database:",n.name),n.db=yield new Promise((o,u)=>{const p=indexedDB.open(n.name,n.version);p.onsuccess=_=>{o(_.target.result)},p.onblocked=()=>{u(new Za(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},p.onerror=_=>{const b=_.target.error;u("VersionError"===b.name?new Et(ht.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===b.name?new Et(ht.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+b):new Za(e,b))},p.onupgradeneeded=_=>{Lt("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',_.oldVersion),n.S.$(_.target.result,p.transaction,_.oldVersion,n.version).next(()=>{Lt("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.B&&(n.db.onversionchange=o=>n.B(o)),n.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}runTransaction(e,n,o,u){var p=this;return(0,h.Z)(function*(){const _="readonly"===n;let b=0;for(;;){++b;try{p.db=yield p.F(e);const V=Ua.open(p.db,e,_?"readonly":"readwrite",o),z=u(V).next(J=>(V.V(),J)).catch(J=>(V.abort(J),lt.reject(J))).toPromise();return z.catch(()=>{}),yield V.v,z}catch(V){const z=V,J="FirebaseError"!==z.name&&b<3;if(Lt("SimpleDb","Transaction failed with error:",z.message,"Retrying:",J),p.close(),!J)return Promise.reject(z)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class qa{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Zo(this.U.delete())}}class Za extends Et{constructor(e,n){super(ht.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function ls(i){return"IndexedDbTransactionError"===i.name}class Ol{constructor(e){this.store=e}put(e,n){let o;return void 0!==n?(Lt("SimpleDb","PUT",this.store.name,e,n),o=this.store.put(n,e)):(Lt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Zo(o)}add(e){return Lt("SimpleDb","ADD",this.store.name,e,e),Zo(this.store.add(e))}get(e){return Zo(this.store.get(e)).next(n=>(void 0===n&&(n=null),Lt("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Lt("SimpleDb","DELETE",this.store.name,e),Zo(this.store.delete(e))}count(){return Lt("SimpleDb","COUNT",this.store.name),Zo(this.store.count())}W(e,n){const o=this.options(e,n);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),p=[];return this.H(u,(_,b)=>{p.push(b)}).next(()=>p)}{const u=this.store.getAll(o.range);return new lt((p,_)=>{u.onerror=b=>{_(b.target.error)},u.onsuccess=b=>{p(b.target.result)}})}}J(e,n){const o=this.store.getAll(e,null===n?void 0:n);return new lt((u,p)=>{o.onerror=_=>{p(_.target.error)},o.onsuccess=_=>{u(_.target.result)}})}Y(e,n){Lt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,n);o.X=!1;const u=this.cursor(o);return this.H(u,(p,_,b)=>b.delete())}Z(e,n){let o;n?o=e:(o={},n=e);const u=this.cursor(o);return this.H(u,n)}tt(e){const n=this.cursor({});return new lt((o,u)=>{n.onerror=p=>{const _=Lo(p.target.error);u(_)},n.onsuccess=p=>{const _=p.target.result;_?e(_.primaryKey,_.value).next(b=>{b?_.continue():o()}):o()}})}H(e,n){const o=[];return new lt((u,p)=>{e.onerror=_=>{p(_.target.error)},e.onsuccess=_=>{const b=_.target.result;if(!b)return void u();const V=new qa(b),z=n(b.primaryKey,b.value,V);if(z instanceof lt){const J=z.catch(we=>(V.done(),lt.reject(we)));o.push(J)}V.isDone?u():null===V.G?b.continue():b.continue(V.G)}}).next(()=>lt.waitFor(o))}options(e,n){let o;return void 0!==e&&("string"==typeof e?o=e:n=e),{index:o,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const o=this.store.index(e.index);return e.X?o.openKeyCursor(e.range,n):o.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Zo(i){return new lt((e,n)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=Lo(o.target.error);n(u)}})}let ii=!1;function Lo(i){const e=to.D((0,de.z$)());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(n)>=0){const o=new Et("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ii||(ii=!0,setTimeout(()=>{throw o},0)),o}}return i}class Ta{constructor(e,n){this.asyncQueue=e,this.et=n,this.task=null}start(){this.nt(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var n=this;Lt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,h.Z)(function*(){n.task=null;try{Lt("IndexBackiller",`Documents written: ${yield n.et.st()}`)}catch(o){ls(o)?Lt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",o):yield yo(o)}yield n.nt(1)}))}}class Ya{constructor(e,n){this.localStore=e,this.persistence=n}st(e=50){var n=this;return(0,h.Z)(function*(){return n.persistence.runTransaction("Backfill Indexes","readwrite-primary",o=>n.it(o,e))})()}it(e,n){const o=new Set;let u=n,p=!0;return lt.doWhile(()=>!0===p&&u>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(_=>{if(null!==_&&!o.has(_))return Lt("IndexBackiller",`Processing collection: ${_}`),this.rt(e,_,u).next(b=>{u-=b,o.add(_)});p=!1})).next(()=>n-u)}rt(e,n,o){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(u=>this.localStore.localDocuments.getNextDocuments(e,n,u,o).next(p=>{const _=p.changes;return this.localStore.indexManager.updateIndexEntries(e,_).next(()=>this.ot(u,p)).next(b=>(Lt("IndexBackiller",`Updating offset: ${b}`),this.localStore.indexManager.updateCollectionGroup(e,n,b))).next(()=>_.size)}))}ot(e,n){let o=e;return n.changes.forEach((u,p)=>{const _=mo(p);Bs(_,o)>0&&(o=_)}),new ri(o.readTime,o.documentKey,Math.max(n.batchId,e.largestBatchId))}}class ws{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=o=>this.ut(o),this.ct=o=>n.writeSequenceNumber(o))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function cs(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ds(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function pa(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}ws.at=-1;class Tr{constructor(e,n){this.comparator=e,this.root=n||Hi.EMPTY}insert(e,n){return new Tr(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Hi.BLACK,null,null))}remove(e){return new Tr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Hi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const o=this.comparator(e,n.key);if(0===o)return n.value;o<0?n=n.left:o>0&&(n=n.right)}return null}indexOf(e){let n=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return n+o.left.size;u<0?o=o.left:(n+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,o)=>(e(n,o),!1))}toString(){const e=[];return this.inorderTraversal((n,o)=>(e.push(`${n}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vo(this.root,e,this.comparator,!1)}getReverseIterator(){return new vo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vo(this.root,e,this.comparator,!0)}}class vo{constructor(e,n,o,u){this.isReverse=u,this.nodeStack=[];let p=1;for(;!e.isEmpty();)if(p=n?o(e.key,n):1,n&&u&&(p*=-1),p<0)e=this.isReverse?e.left:e.right;else{if(0===p){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Hi{constructor(e,n,o,u,p){this.key=e,this.value=n,this.color=o??Hi.RED,this.left=u??Hi.EMPTY,this.right=p??Hi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,o,u,p){return new Hi(e??this.key,n??this.value,o??this.color,u??this.left,p??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,o){let u=this;const p=o(e,u.key);return u=p<0?u.copy(null,null,null,u.left.insert(e,n,o),null):0===p?u.copy(null,n,null,null,null):u.copy(null,null,null,null,u.right.insert(e,n,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Hi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let o,u=this;if(n(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,n),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===n(e,u.key)){if(u.right.isEmpty())return Hi.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,n))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Hi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Hi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw en();const e=this.left.check();if(e!==this.right.check())throw en();return e+(this.isRed()?0:1)}}Hi.EMPTY=null,Hi.RED=!0,Hi.BLACK=!1,Hi.EMPTY=new class{constructor(){this.size=0}get key(){throw en()}get value(){throw en()}get color(){throw en()}get left(){throw en()}get right(){throw en()}copy(i,e,n,o,u){return this}insert(i,e,n){return new Hi(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class f{constructor(e){this.comparator=e,this.data=new Tr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,o)=>(e(n),!1))}forEachInRange(e,n){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;n(u.key)}}forEachWhile(e,n){let o;for(o=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new c(this.data.getIterator())}getIteratorFrom(e){return new c(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(o=>{n=n.add(o)}),n}isEqual(e){if(!(e instanceof f)||this.size!==e.size)return!1;const n=this.data.getIterator(),o=e.data.getIterator();for(;n.hasNext();){const u=n.getNext().key,p=o.getNext().key;if(0!==this.comparator(u,p))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new f(this.comparator);return n.data=e,n}}class c{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function l(i){return i.hasNext()?i.getNext():void 0}class m{constructor(e){this.fields=e,e.sort(zr.comparator)}static empty(){return new m([])}unionWith(e){let n=new f(zr.comparator);for(const o of this.fields)n=n.add(o);for(const o of e)n=n.add(o);return new m(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vs(this.fields,e.fields,(n,o)=>n.isEqual(o))}}function E(){return typeof atob<"u"}class C{constructor(e){this.binaryString=e}static fromBase64String(e){const n=atob(e);return new C(n)}static fromUint8Array(e){const n=function(o){let u="";for(let p=0;p<o.length;++p)u+=String.fromCharCode(o[p]);return u}(e);return new C(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $n(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}C.EMPTY_BYTE_STRING=new C("");const U=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $(i){if(Rn(!!i),"string"==typeof i){let e=0;const n=U.exec(i);if(Rn(!!n),n[1]){let u=n[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:X(i.seconds),nanos:X(i.nanos)}}function X(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function xe(i){return"string"==typeof i?C.fromBase64String(i):C.fromUint8Array(i)}function Tt(i){var e,n;return"server_timestamp"===(null===(n=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function gt(i){const e=i.mapValue.fields.__previous_value__;return Tt(e)?gt(e):e}function sn(i){const e=$(i.mapValue.fields.__local_write_time__.timestampValue);return new pr(e.seconds,e.nanos)}class Dn{constructor(e,n,o,u,p,_,b,V){this.databaseId=e,this.appId=n,this.persistenceKey=o,this.host=u,this.ssl=p,this.forceLongPolling=_,this.autoDetectLongPolling=b,this.useFetchStreams=V}}class fn{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fn("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof fn&&e.projectId===this.projectId&&e.database===this.database}}function Sn(i){return null==i}function Hn(i){return 0===i&&1/i==-1/0}function _r(i){return"number"==typeof i&&Number.isInteger(i)&&!Hn(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const gr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Or={nullValue:"NULL_VALUE"};function Wr(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Tt(i)?4:W(i)?9007199254740991:10:en()}function Oi(i,e){if(i===e)return!0;const n=Wr(i);if(n!==Wr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return sn(i).isEqual(sn(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const p=$(o.timestampValue),_=$(u.timestampValue);return p.seconds===_.seconds&&p.nanos===_.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,xe(i.bytesValue).isEqual(xe(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return X(o.geoPointValue.latitude)===X(u.geoPointValue.latitude)&&X(o.geoPointValue.longitude)===X(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return X(o.integerValue)===X(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const p=X(o.doubleValue),_=X(u.doubleValue);return p===_?Hn(p)===Hn(_):isNaN(p)&&isNaN(_)}return!1}(i,e);case 9:return Vs(i.arrayValue.values||[],e.arrayValue.values||[],Oi);case 10:return function(o,u){const p=o.mapValue.fields||{},_=u.mapValue.fields||{};if(cs(p)!==cs(_))return!1;for(const b in p)if(p.hasOwnProperty(b)&&(void 0===_[b]||!Oi(p[b],_[b])))return!1;return!0}(i,e);default:return en()}var u}function Is(i,e){return void 0!==(i.values||[]).find(n=>Oi(n,e))}function Ar(i,e){if(i===e)return 0;const n=Wr(i),o=Wr(e);if(n!==o)return $n(n,o);switch(n){case 0:case 9007199254740991:return 0;case 1:return $n(i.booleanValue,e.booleanValue);case 2:return function(u,p){const _=X(u.integerValue||u.doubleValue),b=X(p.integerValue||p.doubleValue);return _<b?-1:_>b?1:_===b?0:isNaN(_)?isNaN(b)?0:-1:1}(i,e);case 3:return Vo(i.timestampValue,e.timestampValue);case 4:return Vo(sn(i),sn(e));case 5:return $n(i.stringValue,e.stringValue);case 6:return function(u,p){const _=xe(u),b=xe(p);return _.compareTo(b)}(i.bytesValue,e.bytesValue);case 7:return function(u,p){const _=u.split("/"),b=p.split("/");for(let V=0;V<_.length&&V<b.length;V++){const z=$n(_[V],b[V]);if(0!==z)return z}return $n(_.length,b.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,p){const _=$n(X(u.latitude),X(p.latitude));return 0!==_?_:$n(X(u.longitude),X(p.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,p){const _=u.values||[],b=p.values||[];for(let V=0;V<_.length&&V<b.length;++V){const z=Ar(_[V],b[V]);if(z)return z}return $n(_.length,b.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,p){if(u===gr.mapValue&&p===gr.mapValue)return 0;if(u===gr.mapValue)return 1;if(p===gr.mapValue)return-1;const _=u.fields||{},b=Object.keys(_),V=p.fields||{},z=Object.keys(V);b.sort(),z.sort();for(let J=0;J<b.length&&J<z.length;++J){const we=$n(b[J],z[J]);if(0!==we)return we;const st=Ar(_[b[J]],V[z[J]]);if(0!==st)return st}return $n(b.length,z.length)}(i.mapValue,e.mapValue);default:throw en()}}function Vo(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return $n(i,e);const n=$(i),o=$(e),u=$n(n.seconds,o.seconds);return 0!==u?u:$n(n.nanos,o.nanos)}function di(i){return Os(i)}function Os(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=$(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?xe(i.bytesValue).toBase64():"referenceValue"in i?Yt.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",p=!0;for(const _ of o.values||[])p?p=!1:u+=",",u+=Os(_);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let p="{",_=!0;for(const b of u)_?_=!1:p+=",",p+=`${b}:${Os(o.fields[b])}`;return p+"}"}(i.mapValue):en();var e}function no(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function ia(i){return!!i&&"integerValue"in i}function Mr(i){return!!i&&"arrayValue"in i}function Sa(i){return!!i&&"nullValue"in i}function Qa(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function S(i){return!!i&&"mapValue"in i}function O(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ds(i.mapValue.fields,(n,o)=>e.mapValue.fields[n]=O(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=O(i.arrayValue.values[n]);return e}return Object.assign({},i)}function W(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function re(i){return"nullValue"in i?Or:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?no(fn.empty(),Yt.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:en()}function Fe(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?no(fn.empty(),Yt.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?gr:en()}function it(i,e){const n=Ar(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function wt(i,e){const n=Ar(i.value,e.value);return 0!==n?n:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class kt{constructor(e){this.value=e}static empty(){return new kt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let o=0;o<e.length-1;++o)if(n=(n.mapValue.fields||{})[e.get(o)],!S(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=O(n)}setAll(e){let n=zr.emptyPath(),o={},u=[];e.forEach((_,b)=>{if(!n.isImmediateParentOf(b)){const V=this.getFieldsMap(n);this.applyChanges(V,o,u),o={},u=[],n=b.popLast()}_?o[b.lastSegment()]=O(_):u.push(b.lastSegment())});const p=this.getFieldsMap(n);this.applyChanges(p,o,u)}delete(e){const n=this.field(e.popLast());S(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=n.mapValue.fields[e.get(o)];S(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},n.mapValue.fields[e.get(o)]=u),n=u}return n.mapValue.fields}applyChanges(e,n,o){ds(n,(u,p)=>e[u]=p);for(const u of o)delete e[u]}clone(){return new kt(O(this.value))}}function Jt(i){const e=[];return ds(i.fields,(n,o)=>{const u=new zr([n]);if(S(o)){const p=Jt(o.mapValue).fields;if(0===p.length)e.push(u);else for(const _ of p)e.push(u.child(_))}else e.push(u)}),new m(e)}class dn{constructor(e,n,o,u,p,_){this.key=e,this.documentType=n,this.version=o,this.readTime=u,this.data=p,this.documentState=_}static newInvalidDocument(e){return new dn(e,0,gn.min(),gn.min(),kt.empty(),0)}static newFoundDocument(e,n,o){return new dn(e,1,n,gn.min(),o,0)}static newNoDocument(e,n){return new dn(e,2,n,gn.min(),kt.empty(),0)}static newUnknownDocument(e,n){return new dn(e,3,n,gn.min(),kt.empty(),2)}convertToFoundDocument(e,n){return this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=kt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=kt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tr{constructor(e,n=null,o=[],u=[],p=null,_=null,b=null){this.path=e,this.collectionGroup=n,this.orderBy=o,this.filters=u,this.limit=p,this.startAt=_,this.endAt=b,this.ht=null}}function an(i,e=null,n=[],o=[],u=null,p=null,_=null){return new tr(i,e,n,o,u,p,_)}function Cr(i){const e=Qt(i);if(null===e.ht){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+di(u.value);var u}).join(","),n+="|ob:",n+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Sn(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(o=>di(o)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(o=>di(o)).join(",")),e.ht=n}return e.ht}function _o(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!bp(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((n=i.filters[u]).op!==(o=e.filters[u]).op||!n.field.isEqual(o.field)||!Oi(n.value,o.value))return!1;var n,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Ih(i.startAt,e.startAt)&&Ih(i.endAt,e.endAt)}function Uo(i){return Yt.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function ro(i,e){return i.filters.filter(n=>n instanceof es&&n.field.isEqual(e))}function Aa(i,e,n){let o=Or,u=!0;for(const p of ro(i,e)){let _=Or,b=!0;switch(p.op){case"<":case"<=":_=re(p.value);break;case"==":case"in":case">=":_=p.value;break;case">":_=p.value,b=!1;break;case"!=":case"not-in":_=Or}it({value:o,inclusive:u},{value:_,inclusive:b})<0&&(o=_,u=b)}if(null!==n)for(let p=0;p<i.orderBy.length;++p)if(i.orderBy[p].field.isEqual(e)){const _=n.position[p];it({value:o,inclusive:u},{value:_,inclusive:n.inclusive})<0&&(o=_,u=n.inclusive);break}return{value:o,inclusive:u}}function Fu(i,e,n){let o=gr,u=!0;for(const p of ro(i,e)){let _=gr,b=!0;switch(p.op){case">=":case">":_=Fe(p.value),b=!1;break;case"==":case"in":case"<=":_=p.value;break;case"<":_=p.value,b=!1;break;case"!=":case"not-in":_=gr}wt({value:o,inclusive:u},{value:_,inclusive:b})>0&&(o=_,u=b)}if(null!==n)for(let p=0;p<i.orderBy.length;++p)if(i.orderBy[p].field.isEqual(e)){const _=n.position[p];wt({value:o,inclusive:u},{value:_,inclusive:n.inclusive})>0&&(o=_,u=n.inclusive);break}return{value:o,inclusive:u}}class es extends class{}{constructor(e,n,o){super(),this.field=e,this.op=n,this.value=o}static create(e,n,o){return e.isKeyField()?"in"===n||"not-in"===n?this.lt(e,n,o):new Ma(e,n,o):"array-contains"===n?new nd(e,o):"in"===n?new wh(e,o):"not-in"===n?new gu(e,o):"array-contains-any"===n?new rd(e,o):new es(e,n,o)}static lt(e,n,o){return"in"===n?new xa(e,o):new lc(e,o)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.ft(Ar(n,this.value)):null!==n&&Wr(this.value)===Wr(n)&&this.ft(Ar(n,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return en()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ma extends es{constructor(e,n,o){super(e,n,o),this.key=Yt.fromName(o.referenceValue)}matches(e){const n=Yt.comparator(e.key,this.key);return this.ft(n)}}class xa extends es{constructor(e,n){super(e,"in",n),this.keys=td(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lc extends es{constructor(e,n){super(e,"not-in",n),this.keys=td(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function td(i,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(o=>Yt.fromName(o.referenceValue))}class nd extends es{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Mr(n)&&Is(n.arrayValue,this.value)}}class wh extends es{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&Is(this.value.arrayValue,n)}}class gu extends es{constructor(e,n){super(e,"not-in",n)}matches(e){if(Is(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!Is(this.value.arrayValue,n)}}class rd extends es{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Mr(n)||!n.arrayValue.values)&&n.arrayValue.values.some(o=>Is(this.value.arrayValue,o))}}class Ja{constructor(e,n){this.position=e,this.inclusive=n}}class mu{constructor(e,n="asc"){this.field=e,this.dir=n}}function bp(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function cc(i,e,n){let o=0;for(let u=0;u<i.position.length;u++){const p=e[u],_=i.position[u];if(o=p.field.isKeyField()?Yt.comparator(Yt.fromName(_.referenceValue),n.key):Ar(_,n.data.field(p.field)),"desc"===p.dir&&(o*=-1),0!==o)break}return o}function Ih(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Oi(i.position[n],e.position[n]))return!1;return!0}class ga{constructor(e,n=null,o=[],u=[],p=null,_="F",b=null,V=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=o,this.filters=u,this.limit=p,this.limitType=_,this.startAt=b,this.endAt=V,this._t=null,this.wt=null}}function id(i,e,n,o,u,p,_,b){return new ga(i,e,n,o,u,p,_,b)}function Ba(i){return new ga(i)}function sl(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function ol(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Xa(i){for(const e of i.filters)if(e.dt())return e.field;return null}function dc(i){return null!==i.collectionGroup}function Lu(i){const e=Qt(i);if(null===e._t){e._t=[];const n=Xa(e),o=ol(e);if(null!==n&&null===o)n.isKeyField()||e._t.push(new mu(n)),e._t.push(new mu(zr.keyField(),"asc"));else{let u=!1;for(const p of e.explicitOrderBy)e._t.push(p),p.field.isKeyField()&&(u=!0);if(!u){const p=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new mu(zr.keyField(),p))}}}return e._t}function Bo(i){const e=Qt(i);if(!e.wt)if("F"===e.limitType)e.wt=an(e.path,e.collectionGroup,Lu(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const p of Lu(e))n.push(new mu(p.field,"desc"===p.dir?"asc":"desc"));const o=e.endAt?new Ja(e.endAt.position,e.endAt.inclusive):null,u=e.startAt?new Ja(e.startAt.position,e.startAt.inclusive):null;e.wt=an(e.path,e.collectionGroup,n,e.filters,e.limit,o,u)}return e.wt}function yu(i,e,n){return new ga(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function vu(i,e){return _o(Bo(i),Bo(e))&&i.limitType===e.limitType}function hc(i){return`${Cr(Bo(i))}|lt:${i.limitType}`}function Pl(i){return`Query(target=${function Kr(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(n=>{return`${(o=n).field.canonicalString()} ${o.op} ${di(o.value)}`;var o}).join(", ")}]`),Sn(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(n=>{return`${(o=n).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(n=>di(n)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(n=>di(n)).join(",")),`Target(${e})`}(Bo(i))}; limitType=${i.limitType})`}function Vu(i,e){return e.isFoundDocument()&&function(n,o){const u=o.key.path;return null!==n.collectionGroup?o.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(u):Yt.isDocumentKey(n.path)?n.path.isEqual(u):n.path.isImmediateParentOf(u)}(i,e)&&function(n,o){for(const u of n.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(n,o){for(const u of n.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((n=i).startAt&&!function(u,p,_){const b=cc(u,p,_);return u.inclusive?b<=0:b<0}(n.startAt,Lu(n),o)||n.endAt&&!function(u,p,_){const b=cc(u,p,_);return u.inclusive?b>=0:b>0}(n.endAt,Lu(n),o)));var n,o}function eu(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function kl(i){return(e,n)=>{let o=!1;for(const u of Lu(i)){const p=Dh(u,e,n);if(0!==p)return p;o=o||u.field.isKeyField()}return 0}}function Dh(i,e,n){const o=i.field.isKeyField()?Yt.comparator(e.key,n.key):function(u,p,_){const b=p.data.field(u),V=_.data.field(u);return null!==b&&null!==V?Ar(b,V):en()}(i.field,e,n);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return en()}}function fc(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hn(e)?"-0":e}}function sd(i){return{integerValue:""+i}}function Fl(i,e){return _r(e)?sd(e):fc(i,e)}class sa{constructor(){this._=void 0}}function _u(i,e,n){return i instanceof Uu?function(o,u){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(p.fields.__previous_value__=u),{mapValue:p}}(n,e):i instanceof Eu?ud(i,e):i instanceof I?y(i,e):function(o,u){const p=ad(o,u),_=T(p)+T(o.yt);return ia(p)&&ia(o.yt)?sd(_):fc(o.It,_)}(i,e)}function od(i,e,n){return i instanceof Eu?ud(i,e):i instanceof I?y(i,e):n}function ad(i,e){return i instanceof v?ia(n=e)||(o=n)&&"doubleValue"in o?e:{integerValue:0}:null;var o,n}class Uu extends sa{}class Eu extends sa{constructor(e){super(),this.elements=e}}function ud(i,e){const n=K(e);for(const o of i.elements)n.some(u=>Oi(u,o))||n.push(o);return{arrayValue:{values:n}}}class I extends sa{constructor(e){super(),this.elements=e}}function y(i,e){let n=K(e);for(const o of i.elements)n=n.filter(u=>!Oi(u,o));return{arrayValue:{values:n}}}class v extends sa{constructor(e,n){super(),this.It=e,this.yt=n}}function T(i){return X(i.integerValue||i.doubleValue)}function K(i){return Mr(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class te{constructor(e,n){this.field=e,this.transform=n}}class Nt{constructor(e,n){this.version=e,this.transformResults=n}}class Vt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Vt}static exists(e){return new Vt(void 0,e)}static updateTime(e){return new Vt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cn(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class sr{}function hi(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new tu(i.key,Vt.none()):new Ra(i.key,i.data,Vt.none());{const n=i.data,o=kt.empty();let u=new f(zr.comparator);for(let p of e.fields)if(!u.has(p)){let _=n.field(p);null===_&&p.length>1&&(p=p.popLast(),_=n.field(p)),null===_?o.delete(p):o.set(p,_),u=u.add(p)}return new oa(i.key,o,new m(u.toArray()),Vt.none())}}function ma(i,e,n){i instanceof Ra?function(o,u,p){const _=o.value.clone(),b=gc(o.fieldTransforms,u,p.transformResults);_.setAll(b),u.convertToFoundDocument(p.version,_).setHasCommittedMutations()}(i,e,n):i instanceof oa?function(o,u,p){if(!Cn(o.precondition,u))return void u.convertToUnknownDocument(p.version);const _=gc(o.fieldTransforms,u,p.transformResults),b=u.data;b.setAll(al(o)),b.setAll(_),u.convertToFoundDocument(p.version,b).setHasCommittedMutations()}(i,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function ya(i,e,n,o){return i instanceof Ra?function(u,p,_,b){if(!Cn(u.precondition,p))return _;const V=u.value.clone(),z=cd(u.fieldTransforms,b,p);return V.setAll(z),p.convertToFoundDocument(p.version,V).setHasLocalMutations(),null}(i,e,n,o):i instanceof oa?function(u,p,_,b){if(!Cn(u.precondition,p))return _;const V=cd(u.fieldTransforms,b,p),z=p.data;return z.setAll(al(u)),z.setAll(V),p.convertToFoundDocument(p.version,z).setHasLocalMutations(),null===_?null:_.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(J=>J.field))}(i,e,n,o):(_=n,Cn(i.precondition,p=e)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):_);var p,_}function pc(i,e){let n=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),p=ad(o.transform,u||null);null!=p&&(null===n&&(n=kt.empty()),n.set(o.field,p))}return n||null}function ld(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(n=i.fieldTransforms)&&void 0===o||n&&o&&Vs(n,o,(u,p)=>function Ye(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(n=i.transform)instanceof Eu&&o instanceof Eu||n instanceof I&&o instanceof I?Vs(n.elements,o.elements,Oi):n instanceof v&&o instanceof v?Oi(n.yt,o.yt):n instanceof Uu&&o instanceof Uu);var n,o}(u,p))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var n,o}class Ra extends sr{constructor(e,n,o,u=[]){super(),this.key=e,this.value=n,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class oa extends sr{constructor(e,n,o,u,p=[]){super(),this.key=e,this.data=n,this.fieldMask=o,this.precondition=u,this.fieldTransforms=p,this.type=1}getFieldMask(){return this.fieldMask}}function al(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const o=i.data.field(n);e.set(n,o)}}),e}function gc(i,e,n){const o=new Map;Rn(i.length===n.length);for(let u=0;u<n.length;u++){const p=i[u],_=p.transform,b=e.data.field(p.field);o.set(p.field,od(_,b,n[u]))}return o}function cd(i,e,n){const o=new Map;for(const u of i){const p=u.transform,_=n.data.field(u.field);o.set(u.field,_u(p,_,e))}return o}class tu extends sr{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ul extends sr{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class dd{constructor(e){this.count=e}}var Ds,br;function mc(i){switch(i){default:return en();case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0}}function yc(i){if(void 0===i)return ni("GRPC error has no .code"),ht.UNKNOWN;switch(i){case Ds.OK:return ht.OK;case Ds.CANCELLED:return ht.CANCELLED;case Ds.UNKNOWN:return ht.UNKNOWN;case Ds.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case Ds.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case Ds.INTERNAL:return ht.INTERNAL;case Ds.UNAVAILABLE:return ht.UNAVAILABLE;case Ds.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case Ds.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case Ds.NOT_FOUND:return ht.NOT_FOUND;case Ds.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case Ds.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case Ds.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case Ds.ABORTED:return ht.ABORTED;case Ds.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case Ds.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case Ds.DATA_LOSS:return ht.DATA_LOSS;default:return en()}}(br=Ds||(Ds={}))[br.OK=0]="OK",br[br.CANCELLED=1]="CANCELLED",br[br.UNKNOWN=2]="UNKNOWN",br[br.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",br[br.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",br[br.NOT_FOUND=5]="NOT_FOUND",br[br.ALREADY_EXISTS=6]="ALREADY_EXISTS",br[br.PERMISSION_DENIED=7]="PERMISSION_DENIED",br[br.UNAUTHENTICATED=16]="UNAUTHENTICATED",br[br.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",br[br.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",br[br.ABORTED=10]="ABORTED",br[br.OUT_OF_RANGE=11]="OUT_OF_RANGE",br[br.UNIMPLEMENTED=12]="UNIMPLEMENTED",br[br.INTERNAL=13]="INTERNAL",br[br.UNAVAILABLE=14]="UNAVAILABLE",br[br.DATA_LOSS=15]="DATA_LOSS";class wu{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0!==o)for(const[u,p]of o)if(this.equalsFn(u,e))return p}has(e){return void 0!==this.get(e)}set(e,n){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,n]],void this.innerSize++;for(let p=0;p<u.length;p++)if(this.equalsFn(u[p][0],e))return void(u[p]=[e,n]);u.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),o=this.inner[n];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[n]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){ds(this.inner,(n,o)=>{for(const[u,p]of o)e(u,p)})}isEmpty(){return pa(this.inner)}size(){return this.innerSize}}const Ch=new Tr(Yt.comparator);function aa(){return Ch}const Cs=new Tr(Yt.comparator);function Ll(...i){let e=Cs;for(const n of i)e=e.insert(n.key,n);return e}function Tp(i){let e=Cs;return i.forEach((n,o)=>e=e.insert(n,o.overlayedDocument)),e}function Na(){return vc()}function bh(){return vc()}function vc(){return new wu(i=>i.toString(),(i,e)=>i.isEqual(e))}const Mm=new Tr(Yt.comparator),xm=new f(Yt.comparator);function hr(...i){let e=xm;for(const n of i)e=e.add(n);return e}const Rm=new f($n);function Th(){return Rm}class hd{constructor(e,n,o,u,p){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=p}static createSynthesizedRemoteEventForCurrentChange(e,n){const o=new Map;return o.set(e,Iu.createSynthesizedTargetChangeForCurrentChange(e,n)),new hd(gn.min(),o,Th(),aa(),hr())}}class Iu{constructor(e,n,o,u,p){this.resumeToken=e,this.current=n,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=p}static createSynthesizedTargetChangeForCurrentChange(e,n){return new Iu(C.EMPTY_BYTE_STRING,n,hr(),hr(),hr())}}class Vl{constructor(e,n,o,u){this.Tt=e,this.removedTargetIds=n,this.key=o,this.Et=u}}class Sh{constructor(e,n){this.targetId=e,this.At=n}}class Ah{constructor(e,n,o=C.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=n,this.resumeToken=o,this.cause=u}}class Mh{constructor(){this.Rt=0,this.bt=Rh(),this.Pt=C.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=hr(),n=hr(),o=hr();return this.bt.forEach((u,p)=>{switch(p){case 0:e=e.add(u);break;case 2:n=n.add(u);break;case 1:o=o.add(u);break;default:en()}}),new Iu(this.Pt,this.vt,e,n,o)}Nt(){this.Vt=!1,this.bt=Rh()}kt(e,n){this.Vt=!0,this.bt=this.bt.insert(e,n)}Mt(e){this.Vt=!0,this.bt=this.bt.remove(e)}Ot(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Nm{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=aa(),this.qt=xh(),this.Kt=new f($n)}Gt(e){for(const n of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(n,e.Et):this.jt(n,e.key,e.Et);for(const n of e.removedTargetIds)this.jt(n,e.key,e.Et)}Wt(e){this.forEachTarget(e,n=>{const o=this.zt(n);switch(e.state){case 0:this.Ht(n)&&o.Ct(e.resumeToken);break;case 1:o.Ft(),o.St||o.Nt(),o.Ct(e.resumeToken);break;case 2:o.Ft(),o.St||this.removeTarget(n);break;case 3:this.Ht(n)&&(o.$t(),o.Ct(e.resumeToken));break;case 4:this.Ht(n)&&(this.Jt(n),o.Ct(e.resumeToken));break;default:en()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Lt.forEach((o,u)=>{this.Ht(u)&&n(u)})}Yt(e){const n=e.targetId,o=e.At.count,u=this.Xt(n);if(u){const p=u.target;if(Uo(p))if(0===o){const _=new Yt(p.path);this.jt(n,_,dn.newNoDocument(_,gn.min()))}else Rn(1===o);else this.Zt(n)!==o&&(this.Jt(n),this.Kt=this.Kt.add(n))}}te(e){const n=new Map;this.Lt.forEach((p,_)=>{const b=this.Xt(_);if(b){if(p.current&&Uo(b.target)){const V=new Yt(b.target.path);null!==this.Ut.get(V)||this.ee(_,V)||this.jt(_,V,dn.newNoDocument(V,e))}p.Dt&&(n.set(_,p.xt()),p.Nt())}});let o=hr();this.qt.forEach((p,_)=>{let b=!0;_.forEachWhile(V=>{const z=this.Xt(V);return!z||2===z.purpose||(b=!1,!1)}),b&&(o=o.add(p))}),this.Ut.forEach((p,_)=>_.setReadTime(e));const u=new hd(e,n,this.Kt,this.Ut,o);return this.Ut=aa(),this.qt=xh(),this.Kt=new f($n),u}Qt(e,n){if(!this.Ht(e))return;const o=this.ee(e,n.key)?2:0;this.zt(e).kt(n.key,o),this.Ut=this.Ut.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ne(n.key).add(e))}jt(e,n,o){if(!this.Ht(e))return;const u=this.zt(e);this.ee(e,n)?u.kt(n,1):u.Mt(n),this.qt=this.qt.insert(n,this.ne(n).delete(e)),o&&(this.Ut=this.Ut.insert(n,o))}removeTarget(e){this.Lt.delete(e)}Zt(e){const n=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.zt(e).Ot()}zt(e){let n=this.Lt.get(e);return n||(n=new Mh,this.Lt.set(e,n)),n}ne(e){let n=this.qt.get(e);return n||(n=new f($n),this.qt=this.qt.insert(e,n)),n}Ht(e){const n=null!==this.Xt(e);return n||Lt("WatchChangeAggregator","Detected inactive target",e),n}Xt(e){const n=this.Lt.get(e);return n&&n.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new Mh),this.Bt.getRemoteKeysForTarget(e).forEach(n=>{this.jt(e,n,null)})}ee(e,n){return this.Bt.getRemoteKeysForTarget(e).has(n)}}function xh(){return new Tr(Yt.comparator)}function Rh(){return new Tr(Yt.comparator)}const Nh={asc:"ASCENDING",desc:"DESCENDING"},Vv={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Om{constructor(e,n){this.databaseId=e,this.gt=n}}function ll(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Oh(i,e){return i.gt?e.toBase64():e.toUint8Array()}function Sp(i,e){return ll(i,e.toTimestamp())}function ts(i){return Rn(!!i),gn.fromTimestamp(function(e){const n=$(e);return new pr(n.seconds,n.nanos)}(i))}function Ph(i,e){return(n=i,new Xn(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function fd(i){const e=Xn.fromString(i);return Rn(jl(e)),e}function Bu(i,e){return Ph(i.databaseId,e.path)}function nu(i,e){const n=fd(e);if(n.get(1)!==i.databaseId.projectId)throw new Et(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new Et(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new Yt(kh(n))}function _c(i,e){return Ph(i.databaseId,e)}function Ec(i){const e=fd(i);return 4===e.length?Xn.emptyPath():kh(e)}function ja(i){return new Xn(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function kh(i){return Rn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function pd(i,e,n){return{name:Bu(i,e),fields:n.value.mapValue.fields}}function Ap(i,e,n){const o=nu(i,e.name),u=ts(e.updateTime),p=new kt({mapValue:{fields:e.fields}}),_=dn.newFoundDocument(o,u,p);return n&&_.setHasCommittedMutations(),n?_.setHasCommittedMutations():_}function ru(i,e){let n;if(e instanceof Ra)n={update:pd(i,e.key,e.value)};else if(e instanceof tu)n={delete:Bu(i,e.key)};else if(e instanceof oa)n={update:pd(i,e.key,e.data),updateMask:Bl(e.fieldMask)};else{if(!(e instanceof ul))return en();n={verify:Bu(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(o=>function(u,p){const _=p.transform;if(_ instanceof Uu)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(_ instanceof Eu)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:_.elements}};if(_ instanceof I)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:_.elements}};if(_ instanceof v)return{fieldPath:p.field.canonicalString(),increment:_.yt};throw en()}(0,o))),e.precondition.isNone||(n.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:Sp(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:en()),n;var u}function Fh(i,e){const n=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?Vt.updateTime(ts(u.updateTime)):void 0!==u.exists?Vt.exists(u.exists):Vt.none():Vt.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(p,_){let b=null;"setToServerValue"in _?(Rn("REQUEST_TIME"===_.setToServerValue),b=new Uu):"appendMissingElements"in _?b=new Eu(_.appendMissingElements.values||[]):"removeAllFromArray"in _?b=new I(_.removeAllFromArray.values||[]):"increment"in _?b=new v(p,_.increment):en();const V=zr.fromServerFormat(_.fieldPath);return new te(V,b)}(i,u)):[];var u;if(e.update){const u=nu(i,e.update.name),p=new kt({mapValue:{fields:e.update.fields}});if(e.updateMask){const _=new m((e.updateMask.fieldPaths||[]).map(z=>zr.fromServerFormat(z)));return new oa(u,p,_,n,o)}return new Ra(u,p,n,o)}if(e.delete){const u=nu(i,e.delete);return new tu(u,n)}if(e.verify){const u=nu(i,e.verify);return new ul(u,n)}return en()}function xp(i,e){return{documents:[_c(i,e.path)]}}function Rp(i,e){const n={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(n.parent=_c(i,o),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=_c(i,o.popLast()),n.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(V){if(0===V.length)return;const z=V.map(J=>function(we){if("=="===we.op){if(Qa(we.value))return{unaryFilter:{field:wc(we.field),op:"IS_NAN"}};if(Sa(we.value))return{unaryFilter:{field:wc(we.field),op:"IS_NULL"}}}else if("!="===we.op){if(Qa(we.value))return{unaryFilter:{field:wc(we.field),op:"IS_NOT_NAN"}};if(Sa(we.value))return{unaryFilter:{field:wc(we.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wc(we.field),op:Np(we.op),value:we.value}}}(J));return 1===z.length?z[0]:{compositeFilter:{op:"AND",filters:z}}}(e.filters);u&&(n.structuredQuery.where=u);const p=function(V){if(0!==V.length)return V.map(z=>{return{field:wc((J=z).field),direction:Lm(J.dir)};var J})}(e.orderBy);p&&(n.structuredQuery.orderBy=p);const _=(z=e.limit,i.gt||Sn(z)?z:{value:z});var z,b,V;return null!==_&&(n.structuredQuery.limit=_),e.startAt&&(n.structuredQuery.startAt={before:(b=e.startAt).inclusive,values:b.position}),e.endAt&&(n.structuredQuery.endAt={before:!(V=e.endAt).inclusive,values:V.position}),n}function gd(i){let e=Ec(i.parent);const n=i.structuredQuery,o=n.from?n.from.length:0;let u=null;if(o>0){Rn(1===o);const J=n.from[0];J.allDescendants?u=J.collectionId:e=e.child(J.collectionId)}let p=[];n.where&&(p=Lh(n.where));let _=[];n.orderBy&&(_=n.orderBy.map(J=>{return new mu(Ul((we=J).field),function(st){switch(st){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(we.direction));var we}));let b=null;n.limit&&(b=function(J){let we;return we="object"==typeof J?J.value:J,Sn(we)?null:we}(n.limit));let V=null;var J;n.startAt&&(V=new Ja((J=n.startAt).values||[],!!J.before));let z=null;return n.endAt&&(z=function(J){return new Ja(J.values||[],!J.before)}(n.endAt)),id(e,u,_,p,b,"F",V,z)}function Lh(i){return i?void 0!==i.unaryFilter?[Vm(i)]:void 0!==i.fieldFilter?[Ic(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>Lh(e)).reduce((e,n)=>e.concat(n)):en():[]}function Lm(i){return Nh[i]}function Np(i){return Vv[i]}function wc(i){return{fieldPath:i.canonicalString()}}function Ul(i){return zr.fromServerFormat(i.fieldPath)}function Ic(i){return es.create(Ul(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return en()}}(i.fieldFilter.op),i.fieldFilter.value)}function Vm(i){switch(i.unaryFilter.op){case"IS_NAN":const e=Ul(i.unaryFilter.field);return es.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=Ul(i.unaryFilter.field);return es.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ul(i.unaryFilter.field);return es.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ul(i.unaryFilter.field);return es.create(u,"!=",{nullValue:"NULL_VALUE"});default:return en()}}function Bl(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jl(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function Yo(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=Vh(e)),e=Uv(i.get(n),e);return Vh(e)}function Uv(i,e){let n=e;const o=i.length;for(let u=0;u<o;u++){const p=i.charAt(u);switch(p){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=p}}return n}function Vh(i){return i+"\x01\x01"}function iu(i){const e=i.length;if(Rn(e>=2),2===e)return Rn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),Xn.emptyPath();const n=e-2,o=[];let u="";for(let p=0;p<e;){const _=i.indexOf("\x01",p);switch((_<0||_>n)&&en(),i.charAt(_+1)){case"\x01":const b=i.substring(p,_);let V;0===u.length?V=b:(u+=b,V=u,u=""),o.push(V);break;case"\x10":u+=i.substring(p,_),u+="\0";break;case"\x11":u+=i.substring(p,_+1);break;default:en()}p=_+2}return new Xn(o)}const Op=["userId","batchId"];function md(i,e){return[i,Yo(e)]}function Uh(i,e,n){return[i,Yo(e),n]}const Pp={},Bh=["prefixPath","collectionGroup","readTime","documentId"],Um=["prefixPath","collectionGroup","documentId"],Bm=["collectionGroup","readTime","prefixPath","documentId"],jh=["canonicalId","targetId"],Bv=["targetId","path"],jv=["path","targetId"],$h=["collectionId","parent"],$v=["indexId","uid"],Hv=["uid","sequenceNumber"],Gv=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],zv=["indexId","uid","orderedDocumentKey"],Wv=["userId","collectionPath","documentId"],jm=["userId","collectionPath","largestBatchId"],kp=["userId","collectionGroup","largestBatchId"],yd=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Fp=[...yd,"documentOverlays"],Hh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Gh=Hh,zh=[...Gh,"indexConfiguration","indexState","indexEntries"];class Wh extends vr{constructor(e,n){super(),this.ie=e,this.currentSequenceNumber=n}}function js(i,e){const n=Qt(i);return to.O(n.ie,e)}class cl{constructor(e,n,o,u){this.batchId=e,this.localWriteTime=n,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,n){const o=n.mutationResults;for(let u=0;u<this.mutations.length;u++){const p=this.mutations[u];p.key.isEqual(e.key)&&ma(p,e,o[u])}}applyToLocalView(e,n){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(n=ya(o,e,n,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(n=ya(o,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const o=bh();return this.mutations.forEach(u=>{const p=e.get(u.key),_=p.overlayedDocument;let b=this.applyToLocalView(_,p.mutatedFields);b=n.has(u.key)?null:b;const V=hi(_,b);null!==V&&o.set(u.key,V),_.isValidDocument()||_.convertToNoDocument(gn.min())}),o}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),hr())}isEqual(e){return this.batchId===e.batchId&&Vs(this.mutations,e.mutations,(n,o)=>ld(n,o))&&Vs(this.baseMutations,e.baseMutations,(n,o)=>ld(n,o))}}class Kh{constructor(e,n,o,u){this.batch=e,this.commitVersion=n,this.mutationResults=o,this.docVersions=u}static from(e,n,o){Rn(e.mutations.length===o.length);let u=Mm;const p=e.mutations;for(let _=0;_<p.length;_++)u=u.insert(p[_].key,o[_].version);return new Kh(e,n,o,u)}}class qh{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ju{constructor(e,n,o,u,p=gn.min(),_=gn.min(),b=C.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=p,this.lastLimboFreeSnapshotVersion=_,this.resumeToken=b}withSequenceNumber(e){return new ju(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new ju(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ju(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Zh{constructor(e){this.re=e}}function Lp(i,e){const n=e.key,o={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:vd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Bu(u=i.re,(p=e).key),fields:p.data.value.mapValue.fields,updateTime:ll(u,p.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:n.path.toArray(),readTime:dl(e.version)};else{if(!e.isUnknownDocument())return en();o.unknownDocument={path:n.path.toArray(),version:dl(e.version)}}var u,p;return o}function vd(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function dl(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Du(i){const e=new pr(i.seconds,i.nanoseconds);return gn.fromTimestamp(e)}function hl(i,e){const n=(e.baseMutations||[]).map(p=>Fh(i.re,p));for(let p=0;p<e.mutations.length-1;++p){const _=e.mutations[p];p+1<e.mutations.length&&void 0!==e.mutations[p+1].transform&&(_.updateTransforms=e.mutations[p+1].transform.fieldTransforms,e.mutations.splice(p+1,1),++p)}const o=e.mutations.map(p=>Fh(i.re,p)),u=pr.fromMillis(e.localWriteTimeMs);return new cl(e.batchId,u,n,o)}function Dc(i){const e=Du(i.readTime),n=void 0!==i.lastLimboFreeSnapshotVersion?Du(i.lastLimboFreeSnapshotVersion):gn.min();let o;var u;return void 0!==i.query.documents?(Rn(1===(u=i.query).documents.length),o=Bo(Ba(Ec(u.documents[0])))):o=Bo(gd(i.query)),new ju(o,i.targetId,0,i.lastListenSequenceNumber,e,n,C.fromBase64String(i.resumeToken))}function Vp(i,e){const n=dl(e.snapshotVersion),o=dl(e.lastLimboFreeSnapshotVersion);let u;u=Uo(e.target)?xp(i.re,e.target):Rp(i.re,e.target);const p=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Cr(e.target),readTime:n,resumeToken:p,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function _d(i){const e=gd({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?yu(e,e.limit,"L"):e}function Yh(i,e){return new qh(e.largestBatchId,Fh(i.re,e.overlayMutation))}function Up(i,e){const n=e.path.lastSegment();return[i,Yo(e.path.popLast()),n]}function jo(i,e,n,o){return{indexId:i,uid:e.uid||"",sequenceNumber:n,readTime:dl(o.readTime),documentKey:Yo(o.documentKey.path),largestBatchId:o.largestBatchId}}class Qh{getBundleMetadata(e,n){return Jh(e).get(n).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Du(u.createTime),version:u.version};var u})}saveBundleMetadata(e,n){return Jh(e).put({bundleId:(o=n).id,createTime:dl(ts(o.createTime)),version:o.version});var o}getNamedQuery(e,n){return Ed(e).get(n).next(o=>{if(o)return{name:(u=o).name,query:_d(u.bundledQuery),readTime:Du(u.readTime)};var u})}saveNamedQuery(e,n){return Ed(e).put({name:(o=n).name,readTime:dl(ts(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Jh(i){return js(i,"bundles")}function Ed(i){return js(i,"namedQueries")}class io{constructor(e,n){this.It=e,this.userId=n}static oe(e,n){return new io(e,n.uid||"")}getOverlay(e,n){return Cu(e).get(Up(this.userId,n)).next(o=>o?Yh(this.It,o):null)}getOverlays(e,n){const o=Na();return lt.forEach(n,u=>this.getOverlay(e,u).next(p=>{null!==p&&o.set(u,p)})).next(()=>o)}saveOverlays(e,n,o){const u=[];return o.forEach((p,_)=>{const b=new qh(n,_);u.push(this.ue(e,b))}),lt.waitFor(u)}removeOverlaysForBatchId(e,n,o){const u=new Set;n.forEach(_=>u.add(Yo(_.getCollectionPath())));const p=[];return u.forEach(_=>{const b=IDBKeyRange.bound([this.userId,_,o],[this.userId,_,o+1],!1,!0);p.push(Cu(e).Y("collectionPathOverlayIndex",b))}),lt.waitFor(p)}getOverlaysForCollection(e,n,o){const u=Na(),p=Yo(n),_=IDBKeyRange.bound([this.userId,p,o],[this.userId,p,Number.POSITIVE_INFINITY],!0);return Cu(e).W("collectionPathOverlayIndex",_).next(b=>{for(const V of b){const z=Yh(this.It,V);u.set(z.getKey(),z)}return u})}getOverlaysForCollectionGroup(e,n,o,u){const p=Na();let _;const b=IDBKeyRange.bound([this.userId,n,o],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Cu(e).Z({index:"collectionGroupOverlayIndex",range:b},(V,z,J)=>{const we=Yh(this.It,z);p.size()<u||we.largestBatchId===_?(p.set(we.getKey(),we),_=we.largestBatchId):J.done()}).next(()=>p)}ue(e,n){return Cu(e).put(function(o,u,p){const[_,b,V]=Up(u,p.mutation.key);return{userId:u,collectionPath:b,documentId:V,collectionGroup:p.mutation.key.getCollectionGroup(),largestBatchId:p.largestBatchId,overlayMutation:ru(o.re,p.mutation)}}(this.It,this.userId,n))}}function Cu(i){return js(i,"documentOverlays")}class bu{constructor(){}ce(e,n){this.ae(e,n),n.he()}ae(e,n){if("nullValue"in e)this.le(n,5);else if("booleanValue"in e)this.le(n,10),n.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(n,15),n.fe(X(e.integerValue));else if("doubleValue"in e){const o=X(e.doubleValue);isNaN(o)?this.le(n,13):(this.le(n,15),Hn(o)?n.fe(0):n.fe(o))}else if("timestampValue"in e){const o=e.timestampValue;this.le(n,20),"string"==typeof o?n.de(o):(n.de(`${o.seconds||""}`),n.fe(o.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,n),this.we(n);else if("bytesValue"in e)this.le(n,30),n.me(xe(e.bytesValue)),this.we(n);else if("referenceValue"in e)this.ge(e.referenceValue,n);else if("geoPointValue"in e){const o=e.geoPointValue;this.le(n,45),n.fe(o.latitude||0),n.fe(o.longitude||0)}else"mapValue"in e?W(e)?this.le(n,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,n),this.we(n)):"arrayValue"in e?(this.pe(e.arrayValue,n),this.we(n)):en()}_e(e,n){this.le(n,25),this.Ie(e,n)}Ie(e,n){n.de(e)}ye(e,n){const o=e.fields||{};this.le(n,55);for(const u of Object.keys(o))this._e(u,n),this.ae(o[u],n)}pe(e,n){const o=e.values||[];this.le(n,50);for(const u of o)this.ae(u,n)}ge(e,n){this.le(n,37),Yt.fromName(e).path.forEach(o=>{this.le(n,60),this.Ie(o,n)})}le(e,n){e.fe(n)}we(e){e.fe(2)}}function Hm(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Bp(i){const e=64-function(n){let o=0;for(let u=0;u<8;++u){const p=Hm(255&n[u]);if(o+=p,8!==p)break}return o}(i);return Math.ceil(e/8)}bu.Te=new bu;class jp{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Ae(o.value),o=n.next();this.Re()}be(e){const n=e[Symbol.iterator]();let o=n.next();for(;!o.done;)this.Pe(o.value),o=n.next();this.ve()}Ve(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Ae(o);else if(o<2048)this.Ae(960|o>>>6),this.Ae(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Ae(480|o>>>12),this.Ae(128|63&o>>>6),this.Ae(128|63&o);else{const u=n.codePointAt(0);this.Ae(240|u>>>18),this.Ae(128|63&u>>>12),this.Ae(128|63&u>>>6),this.Ae(128|63&u)}}this.Re()}Se(e){for(const n of e){const o=n.charCodeAt(0);if(o<128)this.Pe(o);else if(o<2048)this.Pe(960|o>>>6),this.Pe(128|63&o);else if(n<"\ud800"||"\udbff"<n)this.Pe(480|o>>>12),this.Pe(128|63&o>>>6),this.Pe(128|63&o);else{const u=n.codePointAt(0);this.Pe(240|u>>>18),this.Pe(128|63&u>>>12),this.Pe(128|63&u>>>6),this.Pe(128|63&u)}}this.ve()}De(e){const n=this.Ce(e),o=Bp(n);this.xe(1+o),this.buffer[this.position++]=255&o;for(let u=n.length-o;u<n.length;++u)this.buffer[this.position++]=255&n[u]}Ne(e){const n=this.Ce(e),o=Bp(n);this.xe(1+o),this.buffer[this.position++]=~(255&o);for(let u=n.length-o;u<n.length;++u)this.buffer[this.position++]=~(255&n[u])}ke(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const n=function(u){const p=new DataView(new ArrayBuffer(8));return p.setFloat64(0,u,!1),new Uint8Array(p.buffer)}(e),o=0!=(128&n[0]);n[0]^=o?255:128;for(let u=1;u<n.length;++u)n[u]^=o?255:0;return n}Ae(e){const n=255&e;0===n?(this.Me(0),this.Me(255)):255===n?(this.Me(255),this.Me(0)):this.Me(n)}Pe(e){const n=255&e;0===n?(this.Fe(0),this.Fe(255)):255===n?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Me(0),this.Me(1)}ve(){this.Fe(0),this.Fe(1)}Me(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const n=e+this.position;if(n<=this.buffer.length)return;let o=2*this.buffer.length;o<n&&(o=n);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class Gm{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class $p{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Oe()}}class Cc{constructor(){this.Be=new jp,this.Le=new Gm(this.Be),this.Ue=new $p(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class $u{constructor(e,n,o,u){this.indexId=e,this.documentKey=n,this.arrayValue=o,this.directionalValue=u}Ke(){const e=this.directionalValue.length,n=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(n);return o.set(this.directionalValue,0),n!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new $u(this.indexId,this.documentKey,this.arrayValue,o)}}function fl(i,e){let n=i.indexId-e.indexId;return 0!==n?n:(n=Hp(i.arrayValue,e.arrayValue),0!==n?n:(n=Hp(i.directionalValue,e.directionalValue),0!==n?n:Yt.comparator(i.documentKey,e.documentKey)))}function Hp(i,e){for(let n=0;n<i.length&&n<e.length;++n){const o=i[n]-e[n];if(0!==o)return o}return i.length-e.length}class Gp{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const n of e.filters){const o=n;o.dt()?this.je=o:this.Qe.push(o)}}We(e){const n=ha(e);if(void 0!==n&&!this.ze(n))return!1;const o=po(e);let u=0,p=0;for(;u<o.length&&this.ze(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.je){const _=o[u];if(!this.He(this.je,_)||!this.Je(this.Ge[p++],_))return!1;++u}for(;u<o.length;++u){const _=o[u];if(p>=this.Ge.length||!this.Je(this.Ge[p++],_))return!1}return!0}ze(e){for(const n of this.Qe)if(this.He(n,e))return!0;return!1}He(e,n){return!(void 0===e||!e.field.isEqual(n.fieldPath))&&2===n.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,n){return!!e.field.isEqual(n.fieldPath)&&(0===n.kind&&"asc"===e.dir||1===n.kind&&"desc"===e.dir)}}class zm{constructor(){this.Ye=new Xh}addToCollectionParentIndex(e,n){return this.Ye.add(n),lt.resolve()}getCollectionParents(e,n){return lt.resolve(this.Ye.getEntries(n))}addFieldIndex(e,n){return lt.resolve()}deleteFieldIndex(e,n){return lt.resolve()}getDocumentsMatchingTarget(e,n){return lt.resolve(null)}getIndexType(e,n){return lt.resolve(0)}getFieldIndexes(e,n){return lt.resolve([])}getNextCollectionGroupToUpdate(e){return lt.resolve(null)}getMinOffset(e,n){return lt.resolve(ri.min())}getMinOffsetFromCollectionGroup(e,n){return lt.resolve(ri.min())}updateCollectionGroup(e,n,o){return lt.resolve()}updateIndexEntries(e,n){return lt.resolve()}}class Xh{constructor(){this.index={}}add(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n]||new f(Xn.comparator),p=!u.has(o);return this.index[n]=u.add(o),p}has(e){const n=e.lastSegment(),o=e.popLast(),u=this.index[n];return u&&u.has(o)}getEntries(e){return(this.index[e]||new f(Xn.comparator)).toArray()}}const Tu=new Uint8Array(0);class Su{constructor(e,n){this.user=e,this.databaseId=n,this.Xe=new Xh,this.Ze=new wu(o=>Cr(o),(o,u)=>_o(o,u)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.Xe.has(n)){const o=n.lastSegment(),u=n.popLast();e.addOnCommittedListener(()=>{this.Xe.add(n)});const p={collectionId:o,parent:Yo(u)};return zp(e).put(p)}return lt.resolve()}getCollectionParents(e,n){const o=[],u=IDBKeyRange.bound([n,""],[Gr(n),""],!1,!0);return zp(e).W(u).next(p=>{for(const _ of p){if(_.collectionId!==n)break;o.push(iu(_.parent))}return o})}addFieldIndex(e,n){const o=ef(e),u={indexId:(_=n).indexId,collectionGroup:_.collectionGroup,fields:_.fields.map(b=>[b.fieldPath.canonicalString(),b.kind])};var _;delete u.indexId;const p=o.add(u);if(n.indexState){const _=wd(e);return p.next(b=>{_.put(jo(b,this.user,n.indexState.sequenceNumber,n.indexState.offset))})}return p.next()}deleteFieldIndex(e,n){const o=ef(e),u=wd(e),p=bc(e);return o.delete(n.indexId).next(()=>u.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>p.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,n){const o=bc(e);let u=!0;const p=new Map;return lt.forEach(this.tn(n),_=>this.en(e,_).next(b=>{u&&(u=!!b),p.set(_,b)})).next(()=>{if(u){let _=hr();const b=[];return lt.forEach(p,(V,z)=>{var J;Lt("IndexedDbIndexManager",`Using index ${J=V,`id=${J.indexId}|cg=${J.collectionGroup}|f=${J.fields.map(Ei=>`${Ei.fieldPath}:${Ei.kind}`).join(",")}`} to execute ${Cr(n)}`);const we=function(Ei,Hs){const wi=ha(Hs);if(void 0===wi)return null;for(const si of ro(Ei,wi.fieldPath))switch(si.op){case"array-contains-any":return si.value.arrayValue.values||[];case"array-contains":return[si.value]}return null}(z,V),st=function(Ei,Hs){const wi=new Map;for(const si of po(Hs))for(const Eo of ro(Ei,si.fieldPath))switch(Eo.op){case"==":case"in":wi.set(si.fieldPath.canonicalString(),Eo.value);break;case"not-in":case"!=":return wi.set(si.fieldPath.canonicalString(),Eo.value),Array.from(wi.values())}return null}(z,V),Dt=function(Ei,Hs){const wi=[];let si=!0;for(const Eo of po(Hs)){const Qc=0===Eo.kind?Aa(Ei,Eo.fieldPath,Ei.startAt):Fu(Ei,Eo.fieldPath,Ei.startAt);wi.push(Qc.value),si&&(si=Qc.inclusive)}return new Ja(wi,si)}(z,V),At=function(Ei,Hs){const wi=[];let si=!0;for(const Eo of po(Hs)){const Qc=0===Eo.kind?Fu(Ei,Eo.fieldPath,Ei.endAt):Aa(Ei,Eo.fieldPath,Ei.endAt);wi.push(Qc.value),si&&(si=Qc.inclusive)}return new Ja(wi,si)}(z,V),rn=this.nn(V,z,Dt),An=this.nn(V,z,At),Br=this.sn(V,z,st),fi=this.rn(V.indexId,we,rn,Dt.inclusive,An,At.inclusive,Br);return lt.forEach(fi,Ei=>o.J(Ei,n.limit).next(Hs=>{Hs.forEach(wi=>{const si=Yt.fromSegments(wi.documentKey);_.has(si)||(_=_.add(si),b.push(si))})}))}).next(()=>b)}return lt.resolve(null)})}tn(e){let n=this.Ze.get(e);return n||(n=[e],this.Ze.set(e,n),n)}rn(e,n,o,u,p,_,b){const V=(null!=n?n.length:1)*Math.max(o.length,p.length),z=V/(null!=n?n.length:1),J=[];for(let we=0;we<V;++we){const st=n?this.on(n[we/z]):Tu,Dt=this.un(e,st,o[we%z],u),At=this.cn(e,st,p[we%z],_),rn=b.map(An=>this.un(e,st,An,!0));J.push(...this.createRange(Dt,At,rn))}return J}un(e,n,o,u){const p=new $u(e,Yt.empty(),n,o);return u?p:p.Ke()}cn(e,n,o,u){const p=new $u(e,Yt.empty(),n,o);return u?p.Ke():p}en(e,n){const o=new Gp(n),u=null!=n.collectionGroup?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,u).next(p=>{let _=null;for(const b of p)o.We(b)&&(!_||b.fields.length>_.fields.length)&&(_=b);return _})}getIndexType(e,n){let o=2;return lt.forEach(this.tn(n),u=>this.en(e,u).next(p=>{p?0!==o&&p.fields.length<function(_){let b=new f(zr.comparator),V=!1;for(const z of _.filters){const J=z;J.field.isKeyField()||("array-contains"===J.op||"array-contains-any"===J.op?V=!0:b=b.add(J.field))}for(const z of _.orderBy)z.field.isKeyField()||(b=b.add(z.field));return b.size+(V?1:0)}(u)&&(o=1):o=0})).next(()=>o)}an(e,n){const o=new Cc;for(const u of po(e)){const p=n.data.field(u.fieldPath);if(null==p)return null;const _=o.qe(u.kind);bu.Te.ce(p,_)}return o.$e()}on(e){const n=new Cc;return bu.Te.ce(e,n.qe(0)),n.$e()}hn(e,n){const o=new Cc;return bu.Te.ce(no(this.databaseId,n),o.qe(function(u){const p=po(u);return 0===p.length?0:p[p.length-1].kind}(e))),o.$e()}sn(e,n,o){if(null===o)return[];let u=[];u.push(new Cc);let p=0;for(const _ of po(e)){const b=o[p++];for(const V of u)if(this.ln(n,_.fieldPath)&&Mr(b))u=this.fn(u,_,b);else{const z=V.qe(_.kind);bu.Te.ce(b,z)}}return this.dn(u)}nn(e,n,o){return this.sn(e,n,o.position)}dn(e){const n=[];for(let o=0;o<e.length;++o)n[o]=e[o].$e();return n}fn(e,n,o){const u=[...e],p=[];for(const _ of o.arrayValue.values||[])for(const b of u){const V=new Cc;V.seed(b.$e()),bu.Te.ce(_,V.qe(n.kind)),p.push(V)}return p}ln(e,n){return!!e.filters.find(o=>o instanceof es&&o.field.isEqual(n)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,n){const o=ef(e),u=wd(e);return(n?o.W("collectionGroupIndex",IDBKeyRange.bound(n,n)):o.W()).next(p=>{const _=[];return lt.forEach(p,b=>u.get([b.indexId,this.uid]).next(V=>{_.push(function(z,J){const we=J?new Us(J.sequenceNumber,new ri(Du(J.readTime),new Yt(iu(J.documentKey)),J.largestBatchId)):Us.empty(),st=z.fields.map(([Dt,At])=>new ei(zr.fromServerFormat(Dt),At));return new So(z.indexId,z.collectionGroup,st,we)}(b,V))})).next(()=>_)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>0===n.length?null:(n.sort((o,u)=>{const p=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==p?p:$n(o.collectionGroup,u.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,o){const u=ef(e),p=wd(e);return this._n(e).next(_=>u.W("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(b=>lt.forEach(b,V=>p.put(jo(V.indexId,this.user,_,o)))))}updateIndexEntries(e,n){const o=new Map;return lt.forEach(n,(u,p)=>{const _=o.get(u.collectionGroup);return(_?lt.resolve(_):this.getFieldIndexes(e,u.collectionGroup)).next(b=>(o.set(u.collectionGroup,b),lt.forEach(b,V=>this.wn(e,u,V).next(z=>{const J=this.mn(p,V);return z.isEqual(J)?lt.resolve():this.gn(e,p,V,z,J)}))))})}yn(e,n,o,u){return bc(e).put({indexId:u.indexId,uid:this.uid,arrayValue:u.arrayValue,directionalValue:u.directionalValue,orderedDocumentKey:this.hn(o,n.key),documentKey:n.key.path.toArray()})}pn(e,n,o,u){return bc(e).delete([u.indexId,this.uid,u.arrayValue,u.directionalValue,this.hn(o,n.key),n.key.path.toArray()])}wn(e,n,o){const u=bc(e);let p=new f(fl);return u.Z({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,this.hn(o,n)])},(_,b)=>{p=p.add(new $u(o.indexId,n,b.arrayValue,b.directionalValue))}).next(()=>p)}mn(e,n){let o=new f(fl);const u=this.an(n,e);if(null==u)return o;const p=ha(n);if(null!=p){const _=e.data.field(p.fieldPath);if(Mr(_))for(const b of _.arrayValue.values||[])o=o.add(new $u(n.indexId,e.key,this.on(b),u))}else o=o.add(new $u(n.indexId,e.key,Tu,u));return o}gn(e,n,o,u,p){Lt("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const _=[];return function(b,V,z,J,we){const st=b.getIterator(),Dt=V.getIterator();let At=l(st),rn=l(Dt);for(;At||rn;){let An=!1,Br=!1;if(At&&rn){const fi=z(At,rn);fi<0?Br=!0:fi>0&&(An=!0)}else null!=At?Br=!0:An=!0;An?(J(rn),rn=l(Dt)):Br?(we(At),At=l(st)):(At=l(st),rn=l(Dt))}}(u,p,fl,b=>{_.push(this.yn(e,n,o,b))},b=>{_.push(this.pn(e,n,o,b))}),lt.waitFor(_)}_n(e){let n=1;return wd(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,p)=>{p.done(),n=u.sequenceNumber+1}).next(()=>n)}createRange(e,n,o){o=o.sort((_,b)=>fl(_,b)).filter((_,b,V)=>!b||0!==fl(_,V[b-1]));const u=[];u.push(e);for(const _ of o){const b=fl(_,e),V=fl(_,n);if(0===b)u[0]=e.Ke();else if(b>0&&V<0)u.push(_),u.push(_.Ke());else if(V>0)break}u.push(n);const p=[];for(let _=0;_<u.length;_+=2)p.push(IDBKeyRange.bound([u[_].indexId,this.uid,u[_].arrayValue,u[_].directionalValue,Tu,[]],[u[_+1].indexId,this.uid,u[_+1].arrayValue,u[_+1].directionalValue,Tu,[]]));return p}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(tf)}getMinOffset(e,n){return lt.mapArray(this.tn(n),o=>this.en(e,o).next(u=>u||en())).next(tf)}}function zp(i){return js(i,"collectionParents")}function bc(i){return js(i,"indexEntries")}function ef(i){return js(i,"indexConfiguration")}function wd(i){return js(i,"indexState")}function tf(i){Rn(0!==i.length);let e=i[0].indexState.offset,n=e.largestBatchId;for(let o=1;o<i.length;o++){const u=i[o].indexState.offset;Bs(u,e)<0&&(e=u),n<u.largestBatchId&&(n=u.largestBatchId)}return new ri(e.readTime,e.documentKey,n)}const Wm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class hs{constructor(e,n,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new hs(e,hs.DEFAULT_COLLECTION_PERCENTILE,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Id(i,e,n){const o=i.store("mutations"),u=i.store("documentMutations"),p=[],_=IDBKeyRange.only(n.batchId);let b=0;const V=o.Z({range:_},(J,we,st)=>(b++,st.delete()));p.push(V.next(()=>{Rn(1===b)}));const z=[];for(const J of n.mutations){const we=Uh(e,J.key.path,n.batchId);p.push(u.delete(we)),z.push(J.key)}return lt.waitFor(p).next(()=>z)}function $l(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw en();e=i.noDocument}return JSON.stringify(e).length}hs.DEFAULT_COLLECTION_PERCENTILE=10,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hs.DEFAULT=new hs(41943040,hs.DEFAULT_COLLECTION_PERCENTILE,hs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hs.DISABLED=new hs(-1,0,0);class Dd{constructor(e,n,o,u){this.userId=e,this.It=n,this.indexManager=o,this.referenceDelegate=u,this.In={}}static oe(e,n,o,u){Rn(""!==e.uid);const p=e.isAuthenticated()?e.uid:"";return new Dd(p,n,o,u)}checkEmpty(e){let n=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Hu(e).Z({index:"userMutationsIndex",range:o},(u,p,_)=>{n=!1,_.done()}).next(()=>n)}addMutationBatch(e,n,o,u){const p=su(e),_=Hu(e);return _.add({}).next(b=>{Rn("number"==typeof b);const V=new cl(b,n,o,u),z=function(st,Dt,At){const rn=At.baseMutations.map(Br=>ru(st.re,Br)),An=At.mutations.map(Br=>ru(st.re,Br));return{userId:Dt,batchId:At.batchId,localWriteTimeMs:At.localWriteTime.toMillis(),baseMutations:rn,mutations:An}}(this.It,this.userId,V),J=[];let we=new f((st,Dt)=>$n(st.canonicalString(),Dt.canonicalString()));for(const st of u){const Dt=Uh(this.userId,st.key.path,b);we=we.add(st.key.path.popLast()),J.push(_.put(z)),J.push(p.put(Dt,Pp))}return we.forEach(st=>{J.push(this.indexManager.addToCollectionParentIndex(e,st))}),e.addOnCommittedListener(()=>{this.In[b]=V.keys()}),lt.waitFor(J).next(()=>V)})}lookupMutationBatch(e,n){return Hu(e).get(n).next(o=>o?(Rn(o.userId===this.userId),hl(this.It,o)):null)}Tn(e,n){return this.In[n]?lt.resolve(this.In[n]):this.lookupMutationBatch(e,n).next(o=>{if(o){const u=o.keys();return this.In[n]=u,u}return null})}getNextMutationBatchAfterBatchId(e,n){const o=n+1,u=IDBKeyRange.lowerBound([this.userId,o]);let p=null;return Hu(e).Z({index:"userMutationsIndex",range:u},(_,b,V)=>{b.userId===this.userId&&(Rn(b.batchId>=o),p=hl(this.It,b)),V.done()}).next(()=>p)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Hu(e).Z({index:"userMutationsIndex",range:n,reverse:!0},(u,p,_)=>{o=p.batchId,_.done()}).next(()=>o)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Hu(e).W("userMutationsIndex",n).next(o=>o.map(u=>hl(this.It,u)))}getAllMutationBatchesAffectingDocumentKey(e,n){const o=md(this.userId,n.path),u=IDBKeyRange.lowerBound(o),p=[];return su(e).Z({range:u},(_,b,V)=>{const[z,J,we]=_,st=iu(J);if(z===this.userId&&n.path.isEqual(st))return Hu(e).get(we).next(Dt=>{if(!Dt)throw en();Rn(Dt.userId===this.userId),p.push(hl(this.It,Dt))});V.done()}).next(()=>p)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new f($n);const u=[];return n.forEach(p=>{const _=md(this.userId,p.path),b=IDBKeyRange.lowerBound(_),V=su(e).Z({range:b},(z,J,we)=>{const[st,Dt,At]=z,rn=iu(Dt);st===this.userId&&p.path.isEqual(rn)?o=o.add(At):we.done()});u.push(V)}),lt.waitFor(u).next(()=>this.En(e,o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1,p=md(this.userId,o),_=IDBKeyRange.lowerBound(p);let b=new f($n);return su(e).Z({range:_},(V,z,J)=>{const[we,st,Dt]=V,At=iu(st);we===this.userId&&o.isPrefixOf(At)?At.length===u&&(b=b.add(Dt)):J.done()}).next(()=>this.En(e,b))}En(e,n){const o=[],u=[];return n.forEach(p=>{u.push(Hu(e).get(p).next(_=>{if(null===_)throw en();Rn(_.userId===this.userId),o.push(hl(this.It,_))}))}),lt.waitFor(u).next(()=>o)}removeMutationBatch(e,n){return Id(e.ie,this.userId,n).next(o=>(e.addOnCommittedListener(()=>{this.An(n.batchId)}),lt.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return lt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return su(e).Z({range:o},(p,_,b)=>{if(p[0]===this.userId){const V=iu(p[1]);u.push(V)}else b.done()}).next(()=>{Rn(0===u.length)})})}containsKey(e,n){return nf(e,this.userId,n)}Rn(e){return Wp(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function nf(i,e,n){const o=md(e,n.path),u=o[1],p=IDBKeyRange.lowerBound(o);let _=!1;return su(i).Z({range:p,X:!0},(b,V,z)=>{const[J,we,st]=b;J===e&&we===u&&(_=!0),z.done()}).next(()=>_)}function Hu(i){return js(i,"mutations")}function su(i){return js(i,"documentMutations")}function Wp(i){return js(i,"mutationQueues")}class pl{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new pl(0)}static vn(){return new pl(-1)}}class rf{constructor(e,n){this.referenceDelegate=e,this.It=n}allocateTargetId(e){return this.Vn(e).next(n=>{const o=new pl(n.highestTargetId);return n.highestTargetId=o.next(),this.Sn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(n=>gn.fromTimestamp(new pr(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,o){return this.Vn(e).next(u=>(u.highestListenSequenceNumber=n,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),n>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=n),this.Sn(e,u)))}addTargetData(e,n){return this.Dn(e,n).next(()=>this.Vn(e).next(o=>(o.targetCount+=1,this.Cn(n,o),this.Sn(e,o))))}updateTargetData(e,n){return this.Dn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>Gu(e).delete(n.targetId)).next(()=>this.Vn(e)).next(o=>(Rn(o.targetCount>0),o.targetCount-=1,this.Sn(e,o)))}removeTargets(e,n,o){let u=0;const p=[];return Gu(e).Z((_,b)=>{const V=Dc(b);V.sequenceNumber<=n&&null===o.get(V.targetId)&&(u++,p.push(this.removeTargetData(e,V)))}).next(()=>lt.waitFor(p)).next(()=>u)}forEachTarget(e,n){return Gu(e).Z((o,u)=>{const p=Dc(u);n(p)})}Vn(e){return sf(e).get("targetGlobalKey").next(n=>(Rn(null!==n),n))}Sn(e,n){return sf(e).put("targetGlobalKey",n)}Dn(e,n){return Gu(e).put(Vp(this.It,n))}Cn(e,n){let o=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,o=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.Vn(e).next(n=>n.targetCount)}getTargetData(e,n){const o=Cr(n),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let p=null;return Gu(e).Z({range:u,index:"queryTargetsIndex"},(_,b,V)=>{const z=Dc(b);_o(n,z.target)&&(p=z,V.done())}).next(()=>p)}addMatchingKeys(e,n,o){const u=[],p=gl(e);return n.forEach(_=>{const b=Yo(_.path);u.push(p.put({targetId:o,path:b})),u.push(this.referenceDelegate.addReference(e,o,_))}),lt.waitFor(u)}removeMatchingKeys(e,n,o){const u=gl(e);return lt.forEach(n,p=>{const _=Yo(p.path);return lt.waitFor([u.delete([o,_]),this.referenceDelegate.removeReference(e,o,p)])})}removeMatchingKeysForTargetId(e,n){const o=gl(e),u=IDBKeyRange.bound([n],[n+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,n){const o=IDBKeyRange.bound([n],[n+1],!1,!0),u=gl(e);let p=hr();return u.Z({range:o,X:!0},(_,b,V)=>{const z=iu(_[1]),J=new Yt(z);p=p.add(J)}).next(()=>p)}containsKey(e,n){const o=Yo(n.path),u=IDBKeyRange.bound([o],[Gr(o)],!1,!0);let p=0;return gl(e).Z({index:"documentTargetsIndex",X:!0,range:u},([_,b],V,z)=>{0!==_&&(p++,z.done())}).next(()=>p>0)}se(e,n){return Gu(e).get(n).next(o=>o?Dc(o):null)}}function Gu(i){return js(i,"targets")}function sf(i){return js(i,"targetGlobal")}function gl(i){return js(i,"targetDocuments")}function ml([i,e],[n,o]){const u=$n(i,n);return 0===u?$n(e,o):u}class af{constructor(e){this.xn=e,this.buffer=new f(ml),this.Nn=0}kn(){return++this.Nn}Mn(e){const n=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(n);else{const o=this.buffer.last();ml(n,o)<0&&(this.buffer=this.buffer.delete(o).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Kp{constructor(e,n,o){this.garbageCollector=e,this.asyncQueue=n,this.localStore=o,this.On=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.On&&(this.On.cancel(),this.On=null)}get started(){return null!==this.On}Fn(e){var n=this;Lt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.On=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,h.Z)(function*(){n.On=null;try{yield n.localStore.collectGarbage(n.garbageCollector)}catch(o){ls(o)?Lt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",o):yield yo(o)}yield n.Fn(3e5)}))}}class Km{constructor(e,n){this.$n=e,this.params=n}calculateTargetCount(e,n){return this.$n.Bn(e).next(o=>Math.floor(n/100*o))}nthSequenceNumber(e,n){if(0===n)return lt.resolve(ws.at);const o=new af(n);return this.$n.forEachTarget(e,u=>o.Mn(u.sequenceNumber)).next(()=>this.$n.Ln(e,u=>o.Mn(u))).next(()=>o.maxValue)}removeTargets(e,n,o){return this.$n.removeTargets(e,n,o)}removeOrphanedDocuments(e,n){return this.$n.removeOrphanedDocuments(e,n)}collect(e,n){return-1===this.params.cacheSizeCollectionThreshold?(Lt("LruGarbageCollector","Garbage collection skipped; disabled"),lt.resolve(Wm)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(Lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Wm):this.Un(e,n))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,n){let o,u,p,_,b,V,z;const J=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(we=>(we>this.params.maximumSequenceNumbersToCollect?(Lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${we}`),u=this.params.maximumSequenceNumbersToCollect):u=we,_=Date.now(),this.nthSequenceNumber(e,u))).next(we=>(o=we,b=Date.now(),this.removeTargets(e,o,n))).next(we=>(p=we,V=Date.now(),this.removeOrphanedDocuments(e,o))).next(we=>(z=Date.now(),wa()<=ce.in.DEBUG&&Lt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${_-J}ms\n\tDetermined least recently used ${u} in `+(b-_)+`ms\n\tRemoved ${p} targets in `+(V-b)+`ms\n\tRemoved ${we} documents in `+(z-V)+`ms\nTotal Duration: ${z-J}ms`),lt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:p,documentsRemoved:we})))}}class uf{constructor(e,n){this.db=e,this.garbageCollector=new Km(this,n)}Bn(e){const n=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>n.next(u=>o+u))}qn(e){let n=0;return this.Ln(e,o=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Ln(e,n){return this.Kn(e,(o,u)=>n(u))}addReference(e,n,o){return Cd(e,o)}removeReference(e,n,o){return Cd(e,o)}removeTargets(e,n,o){return this.db.getTargetCache().removeTargets(e,n,o)}markPotentiallyOrphaned(e,n){return Cd(e,n)}Gn(e,n){return function(o,u){let p=!1;return Wp(o).tt(_=>nf(o,_,u).next(b=>(b&&(p=!0),lt.resolve(!b)))).next(()=>p)}(e,n)}removeOrphanedDocuments(e,n){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let p=0;return this.Kn(e,(_,b)=>{if(b<=n){const V=this.Gn(e,_).next(z=>{if(!z)return p++,o.getEntry(e,_).next(()=>(o.removeEntry(_,gn.min()),gl(e).delete([0,Yo(_.path)])))});u.push(V)}}).next(()=>lt.waitFor(u)).next(()=>o.apply(e)).next(()=>p)}removeTarget(e,n){const o=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,n){return Cd(e,n)}Kn(e,n){const o=gl(e);let u,p=ws.at;return o.Z({index:"documentTargetsIndex"},([_,b],{path:V,sequenceNumber:z})=>{0===_?(p!==ws.at&&n(new Yt(iu(u)),p),p=z,u=V):p=ws.at}).next(()=>{p!==ws.at&&n(new Yt(iu(u)),p)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Cd(i,e){return gl(i).put((o=i.currentSequenceNumber,{targetId:0,path:Yo(e.path),sequenceNumber:o}));var o}class qp{constructor(){this.changes=new wu(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const o=this.changes.get(n);return void 0!==o?lt.resolve(o):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class qm{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,o){return zu(e).put(o)}removeEntry(e,n,o){return zu(e).delete(function(u,p){const _=u.path.toArray();return[_.slice(0,_.length-2),_[_.length-2],vd(p),_[_.length-1]]}(n,o))}updateMetadata(e,n){return this.getMetadata(e).next(o=>(o.byteSize+=n,this.Qn(e,o)))}getEntry(e,n){let o=dn.newInvalidDocument(n);return zu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(yl(n))},(u,p)=>{o=this.jn(n,p)}).next(()=>o)}Wn(e,n){let o={size:0,document:dn.newInvalidDocument(n)};return zu(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(yl(n))},(u,p)=>{o={document:this.jn(n,p),size:$l(p)}}).next(()=>o)}getEntries(e,n){let o=aa();return this.zn(e,n,(u,p)=>{const _=this.jn(u,p);o=o.insert(u,_)}).next(()=>o)}Hn(e,n){let o=aa(),u=new Tr(Yt.comparator);return this.zn(e,n,(p,_)=>{const b=this.jn(p,_);o=o.insert(p,b),u=u.insert(p,$l(_))}).next(()=>({documents:o,Jn:u}))}zn(e,n,o){if(n.isEmpty())return lt.resolve();let u=new f(bd);n.forEach(V=>u=u.add(V));const p=IDBKeyRange.bound(yl(u.first()),yl(u.last())),_=u.getIterator();let b=_.getNext();return zu(e).Z({index:"documentKeyIndex",range:p},(V,z,J)=>{const we=Yt.fromSegments([...z.prefixPath,z.collectionGroup,z.documentId]);for(;b&&bd(b,we)<0;)o(b,null),b=_.getNext();b&&b.isEqual(we)&&(o(b,z),b=_.hasNext()?_.getNext():null),b?J.j(yl(b)):J.done()}).next(()=>{for(;b;)o(b,null),b=_.hasNext()?_.getNext():null})}getAllFromCollection(e,n,o){const u=[n.popLast().toArray(),n.lastSegment(),vd(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],p=[n.popLast().toArray(),n.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return zu(e).W(IDBKeyRange.bound(u,p,!0)).next(_=>{let b=aa();for(const V of _){const z=this.jn(Yt.fromSegments(V.prefixPath.concat(V.collectionGroup,V.documentId)),V);b=b.insert(z.key,z)}return b})}getAllFromCollectionGroup(e,n,o,u){let p=aa();const _=lf(n,o),b=lf(n,ri.max());return zu(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(_,b,!0)},(V,z,J)=>{const we=this.jn(Yt.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);p=p.insert(we.key,we),p.size===u&&J.done()}).next(()=>p)}newChangeBuffer(e){return new Zm(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return Yp(e).get("remoteDocumentGlobalKey").next(n=>(Rn(!!n),n))}Qn(e,n){return Yp(e).put("remoteDocumentGlobalKey",n)}jn(e,n){if(n){const o=function $m(i,e){let n;if(e.document)n=Ap(i.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=Yt.fromSegments(e.noDocument.path),u=Du(e.noDocument.readTime);n=dn.newNoDocument(o,u),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return en();{const o=Yt.fromSegments(e.unknownDocument.path),u=Du(e.unknownDocument.version);n=dn.newUnknownDocument(o,u)}}return e.readTime&&n.setReadTime(function(o){const u=new pr(o[0],o[1]);return gn.fromTimestamp(u)}(e.readTime)),n}(this.It,n);if(!o.isNoDocument()||!o.version.isEqual(gn.min()))return o}return dn.newInvalidDocument(e)}}function Zp(i){return new qm(i)}class Zm extends qp{constructor(e,n){super(),this.Yn=e,this.trackRemovals=n,this.Xn=new wu(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const n=[];let o=0,u=new f((p,_)=>$n(p.canonicalString(),_.canonicalString()));return this.changes.forEach((p,_)=>{const b=this.Xn.get(p);if(n.push(this.Yn.removeEntry(e,p,b.readTime)),_.isValidDocument()){const V=Lp(this.Yn.It,_);u=u.add(p.path.popLast()),o+=$l(V)-b.size,n.push(this.Yn.addEntry(e,p,V))}else if(o-=b.size,this.trackRemovals){const V=Lp(this.Yn.It,_.convertToNoDocument(gn.min()));n.push(this.Yn.addEntry(e,p,V))}}),u.forEach(p=>{n.push(this.Yn.indexManager.addToCollectionParentIndex(e,p))}),n.push(this.Yn.updateMetadata(e,o)),lt.waitFor(n)}getFromCache(e,n){return this.Yn.Wn(e,n).next(o=>(this.Xn.set(n,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,n){return this.Yn.Hn(e,n).next(({documents:o,Jn:u})=>(u.forEach((p,_)=>{this.Xn.set(p,{size:_,readTime:o.get(p).readTime})}),o))}}function Yp(i){return js(i,"remoteDocumentGlobal")}function zu(i){return js(i,"remoteDocumentsV14")}function yl(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function lf(i,e){const n=e.documentKey.path.toArray();return[i,vd(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function bd(i,e){const n=i.path.toArray(),o=e.path.toArray();let u=0;for(let p=0;p<n.length-2&&p<o.length-2;++p)if(u=$n(n[p],o[p]),u)return u;return u=$n(n.length,o.length),u||(u=$n(n[n.length-2],o[o.length-2]),u||$n(n[n.length-1],o[o.length-1]))}class Ym{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Qp{constructor(e,n,o,u){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=o,this.indexManager=u}getDocument(e,n){let o=null;return this.documentOverlayCache.getOverlay(e,n).next(u=>(o=u,this.getBaseDocument(e,n,o))).next(u=>(null!==o&&ya(o.mutation,u,m.empty(),pr.now()),u))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.getLocalViewOfDocuments(e,o,hr()).next(()=>o))}getLocalViewOfDocuments(e,n,o=hr()){const u=Na();return this.populateOverlays(e,u,n).next(()=>this.computeViews(e,n,u,o).next(p=>{let _=Ll();return p.forEach((b,V)=>{_=_.insert(b,V.overlayedDocument)}),_}))}getOverlayedDocuments(e,n){const o=Na();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,hr()))}populateOverlays(e,n,o){const u=[];return o.forEach(p=>{n.has(p)||u.push(p)}),this.documentOverlayCache.getOverlays(e,u).next(p=>{p.forEach((_,b)=>{n.set(_,b)})})}computeViews(e,n,o,u){let p=aa();const _=vc(),b=vc();return n.forEach((V,z)=>{const J=o.get(z.key);u.has(z.key)&&(void 0===J||J.mutation instanceof oa)?p=p.insert(z.key,z):void 0!==J&&(_.set(z.key,J.mutation.getFieldMask()),ya(J.mutation,z,J.mutation.getFieldMask(),pr.now()))}),this.recalculateAndSaveOverlays(e,p).next(V=>(V.forEach((z,J)=>_.set(z,J)),n.forEach((z,J)=>{var we;return b.set(z,new Ym(J,null!==(we=_.get(z))&&void 0!==we?we:null))}),b))}recalculateAndSaveOverlays(e,n){const o=vc();let u=new Tr((_,b)=>_-b),p=hr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(_=>{for(const b of _)b.keys().forEach(V=>{const z=n.get(V);if(null===z)return;let J=o.get(V)||m.empty();J=b.applyToLocalView(z,J),o.set(V,J);const we=(u.get(b.batchId)||hr()).add(V);u=u.insert(b.batchId,we)})}).next(()=>{const _=[],b=u.getReverseIterator();for(;b.hasNext();){const V=b.getNext(),z=V.key,J=V.value,we=bh();J.forEach(st=>{if(!p.has(st)){const Dt=hi(n.get(st),o.get(st));null!==Dt&&we.set(st,Dt),p=p.add(st)}}),_.push(this.documentOverlayCache.saveOverlays(e,z,we))}return lt.waitFor(_)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,n,o){return Yt.isDocumentKey((u=n).path)&&null===u.collectionGroup&&0===u.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):dc(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,o):this.getDocumentsMatchingCollectionQuery(e,n,o);var u}getNextDocuments(e,n,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,o,u).next(p=>{const _=u-p.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,o.largestBatchId,u-p.size):lt.resolve(Na());let b=-1,V=p;return _.next(z=>lt.forEach(z,(J,we)=>(b<we.largestBatchId&&(b=we.largestBatchId),p.get(J)?lt.resolve():this.getBaseDocument(e,J,we).next(st=>{V=V.insert(J,st)}))).next(()=>this.populateOverlays(e,z,p)).next(()=>this.computeViews(e,V,z,hr())).next(J=>({batchId:b,changes:Tp(J)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Yt(n)).next(o=>{let u=Ll();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}getDocumentsMatchingCollectionGroupQuery(e,n,o){const u=n.collectionGroup;let p=Ll();return this.indexManager.getCollectionParents(e,u).next(_=>lt.forEach(_,b=>{const V=(z=n,J=b.child(u),new ga(J,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt));var z,J;return this.getDocumentsMatchingCollectionQuery(e,V,o).next(z=>{z.forEach((J,we)=>{p=p.insert(J,we)})})}).next(()=>p))}getDocumentsMatchingCollectionQuery(e,n,o){let u;return this.remoteDocumentCache.getAllFromCollection(e,n.path,o).next(p=>(u=p,this.documentOverlayCache.getOverlaysForCollection(e,n.path,o.largestBatchId))).next(p=>{p.forEach((b,V)=>{const z=V.getKey();null===u.get(z)&&(u=u.insert(z,dn.newInvalidDocument(z)))});let _=Ll();return u.forEach((b,V)=>{const z=p.get(b);void 0!==z&&ya(z.mutation,V,m.empty(),pr.now()),Vu(n,V)&&(_=_.insert(b,V))}),_})}getBaseDocument(e,n,o){return null===o||1===o.mutation.type?this.remoteDocumentCache.getEntry(e,n):lt.resolve(dn.newInvalidDocument(n))}}class Jp{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,n){return lt.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var o;return this.Zn.set(n.id,{id:(o=n).id,version:o.version,createTime:ts(o.createTime)}),lt.resolve()}getNamedQuery(e,n){return lt.resolve(this.ts.get(n))}saveNamedQuery(e,n){return this.ts.set(n.name,{name:(o=n).name,query:_d(o.bundledQuery),readTime:ts(o.readTime)}),lt.resolve();var o}}class Xp{constructor(){this.overlays=new Tr(Yt.comparator),this.es=new Map}getOverlay(e,n){return lt.resolve(this.overlays.get(n))}getOverlays(e,n){const o=Na();return lt.forEach(n,u=>this.getOverlay(e,u).next(p=>{null!==p&&o.set(u,p)})).next(()=>o)}saveOverlays(e,n,o){return o.forEach((u,p)=>{this.ue(e,n,p)}),lt.resolve()}removeOverlaysForBatchId(e,n,o){const u=this.es.get(o);return void 0!==u&&(u.forEach(p=>this.overlays=this.overlays.remove(p)),this.es.delete(o)),lt.resolve()}getOverlaysForCollection(e,n,o){const u=Na(),p=n.length+1,_=new Yt(n.child("")),b=this.overlays.getIteratorFrom(_);for(;b.hasNext();){const V=b.getNext().value,z=V.getKey();if(!n.isPrefixOf(z.path))break;z.path.length===p&&V.largestBatchId>o&&u.set(V.getKey(),V)}return lt.resolve(u)}getOverlaysForCollectionGroup(e,n,o,u){let p=new Tr((z,J)=>z-J);const _=this.overlays.getIterator();for(;_.hasNext();){const z=_.getNext().value;if(z.getKey().getCollectionGroup()===n&&z.largestBatchId>o){let J=p.get(z.largestBatchId);null===J&&(J=Na(),p=p.insert(z.largestBatchId,J)),J.set(z.getKey(),z)}}const b=Na(),V=p.getIterator();for(;V.hasNext()&&(V.getNext().value.forEach((z,J)=>b.set(z,J)),!(b.size()>=u)););return lt.resolve(b)}ue(e,n,o){const u=this.overlays.get(o.key);if(null!==u){const _=this.es.get(u.largestBatchId).delete(o.key);this.es.set(u.largestBatchId,_)}this.overlays=this.overlays.insert(o.key,new qh(n,o));let p=this.es.get(n);void 0===p&&(p=hr(),this.es.set(n,p)),this.es.set(n,p.add(o.key))}}class Au{constructor(){this.ns=new f(so.ss),this.rs=new f(so.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,n){const o=new so(e,n);this.ns=this.ns.add(o),this.rs=this.rs.add(o)}us(e,n){e.forEach(o=>this.addReference(o,n))}removeReference(e,n){this.cs(new so(e,n))}hs(e,n){e.forEach(o=>this.removeReference(o,n))}ls(e){const n=new Yt(new Xn([])),o=new so(n,e),u=new so(n,e+1),p=[];return this.rs.forEachInRange([o,u],_=>{this.cs(_),p.push(_.key)}),p}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const n=new Yt(new Xn([])),o=new so(n,e),u=new so(n,e+1);let p=hr();return this.rs.forEachInRange([o,u],_=>{p=p.add(_.key)}),p}containsKey(e){const n=new so(e,0),o=this.ns.firstAfterOrEqual(n);return null!==o&&e.isEqual(o.key)}}class so{constructor(e,n){this.key=e,this._s=n}static ss(e,n){return Yt.comparator(e.key,n.key)||$n(e._s,n._s)}static os(e,n){return $n(e._s,n._s)||Yt.comparator(e.key,n.key)}}class eg{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this.gs=new f(so.ss)}checkEmpty(e){return lt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,o,u){const p=this.ws;this.ws++;const _=new cl(p,n,o,u);this.mutationQueue.push(_);for(const b of u)this.gs=this.gs.add(new so(b.key,p)),this.indexManager.addToCollectionParentIndex(e,b.key.path.popLast());return lt.resolve(_)}lookupMutationBatch(e,n){return lt.resolve(this.ys(n))}getNextMutationBatchAfterBatchId(e,n){const u=this.ps(n+1),p=u<0?0:u;return lt.resolve(this.mutationQueue.length>p?this.mutationQueue[p]:null)}getHighestUnacknowledgedBatchId(){return lt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return lt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const o=new so(n,0),u=new so(n,Number.POSITIVE_INFINITY),p=[];return this.gs.forEachInRange([o,u],_=>{const b=this.ys(_._s);p.push(b)}),lt.resolve(p)}getAllMutationBatchesAffectingDocumentKeys(e,n){let o=new f($n);return n.forEach(u=>{const p=new so(u,0),_=new so(u,Number.POSITIVE_INFINITY);this.gs.forEachInRange([p,_],b=>{o=o.add(b._s)})}),lt.resolve(this.Is(o))}getAllMutationBatchesAffectingQuery(e,n){const o=n.path,u=o.length+1;let p=o;Yt.isDocumentKey(p)||(p=p.child(""));const _=new so(new Yt(p),0);let b=new f($n);return this.gs.forEachWhile(V=>{const z=V.key.path;return!!o.isPrefixOf(z)&&(z.length===u&&(b=b.add(V._s)),!0)},_),lt.resolve(this.Is(b))}Is(e){const n=[];return e.forEach(o=>{const u=this.ys(o);null!==u&&n.push(u)}),n}removeMutationBatch(e,n){Rn(0===this.Ts(n.batchId,"removed")),this.mutationQueue.shift();let o=this.gs;return lt.forEach(n.mutations,u=>{const p=new so(u.key,n.batchId);return o=o.delete(p),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.gs=o})}An(e){}containsKey(e,n){const o=new so(n,0),u=this.gs.firstAfterOrEqual(o);return lt.resolve(n.isEqual(u&&u.key))}performConsistencyCheck(e){return lt.resolve()}Ts(e,n){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const n=this.ps(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Qm{constructor(e){this.Es=e,this.docs=new Tr(Yt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const o=n.key,u=this.docs.get(o),p=u?u.size:0,_=this.Es(n);return this.docs=this.docs.insert(o,{document:n.mutableCopy(),size:_}),this.size+=_-p,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const o=this.docs.get(n);return lt.resolve(o?o.document.mutableCopy():dn.newInvalidDocument(n))}getEntries(e,n){let o=aa();return n.forEach(u=>{const p=this.docs.get(u);o=o.insert(u,p?p.document.mutableCopy():dn.newInvalidDocument(u))}),lt.resolve(o)}getAllFromCollection(e,n,o){let u=aa();const p=new Yt(n.child("")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:b,value:{document:V}}=_.getNext();if(!n.isPrefixOf(b.path))break;b.path.length>n.length+1||Bs(mo(V),o)<=0||(u=u.insert(V.key,V.mutableCopy()))}return lt.resolve(u)}getAllFromCollectionGroup(e,n,o,u){en()}As(e,n){return lt.forEach(this.docs,o=>n(o))}newChangeBuffer(e){return new Kv(this)}getSize(e){return lt.resolve(this.size)}}class Kv extends qp{constructor(e){super(),this.Yn=e}applyChanges(e){const n=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?n.push(this.Yn.addEntry(e,u)):this.Yn.removeEntry(o)}),lt.waitFor(n)}getFromCache(e,n){return this.Yn.getEntry(e,n)}getAllFromCache(e,n){return this.Yn.getEntries(e,n)}}class Td{constructor(e){this.persistence=e,this.Rs=new wu(n=>Cr(n),_o),this.lastRemoteSnapshotVersion=gn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Au,this.targetCount=0,this.vs=pl.Pn()}forEachTarget(e,n){return this.Rs.forEach((o,u)=>n(u)),lt.resolve()}getLastRemoteSnapshotVersion(e){return lt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return lt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),lt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,o){return o&&(this.lastRemoteSnapshotVersion=o),n>this.bs&&(this.bs=n),lt.resolve()}Dn(e){this.Rs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.vs=new pl(n),this.highestTargetId=n),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,n){return this.Dn(n),this.targetCount+=1,lt.resolve()}updateTargetData(e,n){return this.Dn(n),lt.resolve()}removeTargetData(e,n){return this.Rs.delete(n.target),this.Ps.ls(n.targetId),this.targetCount-=1,lt.resolve()}removeTargets(e,n,o){let u=0;const p=[];return this.Rs.forEach((_,b)=>{b.sequenceNumber<=n&&null===o.get(b.targetId)&&(this.Rs.delete(_),p.push(this.removeMatchingKeysForTargetId(e,b.targetId)),u++)}),lt.waitFor(p).next(()=>u)}getTargetCount(e){return lt.resolve(this.targetCount)}getTargetData(e,n){const o=this.Rs.get(n)||null;return lt.resolve(o)}addMatchingKeys(e,n,o){return this.Ps.us(n,o),lt.resolve()}removeMatchingKeys(e,n,o){this.Ps.hs(n,o);const u=this.persistence.referenceDelegate,p=[];return u&&n.forEach(_=>{p.push(u.markPotentiallyOrphaned(e,_))}),lt.waitFor(p)}removeMatchingKeysForTargetId(e,n){return this.Ps.ls(n),lt.resolve()}getMatchingKeysForTargetId(e,n){const o=this.Ps.ds(n);return lt.resolve(o)}containsKey(e,n){return lt.resolve(this.Ps.containsKey(n))}}class tg{constructor(e,n){this.Vs={},this.overlays={},this.Ss=new ws(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new Td(this),this.indexManager=new zm,this.remoteDocumentCache=new Qm(o=>this.referenceDelegate.xs(o)),this.It=new Zh(n),this.Ns=new Jp(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Xp,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let o=this.Vs[e.toKey()];return o||(o=new eg(n,this.referenceDelegate),this.Vs[e.toKey()]=o),o}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,n,o){Lt("MemoryPersistence","Starting transaction:",e);const u=new ng(this.Ss.next());return this.referenceDelegate.ks(),o(u).next(p=>this.referenceDelegate.Ms(u).next(()=>p)).toPromise().then(p=>(u.raiseOnCommittedEvent(),p))}Os(e,n){return lt.or(Object.values(this.Vs).map(o=>()=>o.containsKey(e,n)))}}class ng extends vr{constructor(e){super(),this.currentSequenceNumber=e}}class Tc{constructor(e){this.persistence=e,this.Fs=new Au,this.$s=null}static Bs(e){return new Tc(e)}get Ls(){if(this.$s)return this.$s;throw en()}addReference(e,n,o){return this.Fs.addReference(o,n),this.Ls.delete(o.toString()),lt.resolve()}removeReference(e,n,o){return this.Fs.removeReference(o,n),this.Ls.add(o.toString()),lt.resolve()}markPotentiallyOrphaned(e,n){return this.Ls.add(n.toString()),lt.resolve()}removeTarget(e,n){this.Fs.ls(n.targetId).forEach(u=>this.Ls.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,n.targetId).next(u=>{u.forEach(p=>this.Ls.add(p.toString()))}).next(()=>o.removeTargetData(e,n))}ks(){this.$s=new Set}Ms(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return lt.forEach(this.Ls,o=>{const u=Yt.fromPath(o);return this.Us(e,u).next(p=>{p||n.removeEntry(u,gn.min())})}).next(()=>(this.$s=null,n.apply(e)))}updateLimboDocument(e,n){return this.Us(e,n).next(o=>{o?this.Ls.delete(n.toString()):this.Ls.add(n.toString())})}xs(e){return 0}Us(e,n){return lt.or([()=>lt.resolve(this.Fs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}class rg{constructor(e){this.It=e}$(e,n,o,u){const p=new Ua("createOrUpgrade",n);var b;o<1&&u>=1&&(e.createObjectStore("owner"),(b=e).createObjectStore("mutationQueues",{keyPath:"userId"}),b.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Op,{unique:!0}),b.createObjectStore("documentMutations"),Sd(e),function(b){b.createObjectStore("remoteDocuments")}(e));let _=lt.resolve();return o<3&&u>=3&&(0!==o&&(function(b){b.deleteObjectStore("targetDocuments"),b.deleteObjectStore("targets"),b.deleteObjectStore("targetGlobal")}(e),Sd(e)),_=_.next(()=>function(b){const V=b.store("targetGlobal"),z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:gn.min().toTimestamp(),targetCount:0};return V.put("targetGlobalKey",z)}(p))),o<4&&u>=4&&(0!==o&&(_=_.next(()=>function(b,V){return V.store("mutations").W().next(z=>{b.deleteObjectStore("mutations"),b.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Op,{unique:!0});const J=V.store("mutations"),we=z.map(st=>J.put(st));return lt.waitFor(we)})}(e,p))),_=_.next(()=>{!function(b){b.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(_=_.next(()=>this.qs(p))),o<6&&u>=6&&(_=_.next(()=>(function(b){b.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(p)))),o<7&&u>=7&&(_=_.next(()=>this.Gs(p))),o<8&&u>=8&&(_=_.next(()=>this.Qs(e,p))),o<9&&u>=9&&(_=_.next(()=>{!function(b){b.objectStoreNames.contains("remoteDocumentChanges")&&b.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(_=_.next(()=>this.js(p))),o<11&&u>=11&&(_=_.next(()=>{(function(b){b.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(b){b.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(_=_.next(()=>{!function(b){const V=b.createObjectStore("documentOverlays",{keyPath:Wv});V.createIndex("collectionPathOverlayIndex",jm,{unique:!1}),V.createIndex("collectionGroupOverlayIndex",kp,{unique:!1})}(e)})),o<13&&u>=13&&(_=_.next(()=>function(b){const V=b.createObjectStore("remoteDocumentsV14",{keyPath:Bh});V.createIndex("documentKeyIndex",Um),V.createIndex("collectionGroupIndex",Bm)}(e)).next(()=>this.Ws(e,p)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(_=_.next(()=>this.zs(e,p))),o<15&&u>=15&&(_=_.next(()=>function(b){b.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),b.createObjectStore("indexState",{keyPath:$v}).createIndex("sequenceNumberIndex",Hv,{unique:!1}),b.createObjectStore("indexEntries",{keyPath:Gv}).createIndex("documentKeyIndex",zv,{unique:!1})}(e))),_}Ks(e){let n=0;return e.store("remoteDocuments").Z((o,u)=>{n+=$l(u)}).next(()=>{const o={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}qs(e){const n=e.store("mutationQueues"),o=e.store("mutations");return n.W().next(u=>lt.forEach(u,p=>{const _=IDBKeyRange.bound([p.userId,-1],[p.userId,p.lastAcknowledgedBatchId]);return o.W("userMutationsIndex",_).next(b=>lt.forEach(b,V=>{Rn(V.userId===p.userId);const z=hl(this.It,V);return Id(e,p.userId,z).next(()=>{})}))}))}Gs(e){const n=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const p=[];return o.Z((_,b)=>{const V=new Xn(_),z=[0,Yo(V)];p.push(n.get(z).next(J=>J?lt.resolve():n.put({targetId:0,path:Yo(V),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>lt.waitFor(p))})}Qs(e,n){e.createObjectStore("collectionParents",{keyPath:$h});const o=n.store("collectionParents"),u=new Xh,p=_=>{if(u.add(_)){const b=_.lastSegment(),V=_.popLast();return o.put({collectionId:b,parent:Yo(V)})}};return n.store("remoteDocuments").Z({X:!0},(_,b)=>{const V=new Xn(_);return p(V.popLast())}).next(()=>n.store("documentMutations").Z({X:!0},([_,b,V],z)=>{const J=iu(b);return p(J.popLast())}))}js(e){const n=e.store("targets");return n.Z((o,u)=>{const p=Dc(u),_=Vp(this.It,p);return n.put(_)})}Ws(e,n){const o=n.store("remoteDocuments"),u=[];return o.Z((p,_)=>{const b=n.store("remoteDocumentsV14"),V=(z=_,z.document?new Yt(Xn.fromString(z.document.name).popFirst(5)):z.noDocument?Yt.fromSegments(z.noDocument.path):z.unknownDocument?Yt.fromSegments(z.unknownDocument.path):en()).path.toArray();var z;const J={prefixPath:V.slice(0,V.length-2),collectionGroup:V[V.length-2],documentId:V[V.length-1],readTime:_.readTime||[0,0],unknownDocument:_.unknownDocument,noDocument:_.noDocument,document:_.document,hasCommittedMutations:!!_.hasCommittedMutations};u.push(b.put(J))}).next(()=>lt.waitFor(u))}zs(e,n){const o=n.store("mutations"),u=Zp(this.It),p=new tg(Tc.Bs,this.It.re);return o.W().next(_=>{const b=new Map;return _.forEach(V=>{var z;let J=null!==(z=b.get(V.userId))&&void 0!==z?z:hr();hl(this.It,V).keys().forEach(we=>J=J.add(we)),b.set(V.userId,J)}),lt.forEach(b,(V,z)=>{const J=new ci(z),we=io.oe(this.It,J),st=p.getIndexManager(J),Dt=Dd.oe(J,this.It,st,p.referenceDelegate);return new Qp(u,Dt,we,st).recalculateAndSaveOverlaysForDocumentKeys(new Wh(n,ws.at),V).next()})})}}function Sd(i){i.createObjectStore("targetDocuments",{keyPath:Bv}).createIndex("documentTargetsIndex",jv,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",jh,{unique:!0}),i.createObjectStore("targetGlobal")}const Ad="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Hl{constructor(e,n,o,u,p,_,b,V,z,J,we=15){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=o,this.Hs=p,this.window=_,this.document=b,this.Js=z,this.Ys=J,this.Xs=we,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=st=>Promise.resolve(),!Hl.C())throw new Et(ht.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uf(this,u),this.ii=n+"main",this.It=new Zh(V),this.ri=new to(this.ii,this.Xs,new rg(this.It)),this.Cs=new rf(this.referenceDelegate,this.It),this.remoteDocumentCache=Zp(this.It),this.Ns=new Qh,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===J&&ni("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Et(ht.FAILED_PRECONDITION,Ad);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new ws(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var n=this;return this.si=function(){var o=(0,h.Z)(function*(u){if(n.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var n=(0,h.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return n.apply(this,arguments)}}())}setNetworkEnabled(e){var n=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,h.Z)(function*(){n.started&&(yield n.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Sc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(n=>{n||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(n=>this.isPrimary&&!n?this._i(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(ls(e))return Lt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Lt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Wu(e).get("owner").next(n=>lt.resolve(this.mi(n)))}gi(e){return Sc(e).delete(this.clientId)}yi(){var e=this;return(0,h.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const n=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=js(o,"clientMetadata");return u.W().next(p=>{const _=e.Ii(p,18e5),b=p.filter(V=>-1===_.indexOf(V));return lt.forEach(b,V=>u.delete(V.clientId)).next(()=>b)})}).catch(()=>[]);if(e.oi)for(const o of n)e.oi.removeItem(e.Ti(o.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?lt.resolve(!0):Wu(e).get("owner").next(n=>{if(null!==n&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)){if(this.mi(n)&&this.networkEnabled)return!0;if(!this.mi(n)){if(!n.allowTabSynchronization)throw new Et(ht.FAILED_PRECONDITION,Ad);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sc(e).W().next(o=>void 0===this.Ii(o,5e3).find(u=>{if(this.clientId!==u.clientId){const _=!this.inForeground&&u.inForeground,b=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||_&&b)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&Lt("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var e=this;return(0,h.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],n=>{const o=new Wh(n,ws.at);return e._i(o).next(()=>e.gi(o))}),e.ri.close(),e.Pi()})()}Ii(e,n){return e.filter(o=>this.pi(o.updateTimeMs,n)&&!this.Ei(o.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Sc(e).W().next(n=>this.Ii(n,18e5).map(o=>o.clientId)))}get started(){return this.Ds}getMutationQueue(e,n){return Dd.oe(e,this.It,n,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Su(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return io.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,n,o){Lt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===n?"readonly":"readwrite",p=15===(_=this.Xs)?zh:14===_?Gh:13===_?Hh:12===_?Fp:11===_?yd:void en();var _;let b;return this.ri.runTransaction(e,u,p,V=>(b=new Wh(V,this.Ss?this.Ss.next():ws.at),"readwrite-primary"===n?this.fi(b).next(z=>!!z||this.di(b)).next(z=>{if(!z)throw ni(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Et(ht.FAILED_PRECONDITION,ra);return o(b)}).next(z=>this.wi(b).next(()=>z)):this.Vi(b).next(()=>o(b)))).then(V=>(b.raiseOnCommittedEvent(),V))}Vi(e){return Wu(e).get("owner").next(n=>{if(null!==n&&this.pi(n.leaseTimestampMs,5e3)&&!this.Ei(n.ownerId)&&!this.mi(n)&&!(this.Ys||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Et(ht.FAILED_PRECONDITION,Ad)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wu(e).put("owner",n)}static C(){return to.C()}_i(e){const n=Wu(e);return n.get("owner").next(o=>this.mi(o)?(Lt("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):lt.resolve())}pi(e,n){const o=Date.now();return!(e<o-n||e>o&&(ni(`Detected an update time that is in the future: ${e} > ${o}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,de.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var n;try{const o=null!==(null===(n=this.oi)||void 0===n?void 0:n.getItem(this.Ti(e)));return Lt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return ni("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){ni("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Wu(i){return js(i,"owner")}function Sc(i){return js(i,"clientMetadata")}function Ac(i,e){let n=i.projectId;return i.isDefaultDatabase||(n+="."+i.database),"firestore/"+e+"/"+n+"/"}class Md{constructor(e,n,o,u){this.targetId=e,this.fromCache=n,this.Si=o,this.Di=u}static Ci(e,n){let o=hr(),u=hr();for(const p of n.docChanges)switch(p.type){case 0:o=o.add(p.doc.key);break;case 1:u=u.add(p.doc.key)}return new Md(e,n.fromCache,o,u)}}class xd{constructor(){this.xi=!1}initialize(e,n){this.Ni=e,this.indexManager=n,this.xi=!0}getDocumentsMatchingQuery(e,n,o,u){return this.ki(e,n).next(p=>p||this.Mi(e,n,u,o)).next(p=>p||this.Oi(e,n))}ki(e,n){if(sl(n))return lt.resolve(null);let o=Bo(n);return this.indexManager.getIndexType(e,o).next(u=>0===u?null:(null!==n.limit&&1===u&&(n=yu(n,null,"F"),o=Bo(n)),this.indexManager.getDocumentsMatchingTarget(e,o).next(p=>{const _=hr(...p);return this.Ni.getDocuments(e,_).next(b=>this.indexManager.getMinOffset(e,o).next(V=>{const z=this.Fi(n,b);return this.$i(n,z,_,V.readTime)?this.ki(e,yu(n,null,"F")):this.Bi(e,z,n,V)}))})))}Mi(e,n,o,u){return sl(n)||u.isEqual(gn.min())?this.Oi(e,n):this.Ni.getDocuments(e,o).next(p=>{const _=this.Fi(n,p);return this.$i(n,_,o,u)?this.Oi(e,n):(wa()<=ce.in.DEBUG&&Lt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Pl(n)),this.Bi(e,_,n,Fo(u,-1)))})}Fi(e,n){let o=new f(kl(e));return n.forEach((u,p)=>{Vu(e,p)&&(o=o.add(p))}),o}$i(e,n,o,u){if(null===e.limit)return!1;if(o.size!==n.size)return!0;const p="F"===e.limitType?n.last():n.first();return!!p&&(p.hasPendingWrites||p.version.compareTo(u)>0)}Oi(e,n){return wa()<=ce.in.DEBUG&&Lt("QueryEngine","Using full collection scan to execute query:",Pl(n)),this.Ni.getDocumentsMatchingQuery(e,n,ri.min())}Bi(e,n,o,u){return this.Ni.getDocumentsMatchingQuery(e,o,u).next(p=>(n.forEach(_=>{p=p.insert(_.key,_)}),p))}}class Mc{constructor(e,n,o,u){this.persistence=e,this.Li=n,this.It=u,this.Ui=new Tr($n),this.qi=new wu(p=>Cr(p),_o),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(o)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qp(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ui))}}function ig(i,e,n,o){return new Mc(i,e,n,o)}function cf(i,e){return df.apply(this,arguments)}function df(){return df=(0,h.Z)(function*(i,e){const n=Qt(i);return yield n.persistence.runTransaction("Handle user change","readonly",o=>{let u;return n.mutationQueue.getAllMutationBatches(o).next(p=>(u=p,n.Qi(e),n.mutationQueue.getAllMutationBatches(o))).next(p=>{const _=[],b=[];let V=hr();for(const z of u){_.push(z.batchId);for(const J of z.mutations)V=V.add(J.key)}for(const z of p){b.push(z.batchId);for(const J of z.mutations)V=V.add(J.key)}return n.localDocuments.getDocuments(o,V).next(z=>({ji:z,removedBatchIds:_,addedBatchIds:b}))})})}),df.apply(this,arguments)}function Jm(i,e){const n=Qt(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),p=n.Gi.newChangeBuffer({trackRemovals:!0});return function(_,b,V,z){const J=V.batch,we=J.keys();let st=lt.resolve();return we.forEach(Dt=>{st=st.next(()=>z.getEntry(b,Dt)).next(At=>{const rn=V.docVersions.get(Dt);Rn(null!==rn),At.version.compareTo(rn)<0&&(J.applyToRemoteDocument(At,V),At.isValidDocument()&&(At.setReadTime(V.commitVersion),z.addEntry(At)))})}),st.next(()=>_.mutationQueue.removeMutationBatch(b,J))}(n,o,e,p).next(()=>p.apply(o)).next(()=>n.mutationQueue.performConsistencyCheck(o)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(o,u,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(_){let b=hr();for(let V=0;V<_.mutationResults.length;++V)_.mutationResults[V].transformResults.length>0&&(b=b.add(_.batch.mutations[V].key));return b}(e))).next(()=>n.localDocuments.getDocuments(o,u))})}function hf(i){const e=Qt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Cs.getLastRemoteSnapshotVersion(n))}function ff(i,e){const n=Qt(i),o=e.snapshotVersion;let u=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",p=>{const _=n.Gi.newChangeBuffer({trackRemovals:!0});u=n.Ui;const b=[];e.targetChanges.forEach((J,we)=>{const st=u.get(we);if(!st)return;b.push(n.Cs.removeMatchingKeys(p,J.removedDocuments,we).next(()=>n.Cs.addMatchingKeys(p,J.addedDocuments,we)));let Dt=st.withSequenceNumber(p.currentSequenceNumber);var At,rn,An;e.targetMismatches.has(we)?Dt=Dt.withResumeToken(C.EMPTY_BYTE_STRING,gn.min()).withLastLimboFreeSnapshotVersion(gn.min()):J.resumeToken.approximateByteSize()>0&&(Dt=Dt.withResumeToken(J.resumeToken,o)),u=u.insert(we,Dt),rn=Dt,An=J,(0===(At=st).resumeToken.approximateByteSize()||rn.snapshotVersion.toMicroseconds()-At.snapshotVersion.toMicroseconds()>=3e8||An.addedDocuments.size+An.modifiedDocuments.size+An.removedDocuments.size>0)&&b.push(n.Cs.updateTargetData(p,Dt))});let V=aa(),z=hr();if(e.documentUpdates.forEach(J=>{e.resolvedLimboDocuments.has(J)&&b.push(n.persistence.referenceDelegate.updateLimboDocument(p,J))}),b.push(pf(p,_,e.documentUpdates).next(J=>{V=J.Wi,z=J.zi})),!o.isEqual(gn.min())){const J=n.Cs.getLastRemoteSnapshotVersion(p).next(we=>n.Cs.setTargetsMetadata(p,p.currentSequenceNumber,o));b.push(J)}return lt.waitFor(b).next(()=>_.apply(p)).next(()=>n.localDocuments.getLocalViewOfDocuments(p,V,z)).next(()=>V)}).then(p=>(n.Ui=u,p))}function pf(i,e,n){let o=hr(),u=hr();return n.forEach(p=>o=o.add(p)),e.getEntries(i,o).next(p=>{let _=aa();return n.forEach((b,V)=>{const z=p.get(b);V.isFoundDocument()!==z.isFoundDocument()&&(u=u.add(b)),V.isNoDocument()&&V.version.isEqual(gn.min())?(e.removeEntry(b,V.readTime),_=_.insert(b,V)):!z.isValidDocument()||V.version.compareTo(z.version)>0||0===V.version.compareTo(z.version)&&z.hasPendingWrites?(e.addEntry(V),_=_.insert(b,V)):Lt("LocalStore","Ignoring outdated watch update for ",b,". Current version:",z.version," Watch version:",V.version)}),{Wi:_,zi:u}})}function qv(i,e){const n=Qt(i);return n.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function vl(i,e){const n=Qt(i);return n.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return n.Cs.getTargetData(o,e).next(p=>p?(u=p,lt.resolve(u)):n.Cs.allocateTargetId(o).next(_=>(u=new ju(e,_,0,o.currentSequenceNumber),n.Cs.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=n.Ui.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(o.targetId,o),n.qi.set(e,o.targetId)),o})}function Gl(i,e,n){return Rd.apply(this,arguments)}function Rd(){return Rd=(0,h.Z)(function*(i,e,n){const o=Qt(i),u=o.Ui.get(e),p=n?"readwrite":"readwrite-primary";try{n||(yield o.persistence.runTransaction("Release target",p,_=>o.persistence.referenceDelegate.removeTarget(_,u)))}catch(_){if(!ls(_))throw _;Lt("LocalStore",`Failed to update sequence numbers for target ${e}: ${_}`)}o.Ui=o.Ui.remove(e),o.qi.delete(u.target)}),Rd.apply(this,arguments)}function Nd(i,e,n){const o=Qt(i);let u=gn.min(),p=hr();return o.persistence.runTransaction("Execute query","readonly",_=>function(b,V,z){const J=Qt(b),we=J.qi.get(z);return void 0!==we?lt.resolve(J.Ui.get(we)):J.Cs.getTargetData(V,z)}(o,_,Bo(e)).next(b=>{if(b)return u=b.lastLimboFreeSnapshotVersion,o.Cs.getMatchingKeysForTargetId(_,b.targetId).next(V=>{p=V})}).next(()=>o.Li.getDocumentsMatchingQuery(_,e,n?u:gn.min(),n?p:hr())).next(b=>(og(o,eu(e),b),{documents:b,Hi:p})))}function sg(i,e){const n=Qt(i),o=Qt(n.Cs),u=n.Ui.get(e);return u?Promise.resolve(u.target):n.persistence.runTransaction("Get target data","readonly",p=>o.se(p,e).next(_=>_?_.target:null))}function Oa(i,e){const n=Qt(i),o=n.Ki.get(e)||gn.min();return n.persistence.runTransaction("Get new document changes","readonly",u=>n.Gi.getAllFromCollectionGroup(u,e,Fo(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(og(n,e,u),u))}function og(i,e,n){let o=gn.min();n.forEach((u,p)=>{p.readTime.compareTo(o)>0&&(o=p.readTime)}),i.Ki.set(e,o)}function gf(){return gf=(0,h.Z)(function*(i,e,n,o){const u=Qt(i);let p=hr(),_=aa();for(const z of n){const J=e.Ji(z.metadata.name);z.document&&(p=p.add(J));const we=e.Yi(z);we.setReadTime(e.Xi(z.metadata.readTime)),_=_.insert(J,we)}const b=u.Gi.newChangeBuffer({trackRemovals:!0}),V=yield vl(u,(z=o,Bo(Ba(Xn.fromString(`__bundle__/docs/${z}`)))));var z;return u.persistence.runTransaction("Apply bundle documents","readwrite",z=>pf(z,b,_).next(J=>(b.apply(z),J)).next(J=>u.Cs.removeMatchingKeysForTargetId(z,V.targetId).next(()=>u.Cs.addMatchingKeys(z,p,V.targetId)).next(()=>u.localDocuments.getLocalViewOfDocuments(z,J.Wi,J.zi)).next(()=>J.Wi)))}),gf.apply(this,arguments)}function Xm(i,e){return mf.apply(this,arguments)}function mf(){return mf=(0,h.Z)(function*(i,e,n=hr()){const o=yield vl(i,Bo(_d(e.bundledQuery))),u=Qt(i);return u.persistence.runTransaction("Save named query","readwrite",p=>{const _=ts(e.readTime);if(o.snapshotVersion.compareTo(_)>=0)return u.Ns.saveNamedQuery(p,e);const b=o.withResumeToken(C.EMPTY_BYTE_STRING,_);return u.Ui=u.Ui.insert(b.targetId,b),u.Cs.updateTargetData(p,b).next(()=>u.Cs.removeMatchingKeysForTargetId(p,o.targetId)).next(()=>u.Cs.addMatchingKeys(p,n,o.targetId)).next(()=>u.Ns.saveNamedQuery(p,e))})}),mf.apply(this,arguments)}function ug(i,e){return`firestore_clients_${i}_${e}`}function yf(i,e,n){let o=`firestore_mutations_${i}_${n}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function vf(i,e){return`firestore_targets_${i}_${e}`}class Od{constructor(e,n,o,u){this.user=e,this.batchId=n,this.state=o,this.error=u}static Zi(e,n,o){const u=JSON.parse(o);let p,_="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return _&&u.error&&(_="string"==typeof u.error.message&&"string"==typeof u.error.code,_&&(p=new Et(u.error.code,u.error.message))),_?new Od(e,n,u.state,p):(ni("SharedClientState",`Failed to parse mutation state for ID '${n}': ${o}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class xc{constructor(e,n,o){this.targetId=e,this.state=n,this.error=o}static Zi(e,n){const o=JSON.parse(n);let u,p="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return p&&o.error&&(p="string"==typeof o.error.message&&"string"==typeof o.error.code,p&&(u=new Et(o.error.code,o.error.message))),p?new xc(e,o.state,u):(ni("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ir{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Zi(e,n){const o=JSON.parse(n);let u="object"==typeof o&&o.activeTargetIds instanceof Array,p=Th();for(let _=0;u&&_<o.activeTargetIds.length;++_)u=_r(o.activeTargetIds[_]),p=p.add(o.activeTargetIds[_]);return u?new ir(e,p):(ni("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Pd{constructor(e,n){this.clientId=e,this.onlineState=n}static Zi(e){const n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new Pd(n.clientId,n.onlineState):(ni("SharedClientState",`Failed to parse online state: ${e}`),null)}}class kd{constructor(){this.activeTargetIds=Th()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Fd{constructor(e,n,o,u,p){this.window=e,this.Hs=n,this.persistenceKey=o,this.sr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Tr($n),this.started=!1,this.cr=[];const _=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=p,this.ar=ug(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new kd),this.lr=new RegExp(`^firestore_clients_${_}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${_}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${_}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(b){return`firestore_bundle_loaded_v2_${b}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,h.Z)(function*(){const n=yield e.syncEngine.vi();for(const u of n){if(u===e.sr)continue;const p=e.getItem(ug(e.persistenceKey,u));if(p){const _=ir.Zi(u,p);_&&(e.ur=e.ur.insert(_.clientId,_))}}e.gr();const o=e.storage.getItem(e.wr);if(o){const u=e.yr(o);u&&e.pr(u)}for(const u of e.cr)e.rr(u);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let n=!1;return this.ur.forEach((o,u)=>{u.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,n,o){this.Tr(e,n,o),this.Er(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(vf(this.persistenceKey,e));if(o){const u=xc.Zi(e,o);u&&(n=u.state)}}return this.Ar.er(e),this.gr(),n}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(vf(this.persistenceKey,e))}updateQueryState(e,n,o){this.Rr(e,n,o)}handleUserChange(e,n,o){n.forEach(u=>{this.Er(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Lt("SharedClientState","READ",e,n),n}setItem(e,n){Lt("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Lt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var n=this;const o=e;if(o.storageArea===this.storage){if(Lt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.ar)return void ni("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,h.Z)(function*(){if(n.started){if(null!==o.key)if(n.lr.test(o.key)){if(null==o.newValue){const u=n.vr(o.key);return n.Vr(u,null)}{const u=n.Sr(o.key,o.newValue);if(u)return n.Vr(u.clientId,u)}}else if(n.dr.test(o.key)){if(null!==o.newValue){const u=n.Dr(o.key,o.newValue);if(u)return n.Cr(u)}}else if(n._r.test(o.key)){if(null!==o.newValue){const u=n.Nr(o.key,o.newValue);if(u)return n.kr(u)}}else if(o.key===n.wr){if(null!==o.newValue){const u=n.yr(o.newValue);if(u)return n.pr(u)}}else if(o.key===n.hr){const u=function(p){let _=ws.at;if(null!=p)try{const b=JSON.parse(p);Rn("number"==typeof b),_=b}catch(b){ni("SharedClientState","Failed to read sequence number from WebStorage",b)}return _}(o.newValue);u!==ws.at&&n.sequenceNumberHandler(u)}else if(o.key===n.mr){const u=n.Mr(o.newValue);yield Promise.all(u.map(p=>n.syncEngine.Or(p)))}}else n.cr.push(o)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,n,o){const u=new Od(this.currentUser,e,n,o),p=yf(this.persistenceKey,this.currentUser,e);this.setItem(p,u.tr())}Er(e){const n=yf(this.persistenceKey,this.currentUser,e);this.removeItem(n)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,n,o){const u=vf(this.persistenceKey,e),p=new xc(e,n,o);this.setItem(u,p.tr())}Pr(e){const n=JSON.stringify(Array.from(e));this.setItem(this.mr,n)}vr(e){const n=this.lr.exec(e);return n?n[1]:null}Sr(e,n){const o=this.vr(e);return ir.Zi(o,n)}Dr(e,n){const o=this.dr.exec(e),u=Number(o[1]);return Od.Zi(new ci(void 0!==o[2]?o[2]:null),u,n)}Nr(e,n){const o=this._r.exec(e),u=Number(o[1]);return xc.Zi(u,n)}yr(e){return Pd.Zi(e)}Mr(e){return JSON.parse(e)}Cr(e){var n=this;return(0,h.Z)(function*(){if(e.user.uid===n.currentUser.uid)return n.syncEngine.Fr(e.batchId,e.state,e.error);Lt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,n){const o=n?this.ur.insert(e,n):this.ur.remove(e),u=this.Ir(this.ur),p=this.Ir(o),_=[],b=[];return p.forEach(V=>{u.has(V)||_.push(V)}),u.forEach(V=>{p.has(V)||b.push(V)}),this.syncEngine.Br(_,b).then(()=>{this.ur=o})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let n=Th();return e.forEach((o,u)=>{n=n.unionWith(u.activeTargetIds)}),n}}class lg{constructor(){this.Lr=new kd,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,o){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,n,o){this.Ur[e]=n}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new kd,Promise.resolve()}handleUserChange(e,n,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ey{qr(e){}shutdown(){}}class _f{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Lt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Lt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const ty={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class cg{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class ny extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}co(e,n,o,u,p){const _=this.ao(e,n);Lt("RestConnection","Sending: ",_,o);const b={};return this.ho(b,u,p),this.lo(e,_,b,o).then(V=>(Lt("RestConnection","Received: ",V),V),V=>{throw Lr("RestConnection",`${e} failed with error: `,V,"url: ",_,"request:",o),V})}fo(e,n,o,u,p,_){return this.co(e,n,o,u,p)}ho(e,n,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fs,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((u,p)=>e[p]=u),o&&o.headers.forEach((u,p)=>e[p]=u)}ao(e,n){return`${this.oo}/v1/${n}:${ty[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,o,u){return new Promise((p,_)=>{const b=new Va;b.listenOnce(Xo.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case Xi.NO_ERROR:const z=b.getResponseJson();Lt("Connection","XHR received:",JSON.stringify(z)),p(z);break;case Xi.TIMEOUT:Lt("Connection",'RPC "'+e+'" timed out'),_(new Et(ht.DEADLINE_EXCEEDED,"Request time out"));break;case Xi.HTTP_ERROR:const J=b.getStatus();if(Lt("Connection",'RPC "'+e+'" failed with status:',J,"response text:",b.getResponseText()),J>0){const we=b.getResponseJson().error;if(we&&we.status&&we.message){const st=function(Dt){const At=Dt.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(At)>=0?At:ht.UNKNOWN}(we.status);_(new Et(st,we.message))}else _(new Et(ht.UNKNOWN,"Server responded with status "+b.getStatus()))}else _(new Et(ht.UNAVAILABLE,"Connection failed."));break;default:en()}}finally{Lt("Connection",'RPC "'+e+'" completed.')}});const V=JSON.stringify(u);b.send(n,"POST",V,o,15)})}_o(e,n,o){const u=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],p=ko(),_=$i(),b={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(b.xmlHttpFactory=new Ko({})),this.ho(b.initMessageHeaders,n,o),(0,de.uI)()||(0,de.b$)()||(0,de.d)()||(0,de.w1)()||(0,de.Mn)()||(0,de.ru)()||(b.httpHeadersOverwriteParam="$httpHeaders");const V=u.join("");Lt("Connection","Creating WebChannel: "+V,b);const z=p.createWebChannel(V,b);let J=!1,we=!1;const st=new cg({Hr:At=>{we?Lt("Connection","Not sending because WebChannel is closed:",At):(J||(Lt("Connection","Opening WebChannel transport."),z.open(),J=!0),Lt("Connection","WebChannel sending:",At),z.send(At))},Jr:()=>z.close()}),Dt=(At,rn,An)=>{At.listen(rn,Br=>{try{An(Br)}catch(fi){setTimeout(()=>{throw fi},0)}})};return Dt(z,ea.EventType.OPEN,()=>{we||Lt("Connection","WebChannel transport opened.")}),Dt(z,ea.EventType.CLOSE,()=>{we||(we=!0,Lt("Connection","WebChannel transport closed"),st.io())}),Dt(z,ea.EventType.ERROR,At=>{we||(we=!0,Lr("Connection","WebChannel transport errored:",At),st.io(new Et(ht.UNAVAILABLE,"The operation could not be completed")))}),Dt(z,ea.EventType.MESSAGE,At=>{var rn;if(!we){const An=At.data[0];Rn(!!An);const Br=An,fi=Br.error||(null===(rn=Br[0])||void 0===rn?void 0:rn.error);if(fi){Lt("Connection","WebChannel received error:",fi);const Ei=fi.status;let Hs=function(si){const Eo=Ds[si];if(void 0!==Eo)return yc(Eo)}(Ei),wi=fi.message;void 0===Hs&&(Hs=ht.INTERNAL,wi="Unknown error status: "+Ei+" with message "+fi.message),we=!0,st.io(new Et(Hs,wi)),z.close()}else Lt("Connection","WebChannel received:",An),st.ro(An)}}),Dt(_,La.STAT_EVENT,At=>{At.stat===Jr.PROXY?Lt("Connection","Detected buffering proxy"):At.stat===Jr.NOPROXY&&Lt("Connection","Detected no buffering proxy")}),setTimeout(()=>{st.so()},0),st}}function dg(){return typeof window<"u"?window:null}function Ef(){return typeof document<"u"?document:null}function zl(i){return new Om(i,!0)}class Ld{constructor(e,n,o=1e3,u=1.5,p=6e4){this.Hs=e,this.timerId=n,this.wo=o,this.mo=u,this.yo=p,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),o=Math.max(0,Date.now()-this.To),u=Math.max(0,n-o);u>0&&Lt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${o} ms ago)`),this.Io=this.Hs.enqueueAfterDelay(this.timerId,u,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this.wo&&(this.po=this.wo),this.po>this.yo&&(this.po=this.yo)}bo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class Ku{constructor(e,n,o,u,p,_,b,V){this.Hs=e,this.Po=o,this.vo=u,this.Vo=p,this.authCredentialsProvider=_,this.appCheckCredentialsProvider=b,this.listener=V,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Ld(e,n)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,h.Z)(function*(){e.No()&&(yield e.close(0))})()}Oo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.Po,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,h.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,n){var o=this;return(0,h.Z)(function*(){o.Lo(),o.Uo(),o.xo.cancel(),o.So++,4!==e?o.xo.reset():n&&n.code===ht.RESOURCE_EXHAUSTED?(ni(n.toString()),ni("Using maximum backoff delay to prevent overloading the backend."),o.xo.Eo()):n&&n.code===ht.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.qo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Zr(n)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),n=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.So===n&&this.Go(o,u)},o=>{e(()=>{const u=new Et(ht.UNKNOWN,"Fetching auth token failed: "+o.message);return this.Qo(u)})})}Go(e,n){const o=this.Ko(this.So);this.stream=this.jo(e,n),this.stream.Yr(()=>{o(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(u=>{o(()=>this.Qo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}Mo(){var e=this;this.state=5,this.xo.Ao((0,h.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Lt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return n=>{this.Hs.enqueueAndForget(()=>this.So===e?n():(Lt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ry extends Ku{constructor(e,n,o,u,p,_){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,o,u,_),this.It=p}jo(e,n){return this.Vo._o("Listen",e,n)}onMessage(e){this.xo.reset();const n=function Mp(i,e){let n;if("targetChange"in e){const o="NO_CHANGE"===(V=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===V?1:"REMOVE"===V?2:"CURRENT"===V?3:"RESET"===V?4:en(),u=e.targetChange.targetIds||[],p=function(V,z){return V.gt?(Rn(void 0===z||"string"==typeof z),C.fromBase64String(z||"")):(Rn(void 0===z||z instanceof Uint8Array),C.fromUint8Array(z||new Uint8Array))}(i,e.targetChange.resumeToken),_=e.targetChange.cause,b=_&&function(V){const z=void 0===V.code?ht.UNKNOWN:yc(V.code);return new Et(z,V.message||"")}(_);n=new Ah(o,u,p,b||null)}else if("documentChange"in e){const o=e.documentChange,u=nu(i,o.document.name),p=ts(o.document.updateTime),_=new kt({mapValue:{fields:o.document.fields}}),b=dn.newFoundDocument(u,p,_);n=new Vl(o.targetIds||[],o.removedTargetIds||[],b.key,b)}else if("documentDelete"in e){const o=e.documentDelete,u=nu(i,o.document),p=o.readTime?ts(o.readTime):gn.min(),_=dn.newNoDocument(u,p);n=new Vl([],o.removedTargetIds||[],_.key,_)}else if("documentRemove"in e){const o=e.documentRemove,u=nu(i,o.document);n=new Vl([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return en();{const o=e.filter,p=new dd(o.count||0);n=new Sh(o.targetId,p)}}var V;return n}(this.It,e),o=function(u){if(!("targetChange"in u))return gn.min();const p=u.targetChange;return p.targetIds&&p.targetIds.length?gn.min():p.readTime?ts(p.readTime):gn.min()}(e);return this.listener.Wo(n,o)}zo(e){const n={};n.database=ja(this.It),n.addTarget=function(u,p){let _;const b=p.target;return _=Uo(b)?{documents:xp(u,b)}:{query:Rp(u,b)},_.targetId=p.targetId,p.resumeToken.approximateByteSize()>0?_.resumeToken=Oh(u,p.resumeToken):p.snapshotVersion.compareTo(gn.min())>0&&(_.readTime=ll(u,p.snapshotVersion.toTimestamp())),_}(this.It,e);const o=function Fm(i,e){const n=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return en()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);o&&(n.labels=o),this.Bo(n)}Ho(e){const n={};n.database=ja(this.It),n.removeTarget=e,this.Bo(n)}}class wf extends Ku{constructor(e,n,o,u,p,_){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,o,u,_),this.It=p,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,n){return this.Vo._o("Write",e,n)}onMessage(e){if(Rn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const n=function km(i,e){return i&&i.length>0?(Rn(void 0!==e),i.map(n=>function(o,u){let p=ts(o.updateTime?o.updateTime:u);return p.isEqual(gn.min())&&(p=ts(u)),new Nt(p,o.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),o=ts(e.commitTime);return this.listener.Zo(o,n)}return Rn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=ja(this.It),this.Bo(e)}Xo(e){const n={streamToken:this.lastStreamToken,writes:e.map(o=>ru(this.It,o))};this.Bo(n)}}class If extends class{}{constructor(e,n,o,u){super(),this.authCredentials=e,this.appCheckCredentials=n,this.Vo=o,this.It=u,this.nu=!1}su(){if(this.nu)throw new Et(ht.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,o){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,p])=>this.Vo.co(e,n,o,u,p)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Et(ht.UNKNOWN,u.toString())})}fo(e,n,o,u){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([p,_])=>this.Vo.fo(e,n,o,p,_,u)).catch(p=>{throw"FirebaseError"===p.name?(p.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),p):new Et(ht.UNKNOWN,p.toString())})}terminate(){this.nu=!0}}class iy{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(ni(n),this.ou=!1):Lt("OnlineStateTracker",n)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class Zv{constructor(e,n,o,u,p){var _=this;this.localStore=e,this.datastore=n,this.asyncQueue=o,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=p,this.mu.qr(b=>{o.enqueueAndForget((0,h.Z)(function*(){var V;Zu(_)&&(Lt("RemoteStore","Restarting streams for network reachability change."),yield(V=(0,h.Z)(function*(z){const J=Qt(z);J._u.add(4),yield Wl(J),J.gu.set("Unknown"),J._u.delete(4),yield Vd(J)}),function(z){return V.apply(this,arguments)})(_))}))}),this.gu=new iy(o,u)}}function Vd(i){return hg.apply(this,arguments)}function hg(){return hg=(0,h.Z)(function*(i){if(Zu(i))for(const e of i.wu)yield e(!0)}),hg.apply(this,arguments)}function Wl(i){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,h.Z)(function*(i){for(const e of i.wu)yield e(!1)}),Ud.apply(this,arguments)}function Df(i,e){const n=Qt(i);n.du.has(e.targetId)||(n.du.set(e.targetId,e),Kl(n)?Bd(n):El(n).ko()&&qu(n,e))}function Rc(i,e){const n=Qt(i),o=El(n);n.du.delete(e),o.ko()&&fg(n,e),0===n.du.size&&(o.ko()?o.Fo():Zu(n)&&n.gu.set("Unknown"))}function qu(i,e){i.yu.Ot(e.targetId),El(i).zo(e)}function fg(i,e){i.yu.Ot(e),El(i).Ho(e)}function Bd(i){i.yu=new Nm({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i.du.get(e)||null}),El(i).start(),i.gu.uu()}function Kl(i){return Zu(i)&&!El(i).No()&&i.du.size>0}function Zu(i){return 0===Qt(i)._u.size}function Cf(i){i.yu=void 0}function sy(i){return bf.apply(this,arguments)}function bf(){return bf=(0,h.Z)(function*(i){i.du.forEach((e,n)=>{qu(i,e)})}),bf.apply(this,arguments)}function oy(i,e){return Tf.apply(this,arguments)}function Tf(){return Tf=(0,h.Z)(function*(i,e){Cf(i),Kl(i)?(i.gu.hu(e),Bd(i)):i.gu.set("Unknown")}),Tf.apply(this,arguments)}function ay(i,e,n){return jd.apply(this,arguments)}function jd(){return jd=(0,h.Z)(function*(i,e,n){if(i.gu.set("Online"),e instanceof Ah&&2===e.state&&e.cause)try{yield(o=(0,h.Z)(function*(u,p){const _=p.cause;for(const b of p.targetIds)u.du.has(b)&&(yield u.remoteSyncer.rejectListen(b,_),u.du.delete(b),u.yu.removeTarget(b))}),function(u,p){return o.apply(this,arguments)})(i,e)}catch(o){Lt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield $d(i,o)}else if(e instanceof Vl?i.yu.Gt(e):e instanceof Sh?i.yu.Yt(e):i.yu.Wt(e),!n.isEqual(gn.min()))try{const o=yield hf(i.localStore);n.compareTo(o)>=0&&(yield function(u,p){const _=u.yu.te(p);return _.targetChanges.forEach((b,V)=>{if(b.resumeToken.approximateByteSize()>0){const z=u.du.get(V);z&&u.du.set(V,z.withResumeToken(b.resumeToken,p))}}),_.targetMismatches.forEach(b=>{const V=u.du.get(b);if(!V)return;u.du.set(b,V.withResumeToken(C.EMPTY_BYTE_STRING,V.snapshotVersion)),fg(u,b);const z=new ju(V.target,b,1,V.sequenceNumber);qu(u,z)}),u.remoteSyncer.applyRemoteEvent(_)}(i,n))}catch(o){Lt("RemoteStore","Failed to raise snapshot:",o),yield $d(i,o)}var o}),jd.apply(this,arguments)}function $d(i,e,n){return Hd.apply(this,arguments)}function Hd(){return Hd=(0,h.Z)(function*(i,e,n){if(!ls(e))throw e;i._u.add(1),yield Wl(i),i.gu.set("Offline"),n||(n=()=>hf(i.localStore)),i.asyncQueue.enqueueRetryable((0,h.Z)(function*(){Lt("RemoteStore","Retrying IndexedDB access"),yield n(),i._u.delete(1),yield Vd(i)}))}),Hd.apply(this,arguments)}function Sf(i,e){return e().catch(n=>$d(i,n,e))}function Yu(i){return pg.apply(this,arguments)}function pg(){return pg=(0,h.Z)(function*(i){const e=Qt(i),n=wl(e);let o=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Af(e);)try{const u=yield qv(e.localStore,o);if(null===u){0===e.fu.length&&n.Fo();break}o=u.batchId,uy(e,u)}catch(u){yield $d(e,u)}ly(e)&&_l(e)}),pg.apply(this,arguments)}function Af(i){return Zu(i)&&i.fu.length<10}function uy(i,e){i.fu.push(e);const n=wl(i);n.ko()&&n.Yo&&n.Xo(e.mutations)}function ly(i){return Zu(i)&&!wl(i).No()&&i.fu.length>0}function _l(i){wl(i).start()}function gg(i){return Gd.apply(this,arguments)}function Gd(){return Gd=(0,h.Z)(function*(i){wl(i).eu()}),Gd.apply(this,arguments)}function zd(i){return va.apply(this,arguments)}function va(){return va=(0,h.Z)(function*(i){const e=wl(i);for(const n of i.fu)e.Xo(n.mutations)}),va.apply(this,arguments)}function mg(i,e,n){return Mf.apply(this,arguments)}function Mf(){return Mf=(0,h.Z)(function*(i,e,n){const o=i.fu.shift(),u=Kh.from(o,e,n);yield Sf(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield Yu(i)}),Mf.apply(this,arguments)}function xf(i,e){return $a.apply(this,arguments)}function $a(){return $a=(0,h.Z)(function*(i,e){var n;e&&wl(i).Yo&&(yield(n=(0,h.Z)(function*(o,u){if(mc(p=u.code)&&p!==ht.ABORTED){const _=o.fu.shift();wl(o).Oo(),yield Sf(o,()=>o.remoteSyncer.rejectFailedWrite(_.batchId,u)),yield Yu(o)}var p}),function(o,u){return n.apply(this,arguments)})(i,e)),ly(i)&&_l(i)}),$a.apply(this,arguments)}function Wd(i,e){return Kd.apply(this,arguments)}function Kd(){return Kd=(0,h.Z)(function*(i,e){const n=Qt(i);n.asyncQueue.verifyOperationInProgress(),Lt("RemoteStore","RemoteStore received new credentials");const o=Zu(n);n._u.add(3),yield Wl(n),o&&n.gu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),yield Vd(n)}),Kd.apply(this,arguments)}function Nc(i,e){return yg.apply(this,arguments)}function yg(){return yg=(0,h.Z)(function*(i,e){const n=Qt(i);e?(n._u.delete(2),yield Vd(n)):e||(n._u.add(2),yield Wl(n),n.gu.set("Unknown"))}),yg.apply(this,arguments)}function El(i){return i.pu||(i.pu=function(e,n,o){const u=Qt(e);return u.su(),new ry(n,u.Vo,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:sy.bind(null,i),Zr:oy.bind(null,i),Wo:ay.bind(null,i)}),i.wu.push(function(){var e=(0,h.Z)(function*(n){n?(i.pu.Oo(),Kl(i)?Bd(i):i.gu.set("Unknown")):(yield i.pu.stop(),Cf(i))});return function(n){return e.apply(this,arguments)}}())),i.pu}function wl(i){return i.Iu||(i.Iu=function(e,n,o){const u=Qt(e);return u.su(),new wf(n,u.Vo,u.authCredentials,u.appCheckCredentials,u.It,o)}(i.datastore,i.asyncQueue,{Yr:gg.bind(null,i),Zr:xf.bind(null,i),tu:zd.bind(null,i),Zo:mg.bind(null,i)}),i.wu.push(function(){var e=(0,h.Z)(function*(n){n?(i.Iu.Oo(),yield Yu(i)):(yield i.Iu.stop(),i.fu.length>0&&(Lt("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(n){return e.apply(this,arguments)}}())),i.Iu}class ql{constructor(e,n,o,u,p){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=o,this.op=u,this.removalCallback=p,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(_=>{})}static createAndSchedule(e,n,o,u,p){const _=Date.now()+o,b=new ql(e,n,_,u,p);return b.start(o),b}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Et(ht.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mu(i,e){if(ni("AsyncQueue",`${e}: ${i}`),ls(i))return new Et(ht.UNAVAILABLE,`${e}: ${i}`);throw i}class Qu{constructor(e){this.comparator=e?(n,o)=>e(n,o)||Yt.comparator(n.key,o.key):(n,o)=>Yt.comparator(n.key,o.key),this.keyedMap=Ll(),this.sortedSet=new Tr(this.comparator)}static emptySet(e){return new Qu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,o)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Qu)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;n.hasNext();){const u=n.getNext().key,p=o.getNext().key;if(!u.isEqual(p))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const o=new Qu;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=n,o}}class qd{constructor(){this.Tu=new Tr(Yt.comparator)}track(e){const n=e.doc.key,o=this.Tu.get(n);o?0!==e.type&&3===o.type?this.Tu=this.Tu.insert(n,e):3===e.type&&1!==o.type?this.Tu=this.Tu.insert(n,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.Tu=this.Tu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.Tu=this.Tu.remove(n):1===e.type&&2===o.type?this.Tu=this.Tu.insert(n,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.Tu=this.Tu.insert(n,{type:2,doc:e.doc}):en():this.Tu=this.Tu.insert(n,e)}Eu(){const e=[];return this.Tu.inorderTraversal((n,o)=>{e.push(o)}),e}}class Ju{constructor(e,n,o,u,p,_,b,V){this.query=e,this.docs=n,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=p,this.fromCache=_,this.syncStateChanged=b,this.excludesMetadataChanges=V}static fromInitialDocuments(e,n,o,u){const p=[];return n.forEach(_=>{p.push({type:0,doc:_})}),new Ju(e,n,Qu.emptySet(n),p,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,o=e.docChanges;if(n.length!==o.length)return!1;for(let u=0;u<n.length;u++)if(n[u].type!==o[u].type||!n[u].doc.isEqual(o[u].doc))return!1;return!0}}class Yv{constructor(){this.Au=void 0,this.listeners=[]}}class cy{constructor(){this.queries=new wu(e=>hc(e),vu),this.onlineState="Unknown",this.Ru=new Set}}function Rf(i,e){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,h.Z)(function*(i,e){const n=Qt(i),o=e.query;let u=!1,p=n.queries.get(o);if(p||(u=!0,p=new Yv),u)try{p.Au=yield n.onListen(o)}catch(_){const b=Mu(_,`Initialization of query '${Pl(e.query)}' failed`);return void e.onError(b)}n.queries.set(o,p),p.listeners.push(e),e.bu(n.onlineState),p.Au&&e.Pu(p.Au)&&vg(n)}),Nf.apply(this,arguments)}function Of(i,e){return Zd.apply(this,arguments)}function Zd(){return Zd=(0,h.Z)(function*(i,e){const n=Qt(i),o=e.query;let u=!1;const p=n.queries.get(o);if(p){const _=p.listeners.indexOf(e);_>=0&&(p.listeners.splice(_,1),u=0===p.listeners.length)}if(u)return n.queries.delete(o),n.onUnlisten(o)}),Zd.apply(this,arguments)}function Qv(i,e){const n=Qt(i);let o=!1;for(const u of e){const _=n.queries.get(u.query);if(_){for(const b of _.listeners)b.Pu(u)&&(o=!0);_.Au=u}}o&&vg(n)}function dy(i,e,n){const o=Qt(i),u=o.queries.get(e);if(u)for(const p of u.listeners)p.onError(n);o.queries.delete(e)}function vg(i){i.Ru.forEach(e=>{e.next()})}class Yd{constructor(e,n,o){this.query=e,this.vu=n,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=o||{}}Pu(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Ju(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let n=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),n=!0):this.Cu(e,this.onlineState)&&(this.xu(e),n=!0),this.Su=e,n}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let n=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),n=!0),n}Cu(e,n){return!e.fromCache||!(this.options.Nu&&"Offline"!==n||e.docs.isEmpty()&&"Offline"!==n)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Ju.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Vu=!0,this.vu.next(e)}}class _g{constructor(e,n){this.payload=e,this.byteLength=n}ku(){return"metadata"in this.payload}}class Eg{constructor(e){this.It=e}Ji(e){return nu(this.It,e)}Yi(e){return e.metadata.exists?Ap(this.It,e.document,!1):dn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return ts(e)}}class Pf{constructor(e,n,o){this.Mu=e,this.localStore=n,this.It=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=hy(e)}Ou(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++n;const o=Xn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Fu(e){const n=new Map,o=new Eg(this.It);for(const u of e)if(u.metadata.queries){const p=o.Ji(u.metadata.name);for(const _ of u.metadata.queries){const b=(n.get(_)||hr()).add(p);n.set(_,b)}}return n}complete(){var e=this;return(0,h.Z)(function*(){const n=yield function ag(i,e,n,o){return gf.apply(this,arguments)}(e.localStore,new Eg(e.It),e.documents,e.Mu.id),o=e.Fu(e.documents);for(const u of e.queries)yield Xm(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,$u:e.collectionGroups,Bu:n}})()}}function hy(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class fy{constructor(e){this.key=e}}class py{constructor(e){this.key=e}}class gy{constructor(e,n){this.query=e,this.Lu=n,this.Uu=null,this.current=!1,this.qu=hr(),this.mutatedKeys=hr(),this.Ku=kl(e),this.Gu=new Qu(this.Ku)}get Qu(){return this.Lu}ju(e,n){const o=n?n.Wu:new qd,u=n?n.Gu:this.Gu;let p=n?n.mutatedKeys:this.mutatedKeys,_=u,b=!1;const V="F"===this.query.limitType&&u.size===this.query.limit?u.last():null,z="L"===this.query.limitType&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((J,we)=>{const st=u.get(J),Dt=Vu(this.query,we)?we:null,At=!!st&&this.mutatedKeys.has(st.key),rn=!!Dt&&(Dt.hasLocalMutations||this.mutatedKeys.has(Dt.key)&&Dt.hasCommittedMutations);let An=!1;st&&Dt?st.data.isEqual(Dt.data)?At!==rn&&(o.track({type:3,doc:Dt}),An=!0):this.zu(st,Dt)||(o.track({type:2,doc:Dt}),An=!0,(V&&this.Ku(Dt,V)>0||z&&this.Ku(Dt,z)<0)&&(b=!0)):!st&&Dt?(o.track({type:0,doc:Dt}),An=!0):st&&!Dt&&(o.track({type:1,doc:st}),An=!0,(V||z)&&(b=!0)),An&&(Dt?(_=_.add(Dt),p=rn?p.add(J):p.delete(J)):(_=_.delete(J),p=p.delete(J)))}),null!==this.query.limit)for(;_.size>this.query.limit;){const J="F"===this.query.limitType?_.last():_.first();_=_.delete(J.key),p=p.delete(J.key),o.track({type:1,doc:J})}return{Gu:_,Wu:o,$i:b,mutatedKeys:p}}zu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,o){const u=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const p=e.Wu.Eu();p.sort((z,J)=>function(we,st){const Dt=At=>{switch(At){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return en()}};return Dt(we)-Dt(st)}(z.type,J.type)||this.Ku(z.doc,J.doc)),this.Hu(o);const _=n?this.Ju():[],b=0===this.qu.size&&this.current?1:0,V=b!==this.Uu;return this.Uu=b,0!==p.length||V?{snapshot:new Ju(this.query,e.Gu,u,p,e.mutatedKeys,0===b,V,!1),Yu:_}:{Yu:_}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,Wu:new qd,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Yu:[]}}Xu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.qu;this.qu=hr(),this.Gu.forEach(o=>{this.Xu(o.key)&&(this.qu=this.qu.add(o.key))});const n=[];return e.forEach(o=>{this.qu.has(o)||n.push(new py(o))}),this.qu.forEach(o=>{e.has(o)||n.push(new fy(o))}),n}Zu(e){this.Lu=e.Hi,this.qu=hr();const n=this.ju(e.documents);return this.applyChanges(n,!0)}tc(){return Ju.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.Uu)}}class Jv{constructor(e,n,o){this.query=e,this.targetId=n,this.view=o}}class Xv{constructor(e){this.key=e,this.ec=!1}}class e_{constructor(e,n,o,u,p,_){this.localStore=e,this.remoteStore=n,this.eventManager=o,this.sharedClientState=u,this.currentUser=p,this.maxConcurrentLimboResolutions=_,this.nc={},this.sc=new wu(b=>hc(b),vu),this.ic=new Map,this.rc=new Set,this.oc=new Tr(Yt.comparator),this.uc=new Map,this.cc=new Au,this.ac={},this.hc=new Map,this.lc=pl.vn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function t_(i,e){return wg.apply(this,arguments)}function wg(){return wg=(0,h.Z)(function*(i,e){const n=Gf(i);let o,u;const p=n.sc.get(e);if(p)o=p.targetId,n.sharedClientState.addLocalQueryTarget(o),u=p.view.tc();else{const _=yield vl(n.localStore,Bo(e));n.isPrimaryClient&&Df(n.remoteStore,_);const b=n.sharedClientState.addLocalQueryTarget(_.targetId);o=_.targetId,u=yield Ig(n,e,o,"current"===b)}return u}),wg.apply(this,arguments)}function Ig(i,e,n,o){return ou.apply(this,arguments)}function ou(){return ou=(0,h.Z)(function*(i,e,n,o){i.dc=(J,we,st)=>{return(Dt=(0,h.Z)(function*(At,rn,An,Br){let fi=rn.view.ju(An);fi.$i&&(fi=yield Nd(At.localStore,rn.query,!1).then(({documents:wi})=>rn.view.ju(wi,fi)));const Ei=Br&&Br.targetChanges.get(rn.targetId),Hs=rn.view.applyChanges(fi,At.isPrimaryClient,Ei);return Il(At,rn.targetId,Hs.Yu),Hs.snapshot}),function(At,rn,An,Br){return Dt.apply(this,arguments)})(i,J,we,st);var Dt};const u=yield Nd(i.localStore,e,!0),p=new gy(e,u.Hi),_=p.ju(u.documents),b=Iu.createSynthesizedTargetChangeForCurrentChange(n,o&&"Offline"!==i.onlineState),V=p.applyChanges(_,i.isPrimaryClient,b);Il(i,n,V.Yu);const z=new Jv(e,n,p);return i.sc.set(e,z),i.ic.has(n)?i.ic.get(n).push(e):i.ic.set(n,[e]),V.snapshot}),ou.apply(this,arguments)}function kf(i,e){return Ff.apply(this,arguments)}function Ff(){return Ff=(0,h.Z)(function*(i,e){const n=Qt(i),o=n.sc.get(e),u=n.ic.get(o.targetId);if(u.length>1)return n.ic.set(o.targetId,u.filter(p=>!vu(p,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(o.targetId),n.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Gl(n.localStore,o.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(o.targetId),Rc(n.remoteStore,o.targetId),Ha(n,o.targetId)}).catch(yo))):(Ha(n,o.targetId),yield Gl(n.localStore,o.targetId,!0))}),Ff.apply(this,arguments)}function Oc(){return Oc=(0,h.Z)(function*(i,e,n){const o=zf(i);try{const u=yield function(p,_){const b=Qt(p),V=pr.now(),z=_.reduce((st,Dt)=>st.add(Dt.key),hr());let J,we;return b.persistence.runTransaction("Locally write mutations","readwrite",st=>{let Dt=aa(),At=hr();return b.Gi.getEntries(st,z).next(rn=>{Dt=rn,Dt.forEach((An,Br)=>{Br.isValidDocument()||(At=At.add(An))})}).next(()=>b.localDocuments.getOverlayedDocuments(st,Dt)).next(rn=>{J=rn;const An=[];for(const Br of _){const fi=pc(Br,J.get(Br.key).overlayedDocument);null!=fi&&An.push(new oa(Br.key,fi,Jt(fi.value.mapValue),Vt.exists(!0)))}return b.mutationQueue.addMutationBatch(st,V,An,_)}).next(rn=>{we=rn;const An=rn.applyToLocalDocumentSet(J,At);return b.documentOverlayCache.saveOverlays(st,rn.batchId,An)})}).then(()=>({batchId:we.batchId,changes:Tp(J)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(p,_,b){let V=p.ac[p.currentUser.toKey()];V||(V=new Tr($n)),V=V.insert(_,b),p.ac[p.currentUser.toKey()]=V}(o,u.batchId,n),yield au(o,u.changes),yield Yu(o.remoteStore)}catch(u){const p=Mu(u,"Failed to persist write");n.reject(p)}}),Oc.apply(this,arguments)}function Lf(i,e){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,h.Z)(function*(i,e){const n=Qt(i);try{const o=yield ff(n.localStore,e);e.targetChanges.forEach((u,p)=>{const _=n.uc.get(p);_&&(Rn(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?_.ec=!0:u.modifiedDocuments.size>0?Rn(_.ec):u.removedDocuments.size>0&&(Rn(_.ec),_.ec=!1))}),yield au(n,o,e)}catch(o){yield yo(o)}}),Pc.apply(this,arguments)}function Cg(i,e,n){const o=Qt(i);if(o.isPrimaryClient&&0===n||!o.isPrimaryClient&&1===n){const u=[];o.sc.forEach((p,_)=>{const b=_.view.bu(e);b.snapshot&&u.push(b.snapshot)}),function(p,_){const b=Qt(p);b.onlineState=_;let V=!1;b.queries.forEach((z,J)=>{for(const we of J.listeners)we.bu(_)&&(V=!0)}),V&&vg(b)}(o.eventManager,e),u.length&&o.nc.Wo(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Xu(i,e,n){return Qd.apply(this,arguments)}function Qd(){return Qd=(0,h.Z)(function*(i,e,n){const o=Qt(i);o.sharedClientState.updateQueryState(e,"rejected",n);const u=o.uc.get(e),p=u&&u.key;if(p){let _=new Tr(Yt.comparator);_=_.insert(p,dn.newNoDocument(p,gn.min()));const b=hr().add(p),V=new hd(gn.min(),new Map,new f($n),_,b);yield Lf(o,V),o.oc=o.oc.remove(p),o.uc.delete(e),Jd(o)}else yield Gl(o.localStore,e,!1).then(()=>Ha(o,e,n)).catch(yo)}),Qd.apply(this,arguments)}function my(i,e){return Vf.apply(this,arguments)}function Vf(){return Vf=(0,h.Z)(function*(i,e){const n=Qt(i),o=e.batch.batchId;try{const u=yield Jm(n.localStore,e);kc(n,o,null),el(n,o),n.sharedClientState.updateMutationState(o,"acknowledged"),yield au(n,u)}catch(u){yield yo(u)}}),Vf.apply(this,arguments)}function bg(i,e,n){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,h.Z)(function*(i,e,n){const o=Qt(i);try{const u=yield function(p,_){const b=Qt(p);return b.persistence.runTransaction("Reject batch","readwrite-primary",V=>{let z;return b.mutationQueue.lookupMutationBatch(V,_).next(J=>(Rn(null!==J),z=J.keys(),b.mutationQueue.removeMutationBatch(V,J))).next(()=>b.mutationQueue.performConsistencyCheck(V)).next(()=>b.documentOverlayCache.removeOverlaysForBatchId(V,z,_)).next(()=>b.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(V,z)).next(()=>b.localDocuments.getDocuments(V,z))})}(o.localStore,e);kc(o,e,n),el(o,e),o.sharedClientState.updateMutationState(e,"rejected",n),yield au(o,u)}catch(u){yield yo(u)}}),Uf.apply(this,arguments)}function Zl(){return Zl=(0,h.Z)(function*(i,e){const n=Qt(i);Zu(n.remoteStore)||Lt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(p){const _=Qt(p);return _.persistence.runTransaction("Get highest unacknowledged batch id","readonly",b=>_.mutationQueue.getHighestUnacknowledgedBatchId(b))}(n.localStore);if(-1===o)return void e.resolve();const u=n.hc.get(o)||[];u.push(e),n.hc.set(o,u)}catch(o){const u=Mu(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Zl.apply(this,arguments)}function el(i,e){(i.hc.get(e)||[]).forEach(n=>{n.resolve()}),i.hc.delete(e)}function kc(i,e,n){const o=Qt(i);let u=o.ac[o.currentUser.toKey()];if(u){const p=u.get(e);p&&(n?p.reject(n):p.resolve(),u=u.remove(e)),o.ac[o.currentUser.toKey()]=u}}function Ha(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ic.get(e))i.sc.delete(o),n&&i.nc._c(o,n);i.ic.delete(e),i.isPrimaryClient&&i.cc.ls(e).forEach(o=>{i.cc.containsKey(o)||Fc(i,o)})}function Fc(i,e){i.rc.delete(e.path.canonicalString());const n=i.oc.get(e);null!==n&&(Rc(i.remoteStore,n),i.oc=i.oc.remove(e),i.uc.delete(n),Jd(i))}function Il(i,e,n){for(const o of n)o instanceof fy?(i.cc.addReference(o.key,e),vy(i,o)):o instanceof py?(Lt("SyncEngine","Document no longer in limbo: "+o.key),i.cc.removeReference(o.key,e),i.cc.containsKey(o.key)||Fc(i,o.key)):en()}function vy(i,e){const n=e.key,o=n.path.canonicalString();i.oc.get(n)||i.rc.has(o)||(Lt("SyncEngine","New document in limbo: "+n),i.rc.add(o),Jd(i))}function Jd(i){for(;i.rc.size>0&&i.oc.size<i.maxConcurrentLimboResolutions;){const e=i.rc.values().next().value;i.rc.delete(e);const n=new Yt(Xn.fromString(e)),o=i.lc.next();i.uc.set(o,new Xv(n)),i.oc=i.oc.insert(n,o),Df(i.remoteStore,new ju(Bo(Ba(n.path)),o,2,ws.at))}}function au(i,e,n){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,h.Z)(function*(i,e,n){const o=Qt(i),u=[],p=[],_=[];var b;o.sc.isEmpty()||(o.sc.forEach((b,V)=>{_.push(o.dc(V,e,n).then(z=>{if(z){o.isPrimaryClient&&o.sharedClientState.updateQueryState(V.targetId,z.fromCache?"not-current":"current"),u.push(z);const J=Md.Ci(V.targetId,z);p.push(J)}}))}),yield Promise.all(_),o.nc.Wo(u),yield(b=(0,h.Z)(function*(V,z){const J=Qt(V);try{yield J.persistence.runTransaction("notifyLocalViewChanges","readwrite",we=>lt.forEach(z,st=>lt.forEach(st.Si,Dt=>J.persistence.referenceDelegate.addReference(we,st.targetId,Dt)).next(()=>lt.forEach(st.Di,Dt=>J.persistence.referenceDelegate.removeReference(we,st.targetId,Dt)))))}catch(we){if(!ls(we))throw we;Lt("LocalStore","Failed to update sequence numbers: "+we)}for(const we of z){const st=we.targetId;if(!we.fromCache){const Dt=J.Ui.get(st),rn=Dt.withLastLimboFreeSnapshotVersion(Dt.snapshotVersion);J.Ui=J.Ui.insert(st,rn)}}}),function(V,z){return b.apply(this,arguments)})(o.localStore,p))}),Lc.apply(this,arguments)}function Bf(i,e){return Xd.apply(this,arguments)}function Xd(){return Xd=(0,h.Z)(function*(i,e){const n=Qt(i);if(!n.currentUser.isEqual(e)){Lt("SyncEngine","User change. New user:",e.toKey());const o=yield cf(n.localStore,e);n.currentUser=e,(u=n).hc.forEach(_=>{_.forEach(b=>{b.reject(new Et(ht.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.hc.clear(),n.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield au(n,o.ji)}var u}),Xd.apply(this,arguments)}function jf(i,e){const n=Qt(i),o=n.uc.get(e);if(o&&o.ec)return hr().add(o.key);{let u=hr();const p=n.ic.get(e);if(!p)return u;for(const _ of p){const b=n.sc.get(_);u=u.unionWith(b.view.Qu)}return u}}function _y(i,e){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,h.Z)(function*(i,e){const n=Qt(i),o=yield Nd(n.localStore,e.query,!0),u=e.view.Zu(o);return n.isPrimaryClient&&Il(n,e.targetId,u.Yu),u}),Tg.apply(this,arguments)}function Ey(i,e){return eh.apply(this,arguments)}function eh(){return eh=(0,h.Z)(function*(i,e){const n=Qt(i);return Oa(n.localStore,e).then(o=>au(n,o))}),eh.apply(this,arguments)}function wy(i,e,n,o){return th.apply(this,arguments)}function th(){return th=(0,h.Z)(function*(i,e,n,o){const u=Qt(i),p=yield function(_,b){const V=Qt(_),z=Qt(V.mutationQueue);return V.persistence.runTransaction("Lookup mutation documents","readonly",J=>z.Tn(J,b).next(we=>we?V.localDocuments.getDocuments(J,we):lt.resolve(null)))}(u.localStore,e);var b;null!==p?("pending"===n?yield Yu(u.remoteStore):"acknowledged"===n||"rejected"===n?(kc(u,e,o||null),el(u,e),b=e,Qt(Qt(u.localStore).mutationQueue).An(b)):en(),yield au(u,p)):Lt("SyncEngine","Cannot apply mutation batch with id: "+e)}),th.apply(this,arguments)}function $f(){return $f=(0,h.Z)(function*(i,e){const n=Qt(i);if(Gf(n),zf(n),!0===e&&!0!==n.fc){const o=n.sharedClientState.getAllActiveQueryTargets(),u=yield ua(n,o.toArray());n.fc=!0,yield Nc(n.remoteStore,!0);for(const p of u)Df(n.remoteStore,p)}else if(!1===e&&!1!==n.fc){const o=[];let u=Promise.resolve();n.ic.forEach((p,_)=>{n.sharedClientState.isLocalQueryTarget(_)?o.push(_):u=u.then(()=>(Ha(n,_),Gl(n.localStore,_,!0))),Rc(n.remoteStore,_)}),yield u,yield ua(n,o),function(p){const _=Qt(p);_.uc.forEach((b,V)=>{Rc(_.remoteStore,V)}),_.cc.fs(),_.uc=new Map,_.oc=new Tr(Yt.comparator)}(n),n.fc=!1,yield Nc(n.remoteStore,!1)}}),$f.apply(this,arguments)}function ua(i,e,n){return nh.apply(this,arguments)}function nh(){return nh=(0,h.Z)(function*(i,e,n){const o=Qt(i),u=[],p=[];for(const _ of e){let b;const V=o.ic.get(_);if(V&&0!==V.length){b=yield vl(o.localStore,Bo(V[0]));for(const z of V){const J=o.sc.get(z),we=yield _y(o,J);we.snapshot&&p.push(we.snapshot)}}else{const z=yield sg(o.localStore,_);b=yield vl(o.localStore,z),yield Ig(o,Ag(z),_,!1)}u.push(b)}return o.nc.Wo(p),u}),nh.apply(this,arguments)}function Ag(i){return id(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function n_(i){const e=Qt(i);return Qt(Qt(e.localStore).persistence).vi()}function Iy(i,e,n,o){return Vc.apply(this,arguments)}function Vc(){return Vc=(0,h.Z)(function*(i,e,n,o){const u=Qt(i);if(u.fc)return void Lt("SyncEngine","Ignoring unexpected query state notification.");const p=u.ic.get(e);if(p&&p.length>0)switch(n){case"current":case"not-current":{const _=yield Oa(u.localStore,eu(p[0])),b=hd.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield au(u,_,b);break}case"rejected":yield Gl(u.localStore,e,!0),Ha(u,e,o);break;default:en()}}),Vc.apply(this,arguments)}function Mg(i,e,n){return Hf.apply(this,arguments)}function Hf(){return Hf=(0,h.Z)(function*(i,e,n){const o=Gf(i);if(o.fc){for(const u of e){if(o.ic.has(u)){Lt("SyncEngine","Adding an already active target "+u);continue}const p=yield sg(o.localStore,u),_=yield vl(o.localStore,p);yield Ig(o,Ag(p),_.targetId,!1),Df(o.remoteStore,_)}for(const u of n)o.ic.has(u)&&(yield Gl(o.localStore,u,!1).then(()=>{Rc(o.remoteStore,u),Ha(o,u)}).catch(yo))}}),Hf.apply(this,arguments)}function Gf(i){const e=Qt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Lf.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=jf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xu.bind(null,e),e.nc.Wo=Qv.bind(null,e.eventManager),e.nc._c=dy.bind(null,e.eventManager),e}function zf(i){const e=Qt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=my.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bg.bind(null,e),e}class Rg{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,h.Z)(function*(){n.It=zl(e.databaseInfo.databaseId),n.sharedClientState=n.mc(e),n.persistence=n.gc(e),yield n.persistence.start(),n.localStore=n.yc(e),n.gcScheduler=n.Ic(e,n.localStore),n.indexBackfillerScheduler=n.Tc(e,n.localStore)})()}Ic(e,n){return null}Tc(e,n){return null}yc(e){return ig(this.persistence,new xd,e.initialUser,this.It)}gc(e){return new tg(Tc.Bs,this.It)}mc(e){return new lg}terminate(){var e=this;return(0,h.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Wf extends Rg{constructor(e,n,o){super(),this.Ec=e,this.cacheSizeBytes=n,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var n=()=>super.initialize,o=this;return(0,h.Z)(function*(){yield n().call(o,e),yield o.Ec.initialize(o,e),yield zf(o.Ec.syncEngine),yield Yu(o.Ec.remoteStore),yield o.persistence.li(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(),o.indexBackfillerScheduler&&!o.indexBackfillerScheduler.started&&o.indexBackfillerScheduler.start(),Promise.resolve()))})()}yc(e){return ig(this.persistence,new xd,e.initialUser,this.It)}Ic(e,n){return new Kp(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,n)}Tc(e,n){const o=new Ya(n,this.persistence);return new Ta(e.asyncQueue,o)}gc(e){const n=Ac(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?hs.withCacheSize(this.cacheSizeBytes):hs.DEFAULT;return new Hl(this.synchronizeTabs,n,e.clientId,o,e.asyncQueue,dg(),Ef(),this.It,this.sharedClientState,!!this.forceOwnership)}mc(e){return new lg}}class Dy extends Wf{constructor(e,n){super(e,n,!1),this.Ec=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(e){var n=()=>super.initialize,o=this;return(0,h.Z)(function*(){yield n().call(o,e);const u=o.Ec.syncEngine;o.sharedClientState instanceof Fd&&(o.sharedClientState.syncEngine={Fr:wy.bind(null,u),$r:Iy.bind(null,u),Br:Mg.bind(null,u),vi:n_.bind(null,u),Or:Ey.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.li(function(){var p=(0,h.Z)(function*(_){yield function Sg(i,e){return $f.apply(this,arguments)}(o.Ec.syncEngine,_),o.gcScheduler&&(_&&!o.gcScheduler.started?o.gcScheduler.start():_||o.gcScheduler.stop()),o.indexBackfillerScheduler&&(_&&!o.indexBackfillerScheduler.started?o.indexBackfillerScheduler.start():_||o.indexBackfillerScheduler.stop())});return function(_){return p.apply(this,arguments)}}())})()}mc(e){const n=dg();if(!Fd.C(n))throw new Et(ht.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Ac(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Fd(n,e.asyncQueue,o,e.clientId,e.initialUser)}}class Kf{initialize(e,n){var o=this;return(0,h.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(n),o.remoteStore=o.createRemoteStore(n),o.eventManager=o.createEventManager(n),o.syncEngine=o.createSyncEngine(n,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Cg(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=Bf.bind(null,o.syncEngine),yield Nc(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new cy}createDatastore(e){const n=zl(e.databaseInfo.databaseId),o=new ny(e.databaseInfo);return new If(e.authCredentials,e.appCheckCredentials,o,n)}createRemoteStore(e){return n=this.localStore,o=this.datastore,u=e.asyncQueue,p=b=>Cg(this.syncEngine,b,0),_=_f.C()?new _f:new ey,new Zv(n,o,u,p,_);var n,o,u,p,_}createSyncEngine(e,n){return function(o,u,p,_,b,V,z){const J=new e_(o,u,p,_,b,V);return z&&(J.fc=!0),J}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,h.Z)(function*(n){const o=Qt(n);Lt("RemoteStore","RemoteStore shutting down."),o._u.add(5),yield Wl(o),o.mu.shutdown(),o.gu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}function qf(i,e=10240){let n=0;return{read:()=>(0,h.Z)(function*(){if(n<i.byteLength){const o={value:i.slice(n,n+e),done:!1};return n+=e,o}return{done:!0}})(),cancel:()=>(0,h.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Uc{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ac(this.observer.next,e)}error(e){this.observer.error?this.Ac(this.observer.error,e):ni("Uncaught Error in snapshot listener:",e)}Rc(){this.muted=!0}Ac(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class Cy{constructor(e,n){this.bc=e,this.It=n,this.metadata=new _i,this.buffer=new Uint8Array,this.Pc=new TextDecoder("utf-8"),this.vc().then(o=>{o&&o.ku()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(o?.payload)}`))},o=>this.metadata.reject(o))}close(){return this.bc.cancel()}getMetadata(){var e=this;return(0,h.Z)(function*(){return e.metadata.promise})()}wc(){var e=this;return(0,h.Z)(function*(){return yield e.getMetadata(),e.vc()})()}vc(){var e=this;return(0,h.Z)(function*(){const n=yield e.Vc();if(null===n)return null;const o=e.Pc.decode(n),u=Number(o);isNaN(u)&&e.Sc(`length string (${o}) is not valid number`);const p=yield e.Dc(u);return new _g(JSON.parse(p),n.length+u)})()}Cc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Vc(){var e=this;return(0,h.Z)(function*(){for(;e.Cc()<0&&!(yield e.xc()););if(0===e.buffer.length)return null;const n=e.Cc();n<0&&e.Sc("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,n);return e.buffer=e.buffer.slice(n),o})()}Dc(e){var n=this;return(0,h.Z)(function*(){for(;n.buffer.length<e;)(yield n.xc())&&n.Sc("Reached the end of bundle when more is expected.");const o=n.Pc.decode(n.buffer.slice(0,e));return n.buffer=n.buffer.slice(e),o})()}Sc(e){throw this.bc.cancel(),new Error(`Invalid bundle format: ${e}`)}xc(){var e=this;return(0,h.Z)(function*(){const n=yield e.bc.read();if(!n.done){const o=new Uint8Array(e.buffer.length+n.value.length);o.set(e.buffer),o.set(n.value,e.buffer.length),e.buffer=o}return n.done})()}}class uu{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var n=this;return(0,h.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Et(ht.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,h.Z)(function*(p,_){const b=Qt(p),V=ja(b.It)+"/documents",z={documents:_.map(Dt=>Bu(b.It,Dt))},J=yield b.fo("BatchGetDocuments",V,z,_.length),we=new Map;J.forEach(Dt=>{const At=function Pm(i,e){return"found"in e?function(n,o){Rn(!!o.found);const u=nu(n,o.found.name),p=ts(o.found.updateTime),_=new kt({mapValue:{fields:o.found.fields}});return dn.newFoundDocument(u,p,_)}(i,e):"missing"in e?function(n,o){Rn(!!o.missing),Rn(!!o.readTime);const u=nu(n,o.missing),p=ts(o.readTime);return dn.newNoDocument(u,p)}(i,e):en()}(b.It,Dt);we.set(At.key.toString(),At)});const st=[];return _.forEach(Dt=>{const At=we.get(Dt.toString());Rn(!!At),st.push(At)}),st}),function(p,_){return u.apply(this,arguments)})(n.datastore,e);var u;return o.forEach(u=>n.recordVersion(u)),o})()}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new tu(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,h.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const n=e.readVersions;var o;e.mutations.forEach(o=>{n.delete(o.key.toString())}),n.forEach((o,u)=>{const p=Yt.fromPath(u);e.mutations.push(new ul(p,e.precondition(p)))}),yield(o=(0,h.Z)(function*(u,p){const _=Qt(u),b=ja(_.It)+"/documents",V={writes:p.map(z=>ru(_.It,z))};yield _.co("Commit",b,V)}),function(u,p){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw en();n=gn.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!n.isEqual(o))throw new Et(ht.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(gn.min())?Vt.exists(!1):Vt.updateTime(n):Vt.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(gn.min()))throw new Et(ht.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vt.updateTime(n)}return Vt.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Zf{constructor(e,n,o,u,p){this.asyncQueue=e,this.datastore=n,this.options=o,this.updateFunction=u,this.deferred=p,this.Nc=o.maxAttempts,this.xo=new Ld(this.asyncQueue,"transaction_retry")}run(){this.Nc-=1,this.kc()}kc(){var e=this;this.xo.Ao((0,h.Z)(function*(){const n=new uu(e.datastore),o=e.Mc(n);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{e.deferred.resolve(u)}).catch(p=>{e.Oc(p)}))}).catch(u=>{e.Oc(u)})}))}Mc(e){try{const n=this.updateFunction(e);return!Sn(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Oc(e){this.Nc>0&&this.Fc(e)?(this.Nc-=1,this.asyncQueue.enqueueAndForget(()=>(this.kc(),Promise.resolve()))):this.deferred.reject(e)}Fc(e){if("FirebaseError"===e.name){const n=e.code;return"aborted"===n||"failed-precondition"===n||!mc(n)}return!1}}class by{constructor(e,n,o,u){var p=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=o,this.databaseInfo=u,this.user=ci.UNAUTHENTICATED,this.clientId=eo.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var _=(0,h.Z)(function*(b){Lt("FirestoreClient","Received user=",b.uid),yield p.authCredentialListener(b),p.user=b});return function(b){return _.apply(this,arguments)}}()),this.appCheckCredentials.start(o,_=>(Lt("FirestoreClient","Received new app check token=",_),this.appCheckCredentialListener(_,this.user)))}getConfiguration(){var e=this;return(0,h.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Et(ht.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,h.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(o){const u=Mu(o,"Failed to shutdown persistence");n.reject(u)}})),n.promise}}function Ng(i,e){return Og.apply(this,arguments)}function Og(){return Og=(0,h.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Lt("FirestoreClient","Initializing OfflineComponentProvider");const n=yield i.getConfiguration();yield e.initialize(n);let o=n.initialUser;i.setCredentialChangeListener(function(){var u=(0,h.Z)(function*(p){o.isEqual(p)||(yield cf(e.localStore,p),o=p)});return function(p){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),Og.apply(this,arguments)}function Yf(i,e){return Qf.apply(this,arguments)}function Qf(){return Qf=(0,h.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const n=yield Jf(i);Lt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(n,o),i.setCredentialChangeListener(u=>Wd(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,p)=>Wd(e.remoteStore,p)),i.onlineComponents=e}),Qf.apply(this,arguments)}function Jf(i){return Xf.apply(this,arguments)}function Xf(){return Xf=(0,h.Z)(function*(i){return i.offlineComponents||(Lt("FirestoreClient","Using default OfflineComponentProvider"),yield Ng(i,new Rg)),i.offlineComponents}),Xf.apply(this,arguments)}function Yl(i){return ep.apply(this,arguments)}function ep(){return ep=(0,h.Z)(function*(i){return i.onlineComponents||(Lt("FirestoreClient","Using default OnlineComponentProvider"),yield Yf(i,new Kf)),i.onlineComponents}),ep.apply(this,arguments)}function Pg(i){return Jf(i).then(e=>e.persistence)}function Dl(i){return Jf(i).then(e=>e.localStore)}function rh(i){return Yl(i).then(e=>e.remoteStore)}function tp(i){return Yl(i).then(e=>e.syncEngine)}function tl(i){return ih.apply(this,arguments)}function ih(){return ih=(0,h.Z)(function*(i){const e=yield Yl(i),n=e.eventManager;return n.onListen=t_.bind(null,e.syncEngine),n.onUnlisten=kf.bind(null,e.syncEngine),n}),ih.apply(this,arguments)}function Ty(i,e,n={}){const o=new _i;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function(u,p,_,b,V){const z=new Uc({next:we=>{p.enqueueAndForget(()=>Of(u,J));const st=we.docs.has(_);!st&&we.fromCache?V.reject(new Et(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):st&&we.fromCache&&b&&"server"===b.source?V.reject(new Et(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):V.resolve(we)},error:we=>V.reject(we)}),J=new Yd(Ba(_.path),z,{includeMetadataChanges:!0,Nu:!0});return Rf(u,J)}(yield tl(i),i.asyncQueue,e,n,o)})),o.promise}function rp(i,e,n={}){const o=new _i;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function(u,p,_,b,V){const z=new Uc({next:we=>{p.enqueueAndForget(()=>Of(u,J)),we.fromCache&&"server"===b.source?V.reject(new Et(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):V.resolve(we)},error:we=>V.reject(we)}),J=new Yd(_,z,{includeMetadataChanges:!0,Nu:!0});return Rf(u,J)}(yield tl(i),i.asyncQueue,e,n,o)})),o.promise}const Bc=new Map;function Ql(i,e,n){if(!n)throw new Et(ht.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Jl(i,e,n,o){if(!0===e&&!0===o)throw new Et(ht.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Vg(i){if(!Yt.isDocumentKey(i))throw new Et(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function sh(i){if(Yt.isDocumentKey(i))throw new Et(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function jc(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(n=i).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof i?"a function":en()}function Pr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new Et(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=jc(i);throw new Et(ht.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function Ug(i,e){if(e<=0)throw new Et(ht.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Xl{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new Et(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Et(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Jl("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class $c{constructor(e,n,o,u){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Et(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Et(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xl(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Es;switch(n.type){case"gapi":return new da(n.client,n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Et(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Bc.get(e);n&&(Lt("ComponentProvider","Removing Datastore"),Bc.delete(e),n.terminate())}(this),Promise.resolve()}}function s_(i,e,n,o={}){var u;const p=(i=Pr(i,$c))._getSettings();if("firestore.googleapis.com"!==p.host&&p.host!==e&&Lr("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},p),{host:`${e}:${n}`,ssl:!1})),o.mockUserToken){let _,b;if("string"==typeof o.mockUserToken)_=o.mockUserToken,b=ci.MOCK_USER;else{_=(0,de.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const V=o.mockUserToken.sub||o.mockUserToken.user_id;if(!V)throw new Et(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new ci(V)}i._authCredentials=new Ns(new Ri(_,b))}}class bs{constructor(e,n,o){this.converter=n,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bs(this.firestore,e,this._key)}}class Qo{constructor(e,n,o){this.converter=n,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Qo(this.firestore,e,this._query)}}class lu extends Qo{constructor(e,n,o){super(e,n,Ba(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bs(this.firestore,null,new Yt(e))}withConverter(e){return new lu(this.firestore,e,this._path)}}function Sy(i,e,...n){if(i=(0,de.m9)(i),Ql("collection","path",e),i instanceof $c){const o=Xn.fromString(e,...n);return sh(o),new lu(i,null,o)}{if(!(i instanceof bs||i instanceof lu))throw new Et(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Xn.fromString(e,...n));return sh(o),new lu(i.firestore,null,o)}}function Ay(i,e){if(i=Pr(i,$c),Ql("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Et(ht.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Qo(i,null,(n=e,new ga(Xn.emptyPath(),n)));var n}function Bg(i,e,...n){if(i=(0,de.m9)(i),1===arguments.length&&(e=eo.R()),Ql("doc","path",e),i instanceof $c){const o=Xn.fromString(e,...n);return Vg(o),new bs(i,null,new Yt(o))}{if(!(i instanceof bs||i instanceof lu))throw new Et(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(Xn.fromString(e,...n));return Vg(o),new bs(i.firestore,i instanceof lu?i.converter:null,new Yt(o))}}function jg(i,e){return i=(0,de.m9)(i),e=(0,de.m9)(e),(i instanceof bs||i instanceof lu)&&(e instanceof bs||e instanceof lu)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function oh(i,e){return i=(0,de.m9)(i),e=(0,de.m9)(e),i instanceof Qo&&e instanceof Qo&&i.firestore===e.firestore&&vu(i._query,e._query)&&i.converter===e.converter}class My{constructor(){this.$c=Promise.resolve(),this.Bc=[],this.Lc=!1,this.Uc=[],this.qc=null,this.Kc=!1,this.Gc=!1,this.Qc=[],this.xo=new Ld(this,"async_queue_retry"),this.jc=()=>{const n=Ef();n&&Lt("AsyncQueue","Visibility state changed to "+n.visibilityState),this.xo.bo()};const e=Ef();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.jc)}get isShuttingDown(){return this.Lc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Wc(),this.zc(e)}enterRestrictedMode(e){if(!this.Lc){this.Lc=!0,this.Gc=e||!1;const n=Ef();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.jc)}}enqueue(e){if(this.Wc(),this.Lc)return new Promise(()=>{});const n=new _i;return this.zc(()=>this.Lc&&this.Gc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Bc.push(e),this.Hc()))}Hc(){var e=this;return(0,h.Z)(function*(){if(0!==e.Bc.length){try{yield e.Bc[0](),e.Bc.shift(),e.xo.reset()}catch(n){if(!ls(n))throw n;Lt("AsyncQueue","Operation failed with retryable error: "+n)}e.Bc.length>0&&e.xo.Ao(()=>e.Hc())}})()}zc(e){const n=this.$c.then(()=>(this.Kc=!0,e().catch(o=>{throw this.qc=o,this.Kc=!1,ni("INTERNAL UNHANDLED ERROR: ",function(p){let _=p.message||"";return p.stack&&(_=p.stack.includes(p.message)?p.stack:p.message+"\n"+p.stack),_}(o)),o}).then(o=>(this.Kc=!1,o))));return this.$c=n,n}enqueueAfterDelay(e,n,o){this.Wc(),this.Qc.indexOf(e)>-1&&(n=0);const u=ql.createAndSchedule(this,e,n,o,p=>this.Jc(p));return this.Uc.push(u),u}Wc(){this.qc&&en()}verifyOperationInProgress(){}Yc(){var e=this;return(0,h.Z)(function*(){let n;do{n=e.$c,yield n}while(n!==e.$c)})()}Xc(e){for(const n of this.Uc)if(n.timerId===e)return!0;return!1}Zc(e){return this.Yc().then(()=>{this.Uc.sort((n,o)=>n.targetTimeMs-o.targetTimeMs);for(const n of this.Uc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.Yc()})}ta(e){this.Qc.push(e)}Jc(e){const n=this.Uc.indexOf(e);this.Uc.splice(n,1)}}function Hc(i){return function(e,n){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class xy{constructor(){this._progressObserver={},this._taskCompletionResolver=new _i,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,o){this._progressObserver={next:e,error:n,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}const Ry=-1;class ns extends $c{constructor(e,n,o,u){super(e,n,o,u),this.type="firestore",this._queue=new My,this._persistenceKey=u?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gc(this),this._firestoreClient.terminate()}}function Ny(i,e){const n="object"==typeof i?i:(0,k.getApp)(),o="string"==typeof i?i:e||"(default)";return(0,k._getProvider)(n,"firestore").getImmediate({identifier:o})}function $s(i){return i._firestoreClient||Gc(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Gc(i){var e;const n=i._freezeSettings(),o=(p=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new Dn(i._databaseId,p,i._persistenceKey,(b=n).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var p,b;i._firestoreClient=new by(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Cl(i,e){nl(i=Pr(i,ns));const n=$s(i),o=i._freezeSettings(),u=new Kf;return ec(n,u,new Wf(u,o.cacheSizeBytes,e?.forceOwnership))}function a_(i){nl(i=Pr(i,ns));const e=$s(i),n=i._freezeSettings(),o=new Kf;return ec(e,o,new Dy(o,n.cacheSizeBytes))}function ec(i,e,n){const o=new _i;return i.asyncQueue.enqueue((0,h.Z)(function*(){try{yield Ng(i,n),yield Yf(i,e),o.resolve()}catch(u){const p=u;if(!("FirebaseError"===(_=p).name?_.code===ht.FAILED_PRECONDITION||_.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&_ instanceof DOMException)||22===_.code||20===_.code||11===_.code))throw p;Lr("Error enabling offline persistence. Falling back to persistence disabled: "+p),o.reject(p)}var _})).then(()=>o.promise)}function Oy(i){if(i._initialized&&!i._terminated)throw new Et(ht.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _i;return i._queue.enqueueAndForgetEvenWhileRestricted((0,h.Z)(function*(){try{yield(n=(0,h.Z)(function*(o){if(!to.C())return Promise.resolve();const u=o+"main";yield to.delete(u)}),function(o){return n.apply(this,arguments)})(Ac(i._databaseId,i._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}function Py(i){return function(e){const n=new _i;return e.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function yy(i,e){return Zl.apply(this,arguments)}(yield tp(e),n)})),n.promise}($s(i=Pr(i,ns)))}function sp(i){return function r_(i){return i.asyncQueue.enqueue((0,h.Z)(function*(){const e=yield Pg(i),n=yield rh(i);return e.setNetworkEnabled(!0),function(o){const u=Qt(o);return u._u.delete(0),Vd(u)}(n)}))}($s(i=Pr(i,ns)))}function ky(i){return function i_(i){return i.asyncQueue.enqueue((0,h.Z)(function*(){const e=yield Pg(i),n=yield rh(i);return e.setNetworkEnabled(!1),(o=(0,h.Z)(function*(u){const p=Qt(u);p._u.add(0),yield Wl(p),p.gu.set("Offline")}),function(u){return o.apply(this,arguments)})(n);var o}))}($s(i=Pr(i,ns)))}function zc(i,e){const n=$s(i=Pr(i,ns)),o=new xy;return function ip(i,e,n,o){const u=function(p,_){let b;return b="string"==typeof p?(new TextEncoder).encode(p):p,V=function(V,z){if(V instanceof Uint8Array)return qf(V,z);if(V instanceof ArrayBuffer)return qf(new Uint8Array(V),z);if(V instanceof ReadableStream)return V.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(b),new Cy(V,_);var V}(n,zl(e));i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){!function xg(i,e,n){const o=Qt(i);var u;(u=(0,h.Z)(function*(p,_,b){try{const V=yield _.getMetadata();if(yield function(st,Dt){const At=Qt(st),rn=ts(Dt.createTime);return At.persistence.runTransaction("hasNewerBundle","readonly",An=>At.Ns.getBundleMetadata(An,Dt.id)).then(An=>!!An&&An.createTime.compareTo(rn)>=0)}(p.localStore,V))return yield _.close(),b._completeWith({taskState:"Success",documentsLoaded:(st=V).totalDocuments,bytesLoaded:st.totalBytes,totalDocuments:st.totalDocuments,totalBytes:st.totalBytes}),Promise.resolve(new Set);b._updateProgress(hy(V));const z=new Pf(V,p.localStore,_.It);let J=yield _.wc();for(;J;){const st=yield z.Ou(J);st&&b._updateProgress(st),J=yield _.wc()}const we=yield z.complete();return yield au(p,we.Bu,void 0),yield function(st,Dt){const At=Qt(st);return At.persistence.runTransaction("Save bundle","readwrite",rn=>At.Ns.saveBundleMetadata(rn,Dt))}(p.localStore,V),b._completeWith(we.progress),Promise.resolve(we.$u)}catch(V){return Lr("SyncEngine",`Loading bundle failed with ${V}`),b._failWith(V),Promise.resolve(new Set)}var st}),function(p,_,b){return u.apply(this,arguments)})(o,e,n).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield tp(i),u,o)}))}(n,i._databaseId,e,o),o}function $o(i,e){return function xu(i,e){return i.asyncQueue.enqueue((0,h.Z)(function*(){return function(n,o){const u=Qt(n);return u.persistence.runTransaction("Get named query","readonly",p=>u.Ns.getNamedQuery(p,o))}(yield Dl(i),e)}))}($s(i=Pr(i,ns)),e).then(n=>n?new Qo(i,null,n.query):null)}function nl(i){if(i._initialized||i._terminated)throw new Et(ht.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ga{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new Et(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cu{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cu(C.fromBase64String(e))}catch(n){throw new Et(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new cu(C.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Pa{constructor(e){this._methodName=e}}class Nu{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Et(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Et(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $n(this._lat,e._lat)||$n(this._long,e._long)}}const tc=/^__.*__$/;class nc{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return null!==this.fieldMask?new oa(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ra(e,this.data,n,this.fieldTransforms)}}class bl{constructor(e,n,o){this.data=e,this.fieldMask=n,this.fieldTransforms=o}toMutation(e,n){return new oa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Tl(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw en()}}class Ou{constructor(e,n,o,u,p,_){this.settings=e,this.databaseId=n,this.It=o,this.ignoreUndefinedProperties=u,void 0===p&&this.ea(),this.fieldTransforms=p||[],this.fieldMask=_||[]}get path(){return this.settings.path}get na(){return this.settings.na}sa(e){return new Ou(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ia(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.sa({path:o,ra:!1});return u.oa(e),u}ua(e){var n;const o=null===(n=this.path)||void 0===n?void 0:n.child(e),u=this.sa({path:o,ra:!1});return u.ea(),u}ca(e){return this.sa({path:void 0,ra:!0})}aa(e){return Al(e,this.settings.methodName,this.settings.ha||!1,this.path,this.settings.la)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}ea(){if(this.path)for(let e=0;e<this.path.length;e++)this.oa(this.path.get(e))}oa(e){if(0===e.length)throw this.aa("Document fields must not be empty");if(Tl(this.na)&&tc.test(e))throw this.aa('Document fields cannot begin and end with "__"')}}class rc{constructor(e,n,o){this.databaseId=e,this.ignoreUndefinedProperties=n,this.It=o||zl(e)}fa(e,n,o,u=!1){return new Ou({na:e,methodName:n,la:o,path:zr.emptyPath(),ra:!1,ha:u},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function ka(i){const e=i._freezeSettings(),n=zl(i._databaseId);return new rc(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Wc(i,e,n,o,u,p={}){const _=i.fa(p.merge||p.mergeFields?2:0,e,n,u);ch("Data must be an object, but it was:",_,o);const b=ap(o,_);let V,z;if(p.merge)V=new m(_.fieldMask),z=_.fieldTransforms;else if(p.mergeFields){const J=[];for(const we of p.mergeFields){const st=Kc(e,we,n);if(!_.contains(st))throw new Et(ht.INVALID_ARGUMENT,`Field '${st}' is specified in your field mask but missing from your input data.`);qc(J,st)||J.push(st)}V=new m(J),z=_.fieldTransforms.filter(we=>V.covers(we.field))}else V=null,z=_.fieldTransforms;return new nc(new kt(b),V,z)}class ic extends Pa{_toFieldTransform(e){if(2!==e.na)throw e.aa(1===e.na?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ic}}function op(i,e,n){return new Ou({na:3,la:e.settings.la,methodName:i._methodName,ra:n},e.databaseId,e.It,e.ignoreUndefinedProperties)}class ah extends Pa{_toFieldTransform(e){return new te(e.path,new Uu)}isEqual(e){return e instanceof ah}}class $g extends Pa{constructor(e,n){super(e),this.da=n}_toFieldTransform(e){const n=op(this,e,!0),o=this.da.map(p=>Sl(p,n)),u=new Eu(o);return new te(e.path,u)}isEqual(e){return this===e}}class Hg extends Pa{constructor(e,n){super(e),this.da=n}_toFieldTransform(e){const n=op(this,e,!0),o=this.da.map(p=>Sl(p,n)),u=new I(o);return new te(e.path,u)}isEqual(e){return this===e}}class Gg extends Pa{constructor(e,n){super(e),this._a=n}_toFieldTransform(e){const n=new v(e.It,Fl(e.It,this._a));return new te(e.path,n)}isEqual(e){return this===e}}function uh(i,e,n,o){const u=i.fa(1,e,n);ch("Data must be an object, but it was:",u,o);const p=[],_=kt.empty();ds(o,(V,z)=>{const J=dh(e,V,n);z=(0,de.m9)(z);const we=u.ua(J);if(z instanceof ic)p.push(J);else{const st=Sl(z,we);null!=st&&(p.push(J),_.set(J,st))}});const b=new m(p);return new bl(_,b,u.fieldTransforms)}function lh(i,e,n,o,u,p){const _=i.fa(1,e,n),b=[Kc(e,o,n)],V=[u];if(p.length%2!=0)throw new Et(ht.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let st=0;st<p.length;st+=2)b.push(Kc(e,p[st])),V.push(p[st+1]);const z=[],J=kt.empty();for(let st=b.length-1;st>=0;--st)if(!qc(z,b[st])){const Dt=b[st];let At=V[st];At=(0,de.m9)(At);const rn=_.ua(Dt);if(At instanceof ic)z.push(Dt);else{const An=Sl(At,rn);null!=An&&(z.push(Dt),J.set(Dt,An))}}const we=new m(z);return new bl(J,we,_.fieldTransforms)}function zg(i,e,n,o=!1){return Sl(n,i.fa(o?4:3,e))}function Sl(i,e){if(Wg(i=(0,de.m9)(i)))return ch("Unsupported field value:",e,i),ap(i,e);if(i instanceof Pa)return function(n,o){if(!Tl(o.na))throw o.aa(`${n._methodName}() can only be used with update() and set()`);if(!o.path)throw o.aa(`${n._methodName}() is not currently supported inside arrays`);const u=n._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.ra&&4!==e.na)throw e.aa("Nested arrays are not supported");return function(n,o){const u=[];let p=0;for(const _ of n){let b=Sl(_,o.ca(p));null==b&&(b={nullValue:"NULL_VALUE"}),u.push(b),p++}return{arrayValue:{values:u}}}(i,e)}return function(n,o){if(null===(n=(0,de.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Fl(o.It,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const u=pr.fromDate(n);return{timestampValue:ll(o.It,u)}}if(n instanceof pr){const u=new pr(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ll(o.It,u)}}if(n instanceof Nu)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof cu)return{bytesValue:Oh(o.It,n._byteString)};if(n instanceof bs){const u=o.databaseId,p=n.firestore._databaseId;if(!p.isEqual(u))throw o.aa(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ph(n.firestore._databaseId||o.databaseId,n._key.path)}}throw o.aa(`Unsupported field value: ${jc(n)}`)}(i,e)}function ap(i,e){const n={};return pa(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ds(i,(o,u)=>{const p=Sl(u,e.ia(o));null!=p&&(n[o]=p)}),{mapValue:{fields:n}}}function Wg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof pr||i instanceof Nu||i instanceof cu||i instanceof bs||i instanceof Pa)}function ch(i,e,n){if(!Wg(n)||"object"!=typeof(o=n)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=jc(n);throw e.aa("an object"===o?i+" a custom object":i+" "+o)}var o}function Kc(i,e,n){if((e=(0,de.m9)(e))instanceof Ga)return e._internalPath;if("string"==typeof e)return dh(i,e);throw Al("Field path arguments must be of type string or ",i,!1,void 0,n)}const up=new RegExp("[~\\*/\\[\\]]");function dh(i,e,n){if(e.search(up)>=0)throw Al(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Ga(...e.split("."))._internalPath}catch{throw Al(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Al(i,e,n,o,u){const p=o&&!o.isEmpty(),_=void 0!==u;let b=`Function ${e}() called with invalid data`;n&&(b+=" (via `toFirestore()`)"),b+=". ";let V="";return(p||_)&&(V+=" (found",p&&(V+=` in field ${o}`),_&&(V+=` in document ${u}`),V+=")"),new Et(ht.INVALID_ARGUMENT,b+i+V)}function qc(i,e){return i.some(n=>n.isEqual(e))}class Ml{constructor(e,n,o,u,p){this._firestore=e,this._userDataWriter=n,this._key=o,this._document=u,this._converter=p}get id(){return this._key.path.lastSegment()}get ref(){return new bs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Fy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(xl("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class Fy extends Ml{data(){return super.data()}}function xl(i,e){return"string"==typeof e?dh(i,e):e instanceof Ga?e._internalPath:e._delegate._internalPath}class du{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rl extends Ml{constructor(e,n,o,u,p,_){super(e,n,o,u,_),this._firestore=e,this._firestoreImpl=e,this.metadata=p}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const o=this._document.data.field(xl("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,n.serverTimestamps)}}}class sc extends rl{data(e={}){return super.data(e)}}class Pu{constructor(e,n,o,u){this._firestore=e,this._userDataWriter=n,this._snapshot=u,this.metadata=new du(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(o=>{e.call(n,new sc(this._firestore,this._userDataWriter,o.key,o,new du(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Et(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let p=0;return o._snapshot.docChanges.map(_=>({type:"added",doc:new sc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new du(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:p++}))}{let p=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(_=>u||3!==_.type).map(_=>{const b=new sc(o._firestore,o._userDataWriter,_.doc.key,_.doc,new du(o._snapshot.mutatedKeys.has(_.doc.key),o._snapshot.fromCache),o.query.converter);let V=-1,z=-1;return 0!==_.type&&(V=p.indexOf(_.doc.key),p=p.delete(_.doc.key)),1!==_.type&&(p=p.add(_.doc),z=p.indexOf(_.doc.key)),{type:Kg(_.type),doc:b,oldIndex:V,newIndex:z}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Kg(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return en()}}function qg(i,e){return i instanceof rl&&e instanceof rl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Pu&&e instanceof Pu&&i._firestore===e._firestore&&oh(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function hh(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new Et(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oc{}function Ly(i,...e){for(const n of e)i=n._apply(i);return i}class Zg extends oc{constructor(e,n,o){super(),this.wa=e,this.ma=n,this.ga=o,this.type="where"}_apply(e){const n=ka(e.firestore),o=function(u,p,_,b,V,z,J){let we;if(V.isKeyField()){if("array-contains"===z||"array-contains-any"===z)throw new Et(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${z}' queries on documentId().`);if("in"===z||"not-in"===z){fp(J,z);const Dt=[];for(const At of J)Dt.push(hp(b,u,At));we={arrayValue:{values:Dt}}}else we=hp(b,u,J)}else"in"!==z&&"not-in"!==z&&"array-contains-any"!==z||fp(J,z),we=zg(_,"where",J,"in"===z||"not-in"===z);const st=es.create(V,z,we);return function(Dt,At){if(At.dt()){const An=Xa(Dt);if(null!==An&&!An.isEqual(At.field))throw new Et(ht.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${An.toString()}' and '${At.field.toString()}'`);const Br=ol(Dt);null!==Br&&pp(0,At.field,Br)}const rn=function(An,Br){for(const fi of An.filters)if(Br.indexOf(fi.op)>=0)return fi.op;return null}(Dt,function(An){switch(An){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(At.op));if(null!==rn)throw new Et(ht.INVALID_ARGUMENT,rn===At.op?`Invalid query. You cannot use more than one '${At.op.toString()}' filter.`:`Invalid query. You cannot use '${At.op.toString()}' filters with '${rn.toString()}' filters.`)}(u,st),st}(e._query,0,n,e.firestore._databaseId,this.wa,this.ma,this.ga);return new Qo(e.firestore,e.converter,function(u,p){const _=u.filters.concat([p]);return new ga(u.path,u.collectionGroup,u.explicitOrderBy.slice(),_,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}function Yg(i,e,n){const o=e,u=xl("where",i);return new Zg(u,o,n)}class Qg extends oc{constructor(e,n){super(),this.wa=e,this.ya=n,this.type="orderBy"}_apply(e){const n=function(o,u,p){if(null!==o.startAt)throw new Et(ht.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new Et(ht.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const _=new mu(u,p);return function(b,V){if(null===ol(b)){const z=Xa(b);null!==z&&pp(0,z,V.field)}}(o,_),_}(e._query,this.wa,this.ya);return new Qo(e.firestore,e.converter,function(o,u){const p=o.explicitOrderBy.concat([u]);return new ga(o.path,o.collectionGroup,p,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function Jg(i,e="asc"){const n=e,o=xl("orderBy",i);return new Qg(o,n)}class Xg extends oc{constructor(e,n,o){super(),this.type=e,this.pa=n,this.Ia=o}_apply(e){return new Qo(e.firestore,e.converter,yu(e._query,this.pa,this.Ia))}}function em(i){return Ug("limit",i),new Xg("limit",i,"F")}function tm(i){return Ug("limitToLast",i),new Xg("limitToLast",i,"L")}class fh extends oc{constructor(e,n,o){super(),this.type=e,this.Ta=n,this.Ea=o}_apply(e){const n=dp(e,this.type,this.Ta,this.Ea);return new Qo(e.firestore,e.converter,(u=n,new ga((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}function lp(...i){return new fh("startAt",i,!0)}function nm(...i){return new fh("startAfter",i,!1)}class cp extends oc{constructor(e,n,o){super(),this.type=e,this.Ta=n,this.Ea=o}_apply(e){const n=dp(e,this.type,this.Ta,this.Ea);return new Qo(e.firestore,e.converter,(u=n,new ga((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function rm(...i){return new cp("endBefore",i,!1)}function im(...i){return new cp("endAt",i,!0)}function dp(i,e,n,o){if(n[0]=(0,de.m9)(n[0]),n[0]instanceof Ml)return function(u,p,_,b,V){if(!b)throw new Et(ht.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${_}().`);const z=[];for(const J of Lu(u))if(J.field.isKeyField())z.push(no(p,b.key));else{const we=b.data.field(J.field);if(Tt(we))throw new Et(ht.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+J.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===we){const st=J.field.canonicalString();throw new Et(ht.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${st}' (used as the orderBy) does not exist.`)}z.push(we)}return new Ja(z,V)}(i._query,i.firestore._databaseId,e,n[0]._document,o);{const u=ka(i.firestore);return function(p,_,b,V,z,J){const we=p.explicitOrderBy;if(z.length>we.length)throw new Et(ht.INVALID_ARGUMENT,`Too many arguments provided to ${V}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const st=[];for(let Dt=0;Dt<z.length;Dt++){const At=z[Dt];if(we[Dt].field.isKeyField()){if("string"!=typeof At)throw new Et(ht.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${V}(), but got a ${typeof At}`);if(!dc(p)&&-1!==At.indexOf("/"))throw new Et(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${V}() must be a plain document ID, but '${At}' contains a slash.`);const rn=p.path.child(Xn.fromString(At));if(!Yt.isDocumentKey(rn))throw new Et(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${V}() must result in a valid document path, but '${rn}' is not because it contains an odd number of segments.`);const An=new Yt(rn);st.push(no(_,An))}else{const rn=zg(b,V,At);st.push(rn)}}return new Ja(st,J)}(i._query,i.firestore._databaseId,u,e,n,o)}}function hp(i,e,n){if("string"==typeof(n=(0,de.m9)(n))){if(""===n)throw new Et(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dc(e)&&-1!==n.indexOf("/"))throw new Et(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const o=e.path.child(Xn.fromString(n));if(!Yt.isDocumentKey(o))throw new Et(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return no(i,new Yt(o))}if(n instanceof bs)return no(i,n._key);throw new Et(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jc(n)}.`)}function fp(i,e){if(!Array.isArray(i)||0===i.length)throw new Et(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new Et(ht.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function pp(i,e,n){if(!n.isEqual(e))throw new Et(ht.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}const u_={maxAttempts:5};class gp{convertValue(e,n="none"){switch(Wr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return X(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xe(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw en()}}convertObject(e,n){const o={};return ds(e.fields,(u,p)=>{o[u]=this.convertValue(p,n)}),o}convertGeoPoint(e){return new Nu(X(e.latitude),X(e.longitude))}convertArray(e,n){return(e.values||[]).map(o=>this.convertValue(o,n))}convertServerTimestamp(e,n){switch(n){case"previous":const o=gt(e);return null==o?null:this.convertValue(o,n);case"estimate":return this.convertTimestamp(sn(e));default:return null}}convertTimestamp(e){const n=$(e);return new pr(n.seconds,n.nanos)}convertDocumentKey(e,n){const o=Xn.fromString(e);Rn(jl(o));const u=new fn(o.get(1),o.get(3)),p=new Yt(o.popFirst(5));return u.isEqual(n)||ni(`Document ${p} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),p}}function ph(i,e,n){let o;return o=i?n&&(n.merge||n.mergeFields)?i.toFirestore(e,n):i.toFirestore(e):e,o}class sm extends gp{constructor(e){super(),this.firestore=e}convertBytes(e){return new cu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bs(this.firestore,null,n)}}class om{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ka(e)}set(e,n,o){this._verifyNotCommitted();const u=Pi(e,this._firestore),p=ph(u.converter,n,o),_=Wc(this._dataReader,"WriteBatch.set",u._key,p,null!==u.converter,o);return this._mutations.push(_.toMutation(u._key,Vt.none())),this}update(e,n,o,...u){this._verifyNotCommitted();const p=Pi(e,this._firestore);let _;return _="string"==typeof(n=(0,de.m9)(n))||n instanceof Ga?lh(this._dataReader,"WriteBatch.update",p._key,n,o,u):uh(this._dataReader,"WriteBatch.update",p._key,n),this._mutations.push(_.toMutation(p._key,Vt.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Pi(e,this._firestore);return this._mutations=this._mutations.concat(new tu(n._key,Vt.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Et(ht.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Pi(i,e){if((i=(0,de.m9)(i)).firestore!==e)throw new Et(ht.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}function am(i){i=Pr(i,bs);const e=Pr(i.firestore,ns);return Ty($s(e),i._key).then(n=>Yc(e,i,n))}class Rl extends gp{constructor(e){super(),this.firestore=e}convertBytes(e){return new cu(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bs(this.firestore,null,n)}}function Vy(i){i=Pr(i,bs);const e=Pr(i.firestore,ns),n=$s(e),o=new Rl(e);return function np(i,e){const n=new _i;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return(o=(0,h.Z)(function*(u,p,_){try{const b=yield function(V,z){const J=Qt(V);return J.persistence.runTransaction("read document","readonly",we=>J.localDocuments.getDocument(we,z))}(u,p);b.isFoundDocument()?_.resolve(b):b.isNoDocument()?_.resolve(null):_.reject(new Et(ht.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(b){const V=Mu(b,`Failed to get document '${p} from cache`);_.reject(V)}}),function(u,p,_){return o.apply(this,arguments)})(yield Dl(i),e,n);var o})),n.promise}(n,i._key).then(u=>new rl(e,o,i._key,u,new du(null!==u&&u.hasLocalMutations,!0),i.converter))}function um(i){i=Pr(i,bs);const e=Pr(i.firestore,ns);return Ty($s(e),i._key,{source:"server"}).then(n=>Yc(e,i,n))}function Uy(i){i=Pr(i,Qo);const e=Pr(i.firestore,ns),n=$s(e),o=new Rl(e);return hh(i._query),rp(n,i._query).then(u=>new Pu(e,o,i,u))}function lm(i){i=Pr(i,Qo);const e=Pr(i.firestore,ns),n=$s(e),o=new Rl(e);return function kg(i,e){const n=new _i;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return(o=(0,h.Z)(function*(u,p,_){try{const b=yield Nd(u,p,!0),V=new gy(p,b.Hi),z=V.ju(b.documents),J=V.applyChanges(z,!1);_.resolve(J.snapshot)}catch(b){const V=Mu(b,`Failed to execute query '${p} against cache`);_.reject(V)}}),function(u,p,_){return o.apply(this,arguments)})(yield Dl(i),e,n);var o})),n.promise}(n,i._query).then(u=>new Pu(e,o,i,u))}function cm(i){i=Pr(i,Qo);const e=Pr(i.firestore,ns),n=$s(e),o=new Rl(e);return rp(n,i._query,{source:"server"}).then(u=>new Pu(e,o,i,u))}function ac(i,e,n){i=Pr(i,bs);const o=Pr(i.firestore,ns),u=ph(i.converter,e,n);return Zc(o,[Wc(ka(o),"setDoc",i._key,u,null!==i.converter,n).toMutation(i._key,Vt.none())])}function By(i,e,n,...o){i=Pr(i,bs);const u=Pr(i.firestore,ns),p=ka(u);let _;return _="string"==typeof(e=(0,de.m9)(e))||e instanceof Ga?lh(p,"updateDoc",i._key,e,n,o):uh(p,"updateDoc",i._key,e),Zc(u,[_.toMutation(i._key,Vt.exists(!0))])}function jy(i){return Zc(Pr(i.firestore,ns),[new tu(i._key,Vt.none())])}function dm(i,e){const n=Pr(i.firestore,ns),o=Bg(i),u=ph(i.converter,e);return Zc(n,[Wc(ka(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,Vt.exists(!1))]).then(()=>o)}function $y(i,...e){var n,o,u;i=(0,de.m9)(i);let p={includeMetadataChanges:!1},_=0;"object"!=typeof e[_]||Hc(e[_])||(p=e[_],_++);const b={includeMetadataChanges:p.includeMetadataChanges};if(Hc(e[_])){const we=e[_];e[_]=null===(n=we.next)||void 0===n?void 0:n.bind(we),e[_+1]=null===(o=we.error)||void 0===o?void 0:o.bind(we),e[_+2]=null===(u=we.complete)||void 0===u?void 0:u.bind(we)}let V,z,J;if(i instanceof bs)z=Pr(i.firestore,ns),J=Ba(i._key.path),V={next:we=>{e[_]&&e[_](Yc(z,i,we))},error:e[_+1],complete:e[_+2]};else{const we=Pr(i,Qo);z=Pr(we.firestore,ns),J=we._query;const st=new Rl(z);V={next:Dt=>{e[_]&&e[_](new Pu(z,st,we,Dt))},error:e[_+1],complete:e[_+2]},hh(i._query)}return function(we,st,Dt,At){const rn=new Uc(At),An=new Yd(st,rn,Dt);return we.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return Rf(yield tl(we),An)})),()=>{rn.Rc(),we.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return Of(yield tl(we),An)}))}}($s(z),J,b,V)}function hm(i,e){return function Fg(i,e){const n=new Uc(e);return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return o=yield tl(i),u=n,Qt(o).Ru.add(u),void u.next();var o,u})),()=>{n.Rc(),i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return o=yield tl(i),u=n,void Qt(o).Ru.delete(u);var o,u}))}}($s(i=Pr(i,ns)),Hc(e)?e:{next:e})}function Zc(i,e){return function(n,o){const u=new _i;return n.asyncQueue.enqueueAndForget((0,h.Z)(function*(){return function Dg(i,e,n){return Oc.apply(this,arguments)}(yield tp(n),o,u)})),u.promise}($s(i),e)}function Yc(i,e,n){const o=n.docs.get(e._key),u=new Rl(i);return new rl(i,u,e._key,o,new du(n.hasPendingWrites,n.fromCache),e.converter)}class mp extends class{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=ka(e)}get(e){const n=Pi(e,this._firestore),o=new sm(this._firestore);return this._transaction.lookup([n._key]).then(u=>{if(!u||1!==u.length)return en();const p=u[0];if(p.isFoundDocument())return new Ml(this._firestore,o,p.key,p,n.converter);if(p.isNoDocument())return new Ml(this._firestore,o,n._key,null,n.converter);throw en()})}set(e,n,o){const u=Pi(e,this._firestore),p=ph(u.converter,n,o),_=Wc(this._dataReader,"Transaction.set",u._key,p,null!==u.converter,o);return this._transaction.set(u._key,_),this}update(e,n,o,...u){const p=Pi(e,this._firestore);let _;return _="string"==typeof(n=(0,de.m9)(n))||n instanceof Ga?lh(this._dataReader,"Transaction.update",p._key,n,o,u):uh(this._dataReader,"Transaction.update",p._key,n),this._transaction.update(p._key,_),this}delete(e){const n=Pi(e,this._firestore);return this._transaction.delete(n._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Pi(e,this._firestore),o=new Rl(this._firestore);return super.get(e).then(u=>new rl(this._firestore,o,n._key,u._document,new du(!1,!1),n.converter))}}function hu(i,e,n){i=Pr(i,ns);const o=Object.assign(Object.assign({},u_),n);return function(u){if(u.maxAttempts<1)throw new Et(ht.INVALID_ARGUMENT,"Max attempts must be at least 1")}(o),function Lg(i,e,n){const o=new _i;return i.asyncQueue.enqueueAndForget((0,h.Z)(function*(){const u=yield(p=i,Yl(p).then(_=>_.datastore));var p;new Zf(i.asyncQueue,u,n,e,o).run()})),o.promise}($s(i),u=>e(new mp(i,u)),o)}function Hy(){return new ic("deleteField")}function fm(){return new ah("serverTimestamp")}function fu(...i){return new $g("arrayUnion",i)}function Wa(...i){return new Hg("arrayRemove",i)}function Ka(i){return new Gg("increment",i)}!function(i,e=!0){Fs=k.SDK_VERSION,(0,k._registerComponent)(new H.wA("firestore",(n,{instanceIdentifier:o,options:u})=>{const p=n.getProvider("app").getImmediate(),_=new ns(new To(n.getProvider("auth-internal")),new ta(n.getProvider("app-check-internal")),function(b,V){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new Et(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fn(b.options.projectId,V)}(p,o),p);return u=Object.assign({useFetchStreams:e},u),_._setSettings(u),_},"PUBLIC").setMultipleInstances(!0)),(0,k.registerVersion)(Ea,"3.4.15",i),(0,k.registerVersion)(Ea,"3.4.15","esm2017")}()},2090:($t,qe,F)=>{F.d(qe,{$s:()=>zn,BH:()=>Qe,G6:()=>Te,L:()=>se,LL:()=>dt,Mn:()=>je,Sg:()=>Je,UG:()=>Ze,US:()=>Ce,ZB:()=>ae,ZR:()=>Le,b$:()=>xt,d:()=>Re,eu:()=>Ue,hl:()=>Ve,jU:()=>Ke,m9:()=>mn,ne:()=>Zn,pd:()=>Ln,r3:()=>Ie,ru:()=>Me,tV:()=>Be,uI:()=>Mt,vZ:()=>In,w1:()=>pe,xO:()=>kn,xb:()=>Ft,z$:()=>Ge,zI:()=>be,zd:()=>Un});const ce=function(Ee){const he=[];let q=0;for(let N=0;N<Ee.length;N++){let j=Ee.charCodeAt(N);j<128?he[q++]=j:j<2048?(he[q++]=j>>6|192,he[q++]=63&j|128):55296==(64512&j)&&N+1<Ee.length&&56320==(64512&Ee.charCodeAt(N+1))?(j=65536+((1023&j)<<10)+(1023&Ee.charCodeAt(++N)),he[q++]=j>>18|240,he[q++]=j>>12&63|128,he[q++]=j>>6&63|128,he[q++]=63&j|128):(he[q++]=j>>12|224,he[q++]=j>>6&63|128,he[q++]=63&j|128)}return he},Ce={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ee,he){if(!Array.isArray(Ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=he?this.byteToCharMapWebSafe_:this.byteToCharMap_,N=[];for(let j=0;j<Ee.length;j+=3){const fe=Ee[j],We=j+1<Ee.length,Pt=We?Ee[j+1]:0,yn=j+2<Ee.length,nn=yn?Ee[j+2]:0;let me=(15&Pt)<<2|nn>>6,ye=63&nn;yn||(ye=64,We||(me=64)),N.push(q[fe>>2],q[(3&fe)<<4|Pt>>4],q[me],q[ye])}return N.join("")},encodeString(Ee,he){return this.HAS_NATIVE_SUPPORT&&!he?btoa(Ee):this.encodeByteArray(ce(Ee),he)},decodeString(Ee,he){return this.HAS_NATIVE_SUPPORT&&!he?atob(Ee):function(Ee){const he=[];let q=0,N=0;for(;q<Ee.length;){const j=Ee[q++];if(j<128)he[N++]=String.fromCharCode(j);else if(j>191&&j<224){const fe=Ee[q++];he[N++]=String.fromCharCode((31&j)<<6|63&fe)}else if(j>239&&j<365){const yn=((7&j)<<18|(63&Ee[q++])<<12|(63&Ee[q++])<<6|63&Ee[q++])-65536;he[N++]=String.fromCharCode(55296+(yn>>10)),he[N++]=String.fromCharCode(56320+(1023&yn))}else{const fe=Ee[q++],We=Ee[q++];he[N++]=String.fromCharCode((15&j)<<12|(63&fe)<<6|63&We)}}return he.join("")}(this.decodeStringToByteArray(Ee,he))},decodeStringToByteArray(Ee,he){this.init_();const q=he?this.charToByteMapWebSafe_:this.charToByteMap_,N=[];for(let j=0;j<Ee.length;){const fe=q[Ee.charAt(j++)],Pt=j<Ee.length?q[Ee.charAt(j)]:0;++j;const nn=j<Ee.length?q[Ee.charAt(j)]:64;++j;const $e=j<Ee.length?q[Ee.charAt(j)]:64;if(++j,null==fe||null==Pt||null==nn||null==$e)throw Error();N.push(fe<<2|Pt>>4),64!==nn&&(N.push(Pt<<4&240|nn>>2),64!==$e&&N.push(nn<<6&192|$e))}return N},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ee=0;Ee<this.ENCODED_VALS.length;Ee++)this.byteToCharMap_[Ee]=this.ENCODED_VALS.charAt(Ee),this.charToByteMap_[this.byteToCharMap_[Ee]]=Ee,this.byteToCharMapWebSafe_[Ee]=this.ENCODED_VALS_WEBSAFE.charAt(Ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ee]]=Ee,Ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ee)]=Ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ee)]=Ee)}}},se=function(Ee){return function(Ee){const he=ce(Ee);return Ce.encodeByteArray(he,!0)}(Ee).replace(/\./g,"")},Be=function(Ee){try{return Ce.decodeString(Ee,!0)}catch(he){console.error("base64Decode failed: ",he)}return null};function ae(Ee,he){if(!(he instanceof Object))return he;switch(he.constructor){case Date:return new Date(he.getTime());case Object:void 0===Ee&&(Ee={});break;case Array:Ee=[];break;default:return he}for(const q in he)!he.hasOwnProperty(q)||!De(q)||(Ee[q]=ae(Ee[q],he[q]));return Ee}function De(Ee){return"__proto__"!==Ee}class Qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((he,q)=>{this.resolve=he,this.reject=q})}wrapCallback(he){return(q,N)=>{q?this.reject(q):this.resolve(N),"function"==typeof he&&(this.promise.catch(()=>{}),1===he.length?he(q):he(q,N))}}}function Je(Ee,he){if(Ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const N=he||"demo-project",j=Ee.iat||0,fe=Ee.sub||Ee.user_id;if(!fe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const We=Object.assign({iss:`https://securetoken.google.com/${N}`,aud:N,iat:j,exp:j+3600,auth_time:j,sub:fe,user_id:fe,firebase:{sign_in_provider:"custom",identities:{}}},Ee);return[se(JSON.stringify({alg:"none",type:"JWT"})),se(JSON.stringify(We)),""].join(".")}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Mt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function Ze(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Ke(){return"object"==typeof self&&self.self===self}function Me(){const Ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ee&&void 0!==Ee.id}function xt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Re(){return Ge().indexOf("Electron/")>=0}function pe(){const Ee=Ge();return Ee.indexOf("MSIE ")>=0||Ee.indexOf("Trident/")>=0}function je(){return Ge().indexOf("MSAppHost/")>=0}function Te(){return!Ze()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ve(){return"object"==typeof indexedDB}function Ue(){return new Promise((Ee,he)=>{try{let q=!0;const N="validate-browser-context-for-indexeddb-analytics-module",j=self.indexedDB.open(N);j.onsuccess=()=>{j.result.close(),q||self.indexedDB.deleteDatabase(N),Ee(!0)},j.onupgradeneeded=()=>{q=!1},j.onerror=()=>{var fe;he((null===(fe=j.error)||void 0===fe?void 0:fe.message)||"")}}catch(q){he(q)}})}function be(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Le extends Error{constructor(he,q,N){super(q),this.code=he,this.customData=N,this.name="FirebaseError",Object.setPrototypeOf(this,Le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dt.prototype.create)}}class dt{constructor(he,q,N){this.service=he,this.serviceName=q,this.errors=N}create(he,...q){const N=q[0]||{},j=`${this.service}/${he}`,fe=this.errors[he],We=fe?function It(Ee,he){return Ee.replace(St,(q,N)=>{const j=he[N];return null!=j?String(j):`<${N}?>`})}(fe,N):"Error";return new Le(j,`${this.serviceName}: ${We} (${j}).`,N)}}const St=/\{\$([^}]+)}/g;function Ie(Ee,he){return Object.prototype.hasOwnProperty.call(Ee,he)}function Ft(Ee){for(const he in Ee)if(Object.prototype.hasOwnProperty.call(Ee,he))return!1;return!0}function In(Ee,he){if(Ee===he)return!0;const q=Object.keys(Ee),N=Object.keys(he);for(const j of q){if(!N.includes(j))return!1;const fe=Ee[j],We=he[j];if(xn(fe)&&xn(We)){if(!In(fe,We))return!1}else if(fe!==We)return!1}for(const j of N)if(!q.includes(j))return!1;return!0}function xn(Ee){return null!==Ee&&"object"==typeof Ee}function kn(Ee){const he=[];for(const[q,N]of Object.entries(Ee))Array.isArray(N)?N.forEach(j=>{he.push(encodeURIComponent(q)+"="+encodeURIComponent(j))}):he.push(encodeURIComponent(q)+"="+encodeURIComponent(N));return he.length?"&"+he.join("&"):""}function Un(Ee){const he={};return Ee.replace(/^\?/,"").split("&").forEach(N=>{if(N){const[j,fe]=N.split("=");he[decodeURIComponent(j)]=decodeURIComponent(fe)}}),he}function Ln(Ee){const he=Ee.indexOf("?");if(!he)return"";const q=Ee.indexOf("#",he);return Ee.substring(he,q>0?q:void 0)}function Zn(Ee,he){const q=new _t(Ee,he);return q.subscribe.bind(q)}class _t{constructor(he,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{he(this)}).catch(N=>{this.error(N)})}next(he){this.forEachObserver(q=>{q.next(he)})}error(he){this.forEachObserver(q=>{q.error(he)}),this.close(he)}complete(){this.forEachObserver(he=>{he.complete()}),this.close()}subscribe(he,q,N){let j;if(void 0===he&&void 0===q&&void 0===N)throw new Error("Missing Observer.");j=function vn(Ee,he){if("object"!=typeof Ee||null===Ee)return!1;for(const q of he)if(q in Ee&&"function"==typeof Ee[q])return!0;return!1}(he,["next","error","complete"])?he:{next:he,error:q,complete:N},void 0===j.next&&(j.next=Fn),void 0===j.error&&(j.error=Fn),void 0===j.complete&&(j.complete=Fn);const fe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?j.error(this.finalError):j.complete()}catch{}}),this.observers.push(j),fe}unsubscribeOne(he){void 0===this.observers||void 0===this.observers[he]||(delete this.observers[he],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(he){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,he)}sendOne(he,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[he])try{q(this.observers[he])}catch(N){typeof console<"u"&&console.error&&console.error(N)}})}close(he){this.finalized||(this.finalized=!0,void 0!==he&&(this.finalError=he),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fn(){}function zn(Ee,he=1e3,q=2){const N=he*Math.pow(q,Ee),j=Math.round(.5*N*(Math.random()-.5)*2);return Math.min(144e5,N+j)}function mn(Ee){return Ee&&Ee._delegate?Ee._delegate:Ee}},4578:($t,qe,F)=>{F.d(qe,{V:()=>H});var h=F(1135),k=F(4650);let H=(()=>{class ce{constructor(){this.visibility=new h.X(!1)}show(){this.visibility.next(!0)}hide(){this.visibility.next(!1)}}return ce.\u0275fac=function(Ce){return new(Ce||ce)},ce.\u0275prov=k.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},2740:($t,qe,F)=>{var h=F(1481),k=F(4650),H=F(433),ce=F(529),de=F(6895),Ce=F(7185),Ae=F(8860),se=F(9635),Be=F(4004),ee=F(5698),ae=F(7323),De=F(5867);const Qe=(0,Be.U)(f=>!!f);let Je=(()=>{class f{constructor(l,m){this.router=l,this.auth=m,this.canActivate=(E,C)=>{const U=E.data.authGuardPipe||(()=>Qe);return(0,ae.EA)(this.auth).pipe((0,ee.q)(1),U(E,C),(0,Be.U)($=>"boolean"==typeof $?$:Array.isArray($)?this.router.createUrlTree($):this.router.parseUrl($)))}}}return f.\u0275fac=function(l){return new(l||f)(k.LFG(Ae.F0),k.LFG(ae.gx))},f.\u0275prov=k.Yz7({token:f,factory:f.\u0275fac,providedIn:"any"}),f})();const Ge=f=>({canActivate:[Je],data:{authGuardPipe:f}}),vt=()=>{return f=[""],(0,se.z)(Qe,(0,Be.U)(c=>c||f));var f},Ue=[{path:"",loadChildren:()=>Promise.all([F.e(592),F.e(914)]).then(F.bind(F,2914)).then(f=>f.AuthModule),...Ge(()=>{return f=["dashboard"],(0,se.z)(Qe,(0,Be.U)(c=>c&&f||!0));var f})},{path:"dashboard",loadChildren:()=>Promise.all([F.e(592),F.e(404)]).then(F.bind(F,2404)).then(f=>f.DashboardModule),...Ge(vt),data:{role:"USER"}},{path:"admin-dashboard",loadChildren:()=>Promise.all([F.e(592),F.e(685)]).then(F.bind(F,4685)).then(f=>f.AdminDashboardModule),...Ge(vt),data:{role:"ADMIN"}},{path:"**",redirectTo:"",pathMatch:"full"}];let be=(()=>{class f{}return f.\u0275fac=function(l){return new(l||f)},f.\u0275mod=k.oAB({type:f}),f.\u0275inj=k.cJS({imports:[Ae.Bz.forRoot(Ue),Ae.Bz]}),f})();var Se=F(6185);let He=(()=>{class f{constructor(l){this.title="salaDeJuegos"}}return f.\u0275fac=function(l){return new(l||f)(k.Y36(Se.ST))},f.\u0275cmp=k.Xpm({type:f,selectors:[["app-root"]],decls:1,vars:0,template:function(l,m){1&l&&k._UZ(0,"router-outlet")},dependencies:[Ae.lC]}),f})();var Le=F(3692);const dt_firebase={apiKey:"AIzaSyAgPxdOoIs3iGSZVaL8hZrgxdocFhN66GE",authDomain:"vallejo-saladejuegos.firebaseapp.com",projectId:"vallejo-saladejuegos",storageBucket:"vallejo-saladejuegos.appspot.com",messagingSenderId:"1000520849634",appId:"1:1000520849634:web:4f09c712b5296ae2b6e6bb"};var It=F(5813),St=F(7128),Kt=F(5525);class zt{constructor(c){return c}}const ft="firestore",et=new k.OlP("angularfire2.firestore-instances");function Ie(f){return(c,l)=>{const m=c.runOutsideAngular(()=>f(l));return new zt(m)}}const ve={provide:class tn{constructor(){return(0,It.vb)(ft)}},deps:[[new k.FiY,et]]},Ft={provide:zt,useFactory:function pt(f,c){const l=(0,It.JM)(ft,f,c);return l&&new zt(l)},deps:[[new k.FiY,et],Le.Ot]};let wn=(()=>{class f{constructor(){(0,De.KN)("angularfire",It.q4.full,"fst")}}return f.\u0275fac=function(l){return new(l||f)},f.\u0275mod=k.oAB({type:f}),f.\u0275inj=k.cJS({providers:[Ft,ve]}),f})();function In(f,...c){return{ngModule:wn,providers:[{provide:et,useFactory:Ie(f),multi:!0,deps:[k.R0b,k.zs3,It.HU,Le.z6,[new k.FiY,ae.dh],[new k.FiY,St.nm],...c]}]}}const fe=(0,It.u3)(Kt.ad,!0);var Wn=F(7340);function Fi(f){return new k.vHH(3e3,!1)}function Do(){return typeof window<"u"&&typeof window.document<"u"}function qs(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Ci(f){switch(f.length){case 0:return new Wn.ZN;case 1:return f[0];default:return new Wn.ZE(f)}}function mi(f,c,l,m,E=new Map,C=new Map){const U=[],$=[];let X=-1,xe=null;if(m.forEach(Tt=>{const gt=Tt.get("offset"),sn=gt==X,Dn=sn&&xe||new Map;Tt.forEach((fn,Sn)=>{let Hn=Sn,_r=fn;if("offset"!==Sn)switch(Hn=c.normalizePropertyName(Hn,U),_r){case Wn.k1:_r=E.get(Sn);break;case Wn.l3:_r=C.get(Sn);break;default:_r=c.normalizeStyleValue(Sn,Hn,_r,U)}Dn.set(Hn,_r)}),sn||$.push(Dn),xe=Dn,X=gt}),U.length)throw function Ho(f){return new k.vHH(3502,!1)}();return $}function Ki(f,c,l,m){switch(c){case"start":f.onStart(()=>m(l&&oo(l,"start",f)));break;case"done":f.onDone(()=>m(l&&oo(l,"done",f)));break;case"destroy":f.onDestroy(()=>m(l&&oo(l,"destroy",f)))}}function oo(f,c,l){const C=qi(f.element,f.triggerName,f.fromState,f.toState,c||f.phaseName,l.totalTime??f.totalTime,!!l.disabled),U=f._data;return null!=U&&(C._data=U),C}function qi(f,c,l,m,E="",C=0,U){return{element:f,triggerName:c,fromState:l,toState:m,phaseName:E,totalTime:C,disabled:!!U}}function Yr(f,c,l){let m=f.get(c);return m||f.set(c,m=l),m}function As(f){const c=f.indexOf(":");return[f.substring(1,c),f.slice(c+1)]}let Dr=(f,c)=>!1,Li=(f,c,l)=>[],is=null;function bi(f){const c=f.parentNode||f.host;return c===is?null:c}(qs()||typeof Element<"u")&&(Do()?(is=(()=>document.documentElement)(),Dr=(f,c)=>{for(;c;){if(c===f)return!0;c=bi(c)}return!1}):Dr=(f,c)=>f.contains(c),Li=(f,c,l)=>{if(l)return Array.from(f.querySelectorAll(c));const m=f.querySelector(c);return m?[m]:[]});let Yi=null,gs=!1;const yi=Dr,Qi=Li;let Si=(()=>{class f{validateStyleProperty(l){return function Co(f){Yi||(Yi=function Ti(){return typeof document<"u"?document.body:null}()||{},gs=!!Yi.style&&"WebkitAppearance"in Yi.style);let c=!0;return Yi.style&&!function Zi(f){return"ebkit"==f.substring(1,6)}(f)&&(c=f in Yi.style,!c&&gs&&(c="Webkit"+f.charAt(0).toUpperCase()+f.slice(1)in Yi.style)),c}(l)}matchesElement(l,m){return!1}containsElement(l,m){return yi(l,m)}getParentElement(l){return bi(l)}query(l,m,E){return Qi(l,m,E)}computeStyle(l,m,E){return E||""}animate(l,m,E,C,U,$=[],X){return new Wn.ZN(E,C)}}return f.\u0275fac=function(l){return new(l||f)},f.\u0275prov=k.Yz7({token:f,factory:f.\u0275fac}),f})(),ao=(()=>{class f{}return f.NOOP=new Si,f})();const lo="ng-enter",ui="ng-leave",xr="ng-trigger",Qr=".ng-trigger",Zs="ng-animating",Ai=".ng-animating";function jn(f){if("number"==typeof f)return f;const c=f.match(/^(-?[\.\d]+)(m?s)/);return!c||c.length<2?0:Vi(parseFloat(c[1]),c[2])}function Vi(f,c){return"s"===c?1e3*f:f}function os(f,c,l){return f.hasOwnProperty("duration")?f:function zo(f,c,l){let E,C=0,U="";if("string"==typeof f){const $=f.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===$)return c.push(Fi()),{duration:0,delay:0,easing:""};E=Vi(parseFloat($[1]),$[2]);const X=$[3];null!=X&&(C=Vi(parseFloat(X),$[4]));const xe=$[5];xe&&(U=xe)}else E=f;if(!l){let $=!1,X=c.length;E<0&&(c.push(function yr(){return new k.vHH(3100,!1)}()),$=!0),C<0&&(c.push(function Ts(){return new k.vHH(3101,!1)}()),$=!0),$&&c.splice(X,0,Fi())}return{duration:E,delay:C,easing:U}}(f,c,l)}function Fr(f,c={}){return Object.keys(f).forEach(l=>{c[l]=f[l]}),c}function Xr(f){const c=new Map;return Object.keys(f).forEach(l=>{c.set(l,f[l])}),c}function Mi(f,c=new Map,l){if(l)for(let[m,E]of l)c.set(m,E);for(let[m,E]of f)c.set(m,E);return c}function No(f,c,l){return l?c+":"+l+";":""}function Ps(f){let c="";for(let l=0;l<f.style.length;l++){const m=f.style.item(l);c+=No(0,m,f.style.getPropertyValue(m))}for(const l in f.style)f.style.hasOwnProperty(l)&&!l.startsWith("_")&&(c+=No(0,xs(l),f.style[l]));f.setAttribute("style",c)}function li(f,c,l){f.style&&(c.forEach((m,E)=>{const C=Nr(E);l&&!l.has(E)&&l.set(E,f.style[C]),f.style[C]=m}),qs()&&Ps(f))}function Ui(f,c){f.style&&(c.forEach((l,m)=>{const E=Nr(m);f.style[E]=""}),qs()&&Ps(f))}function Ji(f){return Array.isArray(f)?1==f.length?f[0]:(0,Wn.vP)(f):f}const as=new RegExp("{{\\s*(.+?)\\s*}}","g");function bt(f){let c=[];if("string"==typeof f){let l;for(;l=as.exec(f);)c.push(l[1]);as.lastIndex=0}return c}function Vn(f,c,l){const m=f.toString(),E=m.replace(as,(C,U)=>{let $=c[U];return null==$&&(l.push(function Zr(f){return new k.vHH(3003,!1)}()),$=""),$.toString()});return E==m?f:E}function us(f){const c=[];let l=f.next();for(;!l.done;)c.push(l.value),l=f.next();return c}const Bi=/-+([a-z0-9])/g;function Nr(f){return f.replace(Bi,(...c)=>c[1].toUpperCase())}function xs(f){return f.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function rr(f,c,l){switch(c.type){case 7:return f.visitTrigger(c,l);case 0:return f.visitState(c,l);case 1:return f.visitTransition(c,l);case 2:return f.visitSequence(c,l);case 3:return f.visitGroup(c,l);case 4:return f.visitAnimate(c,l);case 5:return f.visitKeyframes(c,l);case 6:return f.visitStyle(c,l);case 8:return f.visitReference(c,l);case 9:return f.visitAnimateChild(c,l);case 10:return f.visitAnimateRef(c,l);case 11:return f.visitQuery(c,l);case 12:return f.visitStagger(c,l);default:throw function jr(f){return new k.vHH(3004,!1)}()}}function Qs(f,c){return window.getComputedStyle(f)[c]}function ur(f,c){const l=[];return"string"==typeof f?f.split(/\s*,\s*/).forEach(m=>function $r(f,c,l){if(":"==f[0]){const X=function ms(f,c){switch(f){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(l,m)=>parseFloat(m)>parseFloat(l);case":decrement":return(l,m)=>parseFloat(m)<parseFloat(l);default:return c.push(function Sr(f){return new k.vHH(3016,!1)}()),"* => *"}}(f,l);if("function"==typeof X)return void c.push(X);f=X}const m=f.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==m||m.length<4)return l.push(function Bn(f){return new k.vHH(3015,!1)}()),c;const E=m[1],C=m[2],U=m[3];c.push(ji(E,U));"<"==C[0]&&!("*"==E&&"*"==U)&&c.push(ji(U,E))}(m,l,c)):l.push(f),l}const ys=new Set(["true","1"]),Rs=new Set(["false","0"]);function ji(f,c){const l=ys.has(f)||Rs.has(f),m=ys.has(c)||Rs.has(c);return(E,C)=>{let U="*"==f||f==E,$="*"==c||c==C;return!U&&l&&"boolean"==typeof E&&(U=E?ys.has(f):Rs.has(f)),!$&&m&&"boolean"==typeof C&&($=C?ys.has(c):Rs.has(c)),U&&$}}const bo=new RegExp("s*:selfs*,?","g");function ks(f,c,l,m){return new Oo(f).build(c,l,m)}class Oo{constructor(c){this._driver=c}build(c,l,m){const E=new Po(l);return this._resetContextStyleTimingState(E),rr(this,Ji(c),E)}_resetContextStyleTimingState(c){c.currentQuerySelector="",c.collectedStyles=new Map,c.collectedStyles.set("",new Map),c.currentTime=0}visitTrigger(c,l){let m=l.queryCount=0,E=l.depCount=0;const C=[],U=[];return"@"==c.name.charAt(0)&&l.errors.push(function Yn(){return new k.vHH(3006,!1)}()),c.definitions.forEach($=>{if(this._resetContextStyleTimingState(l),0==$.type){const X=$,xe=X.name;xe.toString().split(/\s*,\s*/).forEach(Tt=>{X.name=Tt,C.push(this.visitState(X,l))}),X.name=xe}else if(1==$.type){const X=this.visitTransition($,l);m+=X.queryCount,E+=X.depCount,U.push(X)}else l.errors.push(function Ao(){return new k.vHH(3007,!1)}())}),{type:7,name:c.name,states:C,transitions:U,queryCount:m,depCount:E,options:null}}visitState(c,l){const m=this.visitStyle(c.styles,l),E=c.options&&c.options.params||null;if(m.containsDynamicStyles){const C=new Set,U=E||{};m.styles.forEach($=>{$ instanceof Map&&$.forEach(X=>{bt(X).forEach(xe=>{U.hasOwnProperty(xe)||C.add(xe)})})}),C.size&&(us(C.values()),l.errors.push(function pi(f,c){return new k.vHH(3008,!1)}()))}return{type:0,name:c.name,style:m,options:E?{params:E}:null}}visitTransition(c,l){l.queryCount=0,l.depCount=0;const m=rr(this,Ji(c.animation),l);return{type:1,matchers:ur(c.expr,l.errors),animation:m,queryCount:l.queryCount,depCount:l.depCount,options:G(c.options)}}visitSequence(c,l){return{type:2,steps:c.steps.map(m=>rr(this,m,l)),options:G(c.options)}}visitGroup(c,l){const m=l.currentTime;let E=0;const C=c.steps.map(U=>{l.currentTime=m;const $=rr(this,U,l);return E=Math.max(E,l.currentTime),$});return l.currentTime=E,{type:3,steps:C,options:G(c.options)}}visitAnimate(c,l){const m=function x(f,c){if(f.hasOwnProperty("duration"))return f;if("number"==typeof f)return R(os(f,c).duration,0,"");const l=f;if(l.split(/\s+/).some(C=>"{"==C.charAt(0)&&"{"==C.charAt(1))){const C=R(0,0,"");return C.dynamic=!0,C.strValue=l,C}const E=os(l,c);return R(E.duration,E.delay,E.easing)}(c.timings,l.errors);l.currentAnimateTimings=m;let E,C=c.styles?c.styles:(0,Wn.oB)({});if(5==C.type)E=this.visitKeyframes(C,l);else{let U=c.styles,$=!1;if(!U){$=!0;const xe={};m.easing&&(xe.easing=m.easing),U=(0,Wn.oB)(xe)}l.currentTime+=m.duration+m.delay;const X=this.visitStyle(U,l);X.isEmptyStep=$,E=X}return l.currentAnimateTimings=null,{type:4,timings:m,style:E,options:null}}visitStyle(c,l){const m=this._makeStyleAst(c,l);return this._validateStyleAst(m,l),m}_makeStyleAst(c,l){const m=[],E=Array.isArray(c.styles)?c.styles:[c.styles];for(let $ of E)"string"==typeof $?$===Wn.l3?m.push($):l.errors.push(new k.vHH(3002,!1)):m.push(Xr($));let C=!1,U=null;return m.forEach($=>{if($ instanceof Map&&($.has("easing")&&(U=$.get("easing"),$.delete("easing")),!C))for(let X of $.values())if(X.toString().indexOf("{{")>=0){C=!0;break}}),{type:6,styles:m,easing:U,offset:c.offset,containsDynamicStyles:C,options:null}}_validateStyleAst(c,l){const m=l.currentAnimateTimings;let E=l.currentTime,C=l.currentTime;m&&C>0&&(C-=m.duration+m.delay),c.styles.forEach(U=>{"string"!=typeof U&&U.forEach(($,X)=>{const xe=l.collectedStyles.get(l.currentQuerySelector),Tt=xe.get(X);let gt=!0;Tt&&(C!=E&&C>=Tt.startTime&&E<=Tt.endTime&&(l.errors.push(function Gi(f,c,l,m,E){return new k.vHH(3010,!1)}()),gt=!1),C=Tt.startTime),gt&&xe.set(X,{startTime:C,endTime:E}),l.options&&function Ms(f,c,l){const m=c.params||{},E=bt(f);E.length&&E.forEach(C=>{m.hasOwnProperty(C)||l.push(function Ur(f){return new k.vHH(3001,!1)}())})}($,l.options,l.errors)})})}visitKeyframes(c,l){const m={type:5,styles:[],options:null};if(!l.currentAnimateTimings)return l.errors.push(function Pe(){return new k.vHH(3011,!1)}()),m;let C=0;const U=[];let $=!1,X=!1,xe=0;const Tt=c.steps.map(_r=>{const gr=this._makeStyleAst(_r,l);let Or=null!=gr.offset?gr.offset:function Wo(f){if("string"==typeof f)return null;let c=null;if(Array.isArray(f))f.forEach(l=>{if(l instanceof Map&&l.has("offset")){const m=l;c=parseFloat(m.get("offset")),m.delete("offset")}});else if(f instanceof Map&&f.has("offset")){const l=f;c=parseFloat(l.get("offset")),l.delete("offset")}return c}(gr.styles),Wr=0;return null!=Or&&(C++,Wr=gr.offset=Or),X=X||Wr<0||Wr>1,$=$||Wr<xe,xe=Wr,U.push(Wr),gr});X&&l.errors.push(function ke(){return new k.vHH(3012,!1)}()),$&&l.errors.push(function ze(){return new k.vHH(3200,!1)}());const gt=c.steps.length;let sn=0;C>0&&C<gt?l.errors.push(function yt(){return new k.vHH(3202,!1)}()):0==C&&(sn=1/(gt-1));const Dn=gt-1,fn=l.currentTime,Sn=l.currentAnimateTimings,Hn=Sn.duration;return Tt.forEach((_r,gr)=>{const Or=sn>0?gr==Dn?1:sn*gr:U[gr],Wr=Or*Hn;l.currentTime=fn+Sn.delay+Wr,Sn.duration=Wr,this._validateStyleAst(_r,l),_r.offset=Or,m.styles.push(_r)}),m}visitReference(c,l){return{type:8,animation:rr(this,Ji(c.animation),l),options:G(c.options)}}visitAnimateChild(c,l){return l.depCount++,{type:9,options:G(c.options)}}visitAnimateRef(c,l){return{type:10,animation:this.visitReference(c.animation,l),options:G(c.options)}}visitQuery(c,l){const m=l.currentQuerySelector,E=c.options||{};l.queryCount++,l.currentQuery=c;const[C,U]=function vs(f){const c=!!f.split(/\s*,\s*/).find(l=>":self"==l);return c&&(f=f.replace(bo,"")),f=f.replace(/@\*/g,Qr).replace(/@\w+/g,l=>Qr+"-"+l.slice(1)).replace(/:animating/g,Ai),[f,c]}(c.selector);l.currentQuerySelector=m.length?m+" "+C:C,Yr(l.collectedStyles,l.currentQuerySelector,new Map);const $=rr(this,Ji(c.animation),l);return l.currentQuery=null,l.currentQuerySelector=m,{type:11,selector:C,limit:E.limit||0,optional:!!E.optional,includeSelf:U,animation:$,originalSelector:c.selector,options:G(c.options)}}visitStagger(c,l){l.currentQuery||l.errors.push(function Ct(){return new k.vHH(3013,!1)}());const m="full"===c.timings?{duration:0,delay:0,easing:"full"}:os(c.timings,l.errors,!0);return{type:12,animation:rr(this,Ji(c.animation),l),timings:m,options:null}}}class Po{constructor(c){this.errors=c,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function G(f){return f?(f=Fr(f)).params&&(f.params=function Fa(f){return f?Fr(f):null}(f.params)):f={},f}function R(f,c,l){return{duration:f,delay:c,easing:l}}function Z(f,c,l,m,E,C,U=null,$=!1){return{type:1,element:f,keyframes:c,preStyleProps:l,postStyleProps:m,duration:E,delay:C,totalTime:E+C,easing:U,subTimeline:$}}class ge{constructor(){this._map=new Map}get(c){return this._map.get(c)||[]}append(c,l){let m=this._map.get(c);m||this._map.set(c,m=[]),m.push(...l)}has(c){return this._map.has(c)}clear(){this._map.clear()}}const Xt=new RegExp(":enter","g"),fr=new RegExp(":leave","g");function lr(f,c,l,m,E,C=new Map,U=new Map,$,X,xe=[]){return(new or).buildKeyframes(f,c,l,m,E,C,U,$,X,xe)}class or{buildKeyframes(c,l,m,E,C,U,$,X,xe,Tt=[]){xe=xe||new ge;const gt=new dr(c,l,xe,E,C,Tt,[]);gt.options=X;const sn=X.delay?jn(X.delay):0;gt.currentTimeline.delayNextStep(sn),gt.currentTimeline.setStyles([U],null,gt.errors,X),rr(this,m,gt);const Dn=gt.timelines.filter(fn=>fn.containsAnimation());if(Dn.length&&$.size){let fn;for(let Sn=Dn.length-1;Sn>=0;Sn--){const Hn=Dn[Sn];if(Hn.element===l){fn=Hn;break}}fn&&!fn.allowOnlyTimelineStyles()&&fn.setStyles([$],null,gt.errors,X)}return Dn.length?Dn.map(fn=>fn.buildKeyframes()):[Z(l,[],[],[],0,sn,"",!1)]}visitTrigger(c,l){}visitState(c,l){}visitTransition(c,l){}visitAnimateChild(c,l){const m=l.subInstructions.get(l.element);if(m){const E=l.createSubContext(c.options),C=l.currentTimeline.currentTime,U=this._visitSubInstructions(m,E,E.options);C!=U&&l.transformIntoNewTimeline(U)}l.previousNode=c}visitAnimateRef(c,l){const m=l.createSubContext(c.options);m.transformIntoNewTimeline(),this.visitReference(c.animation,m),l.transformIntoNewTimeline(m.currentTimeline.currentTime),l.previousNode=c}_visitSubInstructions(c,l,m){let C=l.currentTimeline.currentTime;const U=null!=m.duration?jn(m.duration):null,$=null!=m.delay?jn(m.delay):null;return 0!==U&&c.forEach(X=>{const xe=l.appendInstructionToTimeline(X,U,$);C=Math.max(C,xe.duration+xe.delay)}),C}visitReference(c,l){l.updateOptions(c.options,!0),rr(this,c.animation,l),l.previousNode=c}visitSequence(c,l){const m=l.subContextCount;let E=l;const C=c.options;if(C&&(C.params||C.delay)&&(E=l.createSubContext(C),E.transformIntoNewTimeline(),null!=C.delay)){6==E.previousNode.type&&(E.currentTimeline.snapshotCurrentStyles(),E.previousNode=Hr);const U=jn(C.delay);E.delayNextStep(U)}c.steps.length&&(c.steps.forEach(U=>rr(this,U,E)),E.currentTimeline.applyStylesToKeyframe(),E.subContextCount>m&&E.transformIntoNewTimeline()),l.previousNode=c}visitGroup(c,l){const m=[];let E=l.currentTimeline.currentTime;const C=c.options&&c.options.delay?jn(c.options.delay):0;c.steps.forEach(U=>{const $=l.createSubContext(c.options);C&&$.delayNextStep(C),rr(this,U,$),E=Math.max(E,$.currentTimeline.currentTime),m.push($.currentTimeline)}),m.forEach(U=>l.currentTimeline.mergeTimelineCollectedStyles(U)),l.transformIntoNewTimeline(E),l.previousNode=c}_visitTiming(c,l){if(c.dynamic){const m=c.strValue;return os(l.params?Vn(m,l.params,l.errors):m,l.errors)}return{duration:c.duration,delay:c.delay,easing:c.easing}}visitAnimate(c,l){const m=l.currentAnimateTimings=this._visitTiming(c.timings,l),E=l.currentTimeline;m.delay&&(l.incrementTime(m.delay),E.snapshotCurrentStyles());const C=c.style;5==C.type?this.visitKeyframes(C,l):(l.incrementTime(m.duration),this.visitStyle(C,l),E.applyStylesToKeyframe()),l.currentAnimateTimings=null,l.previousNode=c}visitStyle(c,l){const m=l.currentTimeline,E=l.currentAnimateTimings;!E&&m.hasCurrentStyleProperties()&&m.forwardFrame();const C=E&&E.easing||c.easing;c.isEmptyStep?m.applyEmptyStep(C):m.setStyles(c.styles,C,l.errors,l.options),l.previousNode=c}visitKeyframes(c,l){const m=l.currentAnimateTimings,E=l.currentTimeline.duration,C=m.duration,$=l.createSubContext().currentTimeline;$.easing=m.easing,c.styles.forEach(X=>{$.forwardTime((X.offset||0)*C),$.setStyles(X.styles,X.easing,l.errors,l.options),$.applyStylesToKeyframe()}),l.currentTimeline.mergeTimelineCollectedStyles($),l.transformIntoNewTimeline(E+C),l.previousNode=c}visitQuery(c,l){const m=l.currentTimeline.currentTime,E=c.options||{},C=E.delay?jn(E.delay):0;C&&(6===l.previousNode.type||0==m&&l.currentTimeline.hasCurrentStyleProperties())&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=Hr);let U=m;const $=l.invokeQuery(c.selector,c.originalSelector,c.limit,c.includeSelf,!!E.optional,l.errors);l.currentQueryTotal=$.length;let X=null;$.forEach((xe,Tt)=>{l.currentQueryIndex=Tt;const gt=l.createSubContext(c.options,xe);C&&gt.delayNextStep(C),xe===l.element&&(X=gt.currentTimeline),rr(this,c.animation,gt),gt.currentTimeline.applyStylesToKeyframe(),U=Math.max(U,gt.currentTimeline.currentTime)}),l.currentQueryIndex=0,l.currentQueryTotal=0,l.transformIntoNewTimeline(U),X&&(l.currentTimeline.mergeTimelineCollectedStyles(X),l.currentTimeline.snapshotCurrentStyles()),l.previousNode=c}visitStagger(c,l){const m=l.parentContext,E=l.currentTimeline,C=c.timings,U=Math.abs(C.duration),$=U*(l.currentQueryTotal-1);let X=U*l.currentQueryIndex;switch(C.duration<0?"reverse":C.easing){case"reverse":X=$-X;break;case"full":X=m.currentStaggerTime}const Tt=l.currentTimeline;X&&Tt.delayNextStep(X);const gt=Tt.currentTime;rr(this,c.animation,l),l.previousNode=c,m.currentStaggerTime=E.currentTime-gt+(E.startTime-m.currentTimeline.startTime)}}const Hr={};class dr{constructor(c,l,m,E,C,U,$,X){this._driver=c,this.element=l,this.subInstructions=m,this._enterClassName=E,this._leaveClassName=C,this.errors=U,this.timelines=$,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Hr,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=X||new Jn(this._driver,l,0),$.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(c,l){if(!c)return;const m=c;let E=this.options;null!=m.duration&&(E.duration=jn(m.duration)),null!=m.delay&&(E.delay=jn(m.delay));const C=m.params;if(C){let U=E.params;U||(U=this.options.params={}),Object.keys(C).forEach($=>{(!l||!U.hasOwnProperty($))&&(U[$]=Vn(C[$],U,this.errors))})}}_copyOptions(){const c={};if(this.options){const l=this.options.params;if(l){const m=c.params={};Object.keys(l).forEach(E=>{m[E]=l[E]})}}return c}createSubContext(c=null,l,m){const E=l||this.element,C=new dr(this._driver,E,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(E,m||0));return C.previousNode=this.previousNode,C.currentAnimateTimings=this.currentAnimateTimings,C.options=this._copyOptions(),C.updateOptions(c),C.currentQueryIndex=this.currentQueryIndex,C.currentQueryTotal=this.currentQueryTotal,C.parentContext=this,this.subContextCount++,C}transformIntoNewTimeline(c){return this.previousNode=Hr,this.currentTimeline=this.currentTimeline.fork(this.element,c),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(c,l,m){const E={duration:l??c.duration,delay:this.currentTimeline.currentTime+(m??0)+c.delay,easing:""},C=new Xs(this._driver,c.element,c.keyframes,c.preStyleProps,c.postStyleProps,E,c.stretchStartingKeyframe);return this.timelines.push(C),E}incrementTime(c){this.currentTimeline.forwardTime(this.currentTimeline.duration+c)}delayNextStep(c){c>0&&this.currentTimeline.delayNextStep(c)}invokeQuery(c,l,m,E,C,U){let $=[];if(E&&$.push(this.element),c.length>0){c=(c=c.replace(Xt,"."+this._enterClassName)).replace(fr,"."+this._leaveClassName);let xe=this._driver.query(this.element,c,1!=m);0!==m&&(xe=m<0?xe.slice(xe.length+m,xe.length):xe.slice(0,m)),$.push(...xe)}return!C&&0==$.length&&U.push(function Wt(f){return new k.vHH(3014,!1)}()),$}}class Jn{constructor(c,l,m,E){this._driver=c,this.element=l,this.startTime=m,this._elementTimelineStylesLookup=E,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(l),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(l,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(c){const l=1===this._keyframes.size&&this._pendingStyles.size;this.duration||l?(this.forwardTime(this.currentTime+c),l&&this.snapshotCurrentStyles()):this.startTime+=c}fork(c,l){return this.applyStylesToKeyframe(),new Jn(this._driver,c,l||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(c){this.applyStylesToKeyframe(),this.duration=c,this._loadKeyframe()}_updateStyle(c,l){this._localTimelineStyles.set(c,l),this._globalTimelineStyles.set(c,l),this._styleSummary.set(c,{time:this.currentTime,value:l})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(c){c&&this._previousKeyframe.set("easing",c);for(let[l,m]of this._globalTimelineStyles)this._backFill.set(l,m||Wn.l3),this._currentKeyframe.set(l,Wn.l3);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(c,l,m,E){l&&this._previousKeyframe.set("easing",l);const C=E&&E.params||{},U=function xi(f,c){const l=new Map;let m;return f.forEach(E=>{if("*"===E){m=m||c.keys();for(let C of m)l.set(C,Wn.l3)}else Mi(E,l)}),l}(c,this._globalTimelineStyles);for(let[$,X]of U){const xe=Vn(X,C,m);this._pendingStyles.set($,xe),this._localTimelineStyles.has($)||this._backFill.set($,this._globalTimelineStyles.get($)??Wn.l3),this._updateStyle($,xe)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((c,l)=>{this._currentKeyframe.set(l,c)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((c,l)=>{this._currentKeyframe.has(l)||this._currentKeyframe.set(l,c)}))}snapshotCurrentStyles(){for(let[c,l]of this._localTimelineStyles)this._pendingStyles.set(c,l),this._updateStyle(c,l)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const c=[];for(let l in this._currentKeyframe)c.push(l);return c}mergeTimelineCollectedStyles(c){c._styleSummary.forEach((l,m)=>{const E=this._styleSummary.get(m);(!E||l.time>E.time)&&this._updateStyle(m,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const c=new Set,l=new Set,m=1===this._keyframes.size&&0===this.duration;let E=[];this._keyframes.forEach(($,X)=>{const xe=Mi($,new Map,this._backFill);xe.forEach((Tt,gt)=>{Tt===Wn.k1?c.add(gt):Tt===Wn.l3&&l.add(gt)}),m||xe.set("offset",X/this.duration),E.push(xe)});const C=c.size?us(c.values()):[],U=l.size?us(l.values()):[];if(m){const $=E[0],X=new Map($);$.set("offset",0),X.set("offset",1),E=[$,X]}return Z(this.element,E,C,U,this.duration,this.startTime,this.easing,!1)}}class Xs extends Jn{constructor(c,l,m,E,C,U,$=!1){super(c,l,U.delay),this.keyframes=m,this.preStyleProps=E,this.postStyleProps=C,this._stretchStartingKeyframe=$,this.timings={duration:U.duration,delay:U.delay,easing:U.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let c=this.keyframes,{delay:l,duration:m,easing:E}=this.timings;if(this._stretchStartingKeyframe&&l){const C=[],U=m+l,$=l/U,X=Mi(c[0]);X.set("offset",0),C.push(X);const xe=Mi(c[0]);xe.set("offset",_s($)),C.push(xe);const Tt=c.length-1;for(let gt=1;gt<=Tt;gt++){let sn=Mi(c[gt]);const Dn=sn.get("offset");sn.set("offset",_s((l+Dn*m)/U)),C.push(sn)}m=U,l=0,E="",c=C}return Z(this.element,c,this.preStyleProps,this.postStyleProps,m,l,E,!0)}}function _s(f,c=3){const l=Math.pow(10,c-1);return Math.round(f*l)/l}class $i{}const Xo=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class La extends $i{normalizePropertyName(c,l){return Nr(c)}normalizeStyleValue(c,l,m,E){let C="";const U=m.toString().trim();if(Xo.has(l)&&0!==m&&"0"!==m)if("number"==typeof m)C="px";else{const $=m.match(/^[+-]?[\d\.]+([a-z]*)$/);$&&0==$[1].length&&E.push(function wo(f,c){return new k.vHH(3005,!1)}())}return U+C}}function Jr(f,c,l,m,E,C,U,$,X,xe,Tt,gt,sn){return{type:0,element:f,triggerName:c,isRemovalTransition:E,fromState:l,fromStyles:C,toState:m,toStyles:U,timelines:$,queriedElements:X,preStyleProps:xe,postStyleProps:Tt,totalTime:gt,errors:sn}}const Ko={};class ea{constructor(c,l,m){this._triggerName=c,this.ast=l,this._stateStyles=m}match(c,l,m,E){return function Ea(f,c,l,m,E){return f.some(C=>C(c,l,m,E))}(this.ast.matchers,c,l,m,E)}buildStyles(c,l,m){let E=this._stateStyles.get("*");return void 0!==c&&(E=this._stateStyles.get(c?.toString())||E),E?E.buildStyles(l,m):new Map}build(c,l,m,E,C,U,$,X,xe,Tt){const gt=[],sn=this.ast.options&&this.ast.options.params||Ko,fn=this.buildStyles(m,$&&$.params||Ko,gt),Sn=X&&X.params||Ko,Hn=this.buildStyles(E,Sn,gt),_r=new Set,gr=new Map,Or=new Map,Wr="void"===E,Oi={params:ci(Sn,sn),delay:this.ast.options?.delay},Is=Tt?[]:lr(c,l,this.ast.animation,C,U,fn,Hn,Oi,xe,gt);let Ar=0;if(Is.forEach(di=>{Ar=Math.max(di.duration+di.delay,Ar)}),gt.length)return Jr(l,this._triggerName,m,E,Wr,fn,Hn,[],[],gr,Or,Ar,gt);Is.forEach(di=>{const Os=di.element,no=Yr(gr,Os,new Set);di.preStyleProps.forEach(Mr=>no.add(Mr));const ia=Yr(Or,Os,new Set);di.postStyleProps.forEach(Mr=>ia.add(Mr)),Os!==l&&_r.add(Os)});const Vo=us(_r.values());return Jr(l,this._triggerName,m,E,Wr,fn,Hn,Is,Vo,gr,Or,Ar)}}function ci(f,c){const l=Fr(c);for(const m in f)f.hasOwnProperty(m)&&null!=f[m]&&(l[m]=f[m]);return l}class Fs{constructor(c,l,m){this.styles=c,this.defaultParams=l,this.normalizer=m}buildStyles(c,l){const m=new Map,E=Fr(this.defaultParams);return Object.keys(c).forEach(C=>{const U=c[C];null!==U&&(E[C]=U)}),this.styles.styles.forEach(C=>{"string"!=typeof C&&C.forEach((U,$)=>{U&&(U=Vn(U,E,l));const X=this.normalizer.normalizePropertyName($,l);U=this.normalizer.normalizeStyleValue($,X,U,l),m.set(X,U)})}),m}}class wa{constructor(c,l,m){this.name=c,this.ast=l,this._normalizer=m,this.transitionFactories=[],this.states=new Map,l.states.forEach(E=>{this.states.set(E.name,new Fs(E.style,E.options&&E.options.params||{},m))}),Lt(this.states,"true","1"),Lt(this.states,"false","0"),l.transitions.forEach(E=>{this.transitionFactories.push(new ea(c,E,this.states))}),this.fallbackTransition=function Ia(f,c,l){return new ea(f,{type:1,animation:{type:2,steps:[],options:null},matchers:[(U,$)=>!0],options:null,queryCount:0,depCount:0},c)}(c,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(c,l,m,E){return this.transitionFactories.find(U=>U.match(c,l,m,E))||null}matchStyles(c,l,m){return this.fallbackTransition.buildStyles(c,l,m)}}function Lt(f,c,l){f.has(c)?f.has(l)||f.set(l,f.get(c)):f.has(l)&&f.set(c,f.get(l))}const ni=new ge;class Lr{constructor(c,l,m){this.bodyNode=c,this._driver=l,this._normalizer=m,this._animations=new Map,this._playersById=new Map,this.players=[]}register(c,l){const m=[],C=ks(this._driver,l,m,[]);if(m.length)throw function Ss(f){return new k.vHH(3503,!1)}();this._animations.set(c,C)}_buildPlayer(c,l,m){const E=c.element,C=mi(0,this._normalizer,0,c.keyframes,l,m);return this._driver.animate(E,C,c.duration,c.delay,c.easing,[],!0)}create(c,l,m={}){const E=[],C=this._animations.get(c);let U;const $=new Map;if(C?(U=lr(this._driver,l,C,lo,ui,new Map,new Map,m,ni,E),U.forEach(Tt=>{const gt=Yr($,Tt.element,new Map);Tt.postStyleProps.forEach(sn=>gt.set(sn,null))})):(E.push(function gi(){return new k.vHH(3300,!1)}()),U=[]),E.length)throw function Ws(f){return new k.vHH(3504,!1)}();$.forEach((Tt,gt)=>{Tt.forEach((sn,Dn)=>{Tt.set(Dn,this._driver.computeStyle(gt,Dn,Wn.l3))})});const xe=Ci(U.map(Tt=>{const gt=$.get(Tt.element);return this._buildPlayer(Tt,new Map,gt)}));return this._playersById.set(c,xe),xe.onDestroy(()=>this.destroy(c)),this.players.push(xe),xe}destroy(c){const l=this._getPlayer(c);l.destroy(),this._playersById.delete(c);const m=this.players.indexOf(l);m>=0&&this.players.splice(m,1)}_getPlayer(c){const l=this._playersById.get(c);if(!l)throw function zi(f){return new k.vHH(3301,!1)}();return l}listen(c,l,m,E){const C=qi(l,"","","");return Ki(this._getPlayer(c),m,C,E),()=>{}}command(c,l,m,E){if("register"==m)return void this.register(c,E[0]);if("create"==m)return void this.create(c,l,E[0]||{});const C=this._getPlayer(c);switch(m){case"play":C.play();break;case"pause":C.pause();break;case"reset":C.reset();break;case"restart":C.restart();break;case"finish":C.finish();break;case"init":C.init();break;case"setPosition":C.setPosition(parseFloat(E[0]));break;case"destroy":this.destroy(c)}}}const la="ng-animate-queued",Rn="ng-animate-disabled",Et=[],_i={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ri={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Es="__ng_removed";class Ns{constructor(c,l=""){this.namespaceId=l;const m=c&&c.hasOwnProperty("value");if(this.value=function na(f){return f??null}(m?c.value:c),m){const C=Fr(c);delete C.value,this.options=C}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(c){const l=c.params;if(l){const m=this.options.params;Object.keys(l).forEach(E=>{null==m[E]&&(m[E]=l[E])})}}}const To="void",ca=new Ns(To);class da{constructor(c,l,m){this.id=c,this.hostElement=l,this._engine=m,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+c,gn(l,this._hostClassName)}listen(c,l,m,E){if(!this._triggers.has(l))throw function Go(f,c){return new k.vHH(3302,!1)}();if(null==m||0==m.length)throw function Wi(f){return new k.vHH(3303,!1)}();if(!function $n(f){return"start"==f||"done"==f}(m))throw function Mo(f,c){return new k.vHH(3400,!1)}();const C=Yr(this._elementListeners,c,[]),U={name:l,phase:m,callback:E};C.push(U);const $=Yr(this._engine.statesByElement,c,new Map);return $.has(l)||(gn(c,xr),gn(c,xr+"-"+l),$.set(l,ca)),()=>{this._engine.afterFlush(()=>{const X=C.indexOf(U);X>=0&&C.splice(X,1),this._triggers.has(l)||$.delete(l)})}}register(c,l){return!this._triggers.has(c)&&(this._triggers.set(c,l),!0)}_getTrigger(c){const l=this._triggers.get(c);if(!l)throw function Io(f){return new k.vHH(3401,!1)}();return l}trigger(c,l,m,E=!0){const C=this._getTrigger(l),U=new ta(this.id,l,c);let $=this._engine.statesByElement.get(c);$||(gn(c,xr),gn(c,xr+"-"+l),this._engine.statesByElement.set(c,$=new Map));let X=$.get(l);const xe=new Ns(m,this.id);if(!(m&&m.hasOwnProperty("value"))&&X&&xe.absorbOptions(X.options),$.set(l,xe),X||(X=ca),xe.value!==To&&X.value===xe.value){if(!function Yt(f,c){const l=Object.keys(f),m=Object.keys(c);if(l.length!=m.length)return!1;for(let E=0;E<l.length;E++){const C=l[E];if(!c.hasOwnProperty(C)||f[C]!==c[C])return!1}return!0}(X.params,xe.params)){const Sn=[],Hn=C.matchStyles(X.value,X.params,Sn),_r=C.matchStyles(xe.value,xe.params,Sn);Sn.length?this._engine.reportError(Sn):this._engine.afterFlush(()=>{Ui(c,Hn),li(c,_r)})}return}const sn=Yr(this._engine.playersByElement,c,[]);sn.forEach(Sn=>{Sn.namespaceId==this.id&&Sn.triggerName==l&&Sn.queued&&Sn.destroy()});let Dn=C.matchTransition(X.value,xe.value,c,xe.params),fn=!1;if(!Dn){if(!E)return;Dn=C.fallbackTransition,fn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:l,transition:Dn,fromState:X,toState:xe,player:U,isFallbackTransition:fn}),fn||(gn(c,la),U.onStart(()=>{Ni(c,la)})),U.onDone(()=>{let Sn=this.players.indexOf(U);Sn>=0&&this.players.splice(Sn,1);const Hn=this._engine.playersByElement.get(c);if(Hn){let _r=Hn.indexOf(U);_r>=0&&Hn.splice(_r,1)}}),this.players.push(U),sn.push(U),U}deregister(c){this._triggers.delete(c),this._engine.statesByElement.forEach(l=>l.delete(c)),this._elementListeners.forEach((l,m)=>{this._elementListeners.set(m,l.filter(E=>E.name!=c))})}clearElementCache(c){this._engine.statesByElement.delete(c),this._elementListeners.delete(c);const l=this._engine.playersByElement.get(c);l&&(l.forEach(m=>m.destroy()),this._engine.playersByElement.delete(c))}_signalRemovalForInnerTriggers(c,l){const m=this._engine.driver.query(c,Qr,!0);m.forEach(E=>{if(E[Es])return;const C=this._engine.fetchNamespacesByElement(E);C.size?C.forEach(U=>U.triggerLeaveAnimation(E,l,!1,!0)):this.clearElementCache(E)}),this._engine.afterFlushAnimationsDone(()=>m.forEach(E=>this.clearElementCache(E)))}triggerLeaveAnimation(c,l,m,E){const C=this._engine.statesByElement.get(c),U=new Map;if(C){const $=[];if(C.forEach((X,xe)=>{if(U.set(xe,X.value),this._triggers.has(xe)){const Tt=this.trigger(c,xe,To,E);Tt&&$.push(Tt)}}),$.length)return this._engine.markElementAsRemoved(this.id,c,!0,l,U),m&&Ci($).onDone(()=>this._engine.processLeaveNode(c)),!0}return!1}prepareLeaveAnimationListeners(c){const l=this._elementListeners.get(c),m=this._engine.statesByElement.get(c);if(l&&m){const E=new Set;l.forEach(C=>{const U=C.name;if(E.has(U))return;E.add(U);const X=this._triggers.get(U).fallbackTransition,xe=m.get(U)||ca,Tt=new Ns(To),gt=new ta(this.id,U,c);this._engine.totalQueuedPlayers++,this._queue.push({element:c,triggerName:U,transition:X,fromState:xe,toState:Tt,player:gt,isFallbackTransition:!0})})}}removeNode(c,l){const m=this._engine;if(c.childElementCount&&this._signalRemovalForInnerTriggers(c,l),this.triggerLeaveAnimation(c,l,!0))return;let E=!1;if(m.totalAnimations){const C=m.players.length?m.playersByQueriedElement.get(c):[];if(C&&C.length)E=!0;else{let U=c;for(;U=U.parentNode;)if(m.statesByElement.get(U)){E=!0;break}}}if(this.prepareLeaveAnimationListeners(c),E)m.markElementAsRemoved(this.id,c,!1,l);else{const C=c[Es];(!C||C===_i)&&(m.afterFlush(()=>this.clearElementCache(c)),m.destroyInnerAnimations(c),m._onRemovalComplete(c,l))}}insertNode(c,l){gn(c,this._hostClassName)}drainQueuedTransitions(c){const l=[];return this._queue.forEach(m=>{const E=m.player;if(E.destroyed)return;const C=m.element,U=this._elementListeners.get(C);U&&U.forEach($=>{if($.name==m.triggerName){const X=qi(C,m.triggerName,m.fromState.value,m.toState.value);X._data=c,Ki(m.player,$.phase,X,$.callback)}}),E.markedForDestroy?this._engine.afterFlush(()=>{E.destroy()}):l.push(m)}),this._queue=[],l.sort((m,E)=>{const C=m.transition.ast.depCount,U=E.transition.ast.depCount;return 0==C||0==U?C-U:this._engine.driver.containsElement(m.element,E.element)?1:-1})}destroy(c){this.players.forEach(l=>l.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,c)}elementContainsData(c){let l=!1;return this._elementListeners.has(c)&&(l=!0),l=!!this._queue.find(m=>m.element===c)||l,l}}class fo{constructor(c,l,m){this.bodyNode=c,this.driver=l,this._normalizer=m,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(E,C)=>{}}_onRemovalComplete(c,l){this.onRemovalComplete(c,l)}get queuedPlayers(){const c=[];return this._namespaceList.forEach(l=>{l.players.forEach(m=>{m.queued&&c.push(m)})}),c}createNamespace(c,l){const m=new da(c,l,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,l)?this._balanceNamespaceList(m,l):(this.newHostElements.set(l,m),this.collectEnterElement(l)),this._namespaceLookup[c]=m}_balanceNamespaceList(c,l){const m=this._namespaceList,E=this.namespacesByHostElement;if(m.length-1>=0){let U=!1,$=this.driver.getParentElement(l);for(;$;){const X=E.get($);if(X){const xe=m.indexOf(X);m.splice(xe+1,0,c),U=!0;break}$=this.driver.getParentElement($)}U||m.unshift(c)}else m.push(c);return E.set(l,c),c}register(c,l){let m=this._namespaceLookup[c];return m||(m=this.createNamespace(c,l)),m}registerTrigger(c,l,m){let E=this._namespaceLookup[c];E&&E.register(l,m)&&this.totalAnimations++}destroy(c,l){if(!c)return;const m=this._fetchNamespace(c);this.afterFlush(()=>{this.namespacesByHostElement.delete(m.hostElement),delete this._namespaceLookup[c];const E=this._namespaceList.indexOf(m);E>=0&&this._namespaceList.splice(E,1)}),this.afterFlushAnimationsDone(()=>m.destroy(l))}_fetchNamespace(c){return this._namespaceLookup[c]}fetchNamespacesByElement(c){const l=new Set,m=this.statesByElement.get(c);if(m)for(let E of m.values())if(E.namespaceId){const C=this._fetchNamespace(E.namespaceId);C&&l.add(C)}return l}trigger(c,l,m,E){if(eo(l)){const C=this._fetchNamespace(c);if(C)return C.trigger(l,m,E),!0}return!1}insertNode(c,l,m,E){if(!eo(l))return;const C=l[Es];if(C&&C.setForRemoval){C.setForRemoval=!1,C.setForMove=!0;const U=this.collectedLeaveElements.indexOf(l);U>=0&&this.collectedLeaveElements.splice(U,1)}if(c){const U=this._fetchNamespace(c);U&&U.insertNode(l,m)}E&&this.collectEnterElement(l)}collectEnterElement(c){this.collectedEnterElements.push(c)}markElementAsDisabled(c,l){l?this.disabledNodes.has(c)||(this.disabledNodes.add(c),gn(c,Rn)):this.disabledNodes.has(c)&&(this.disabledNodes.delete(c),Ni(c,Rn))}removeNode(c,l,m,E){if(eo(l)){const C=c?this._fetchNamespace(c):null;if(C?C.removeNode(l,E):this.markElementAsRemoved(c,l,!1,E),m){const U=this.namespacesByHostElement.get(l);U&&U.id!==c&&U.removeNode(l,E)}}else this._onRemovalComplete(l,E)}markElementAsRemoved(c,l,m,E,C){this.collectedLeaveElements.push(l),l[Es]={namespaceId:c,setForRemoval:E,hasAnimation:m,removedBeforeQueried:!1,previousTriggersValues:C}}listen(c,l,m,E,C){return eo(l)?this._fetchNamespace(c).listen(l,m,E,C):()=>{}}_buildInstruction(c,l,m,E,C){return c.transition.build(this.driver,c.element,c.fromState.value,c.toState.value,m,E,c.fromState.options,c.toState.options,l,C)}destroyInnerAnimations(c){let l=this.driver.query(c,Qr,!0);l.forEach(m=>this.destroyActiveAnimationsForElement(m)),0!=this.playersByQueriedElement.size&&(l=this.driver.query(c,Ai,!0),l.forEach(m=>this.finishActiveQueriedAnimationOnElement(m)))}destroyActiveAnimationsForElement(c){const l=this.playersByElement.get(c);l&&l.forEach(m=>{m.queued?m.markedForDestroy=!0:m.destroy()})}finishActiveQueriedAnimationOnElement(c){const l=this.playersByQueriedElement.get(c);l&&l.forEach(m=>m.finish())}whenRenderingDone(){return new Promise(c=>{if(this.players.length)return Ci(this.players).onDone(()=>c());c()})}processLeaveNode(c){const l=c[Es];if(l&&l.setForRemoval){if(c[Es]=_i,l.namespaceId){this.destroyInnerAnimations(c);const m=this._fetchNamespace(l.namespaceId);m&&m.clearElementCache(c)}this._onRemovalComplete(c,l.setForRemoval)}c.classList?.contains(Rn)&&this.markElementAsDisabled(c,!1),this.driver.query(c,".ng-animate-disabled",!0).forEach(m=>{this.markElementAsDisabled(m,!1)})}flush(c=-1){let l=[];if(this.newHostElements.size&&(this.newHostElements.forEach((m,E)=>this._balanceNamespaceList(m,E)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let m=0;m<this.collectedEnterElements.length;m++)gn(this.collectedEnterElements[m],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const m=[];try{l=this._flushAnimations(m,c)}finally{for(let E=0;E<m.length;E++)m[E]()}}else for(let m=0;m<this.collectedLeaveElements.length;m++)this.processLeaveNode(this.collectedLeaveElements[m]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(m=>m()),this._flushFns=[],this._whenQuietFns.length){const m=this._whenQuietFns;this._whenQuietFns=[],l.length?Ci(l).onDone(()=>{m.forEach(E=>E())}):m.forEach(E=>E())}}reportError(c){throw function xo(f){return new k.vHH(3402,!1)}()}_flushAnimations(c,l){const m=new ge,E=[],C=new Map,U=[],$=new Map,X=new Map,xe=new Map,Tt=new Set;this.disabledNodes.forEach(S=>{Tt.add(S);const O=this.driver.query(S,".ng-animate-queued",!0);for(let W=0;W<O.length;W++)Tt.add(O[W])});const gt=this.bodyNode,sn=Array.from(this.statesByElement.keys()),Dn=pr(sn,this.collectedEnterElements),fn=new Map;let Sn=0;Dn.forEach((S,O)=>{const W=lo+Sn++;fn.set(O,W),S.forEach(re=>gn(re,W))});const Hn=[],_r=new Set,gr=new Set;for(let S=0;S<this.collectedLeaveElements.length;S++){const O=this.collectedLeaveElements[S],W=O[Es];W&&W.setForRemoval&&(Hn.push(O),_r.add(O),W.hasAnimation?this.driver.query(O,".ng-star-inserted",!0).forEach(re=>_r.add(re)):gr.add(O))}const Or=new Map,Wr=pr(sn,Array.from(_r));Wr.forEach((S,O)=>{const W=ui+Sn++;Or.set(O,W),S.forEach(re=>gn(re,W))}),c.push(()=>{Dn.forEach((S,O)=>{const W=fn.get(O);S.forEach(re=>Ni(re,W))}),Wr.forEach((S,O)=>{const W=Or.get(O);S.forEach(re=>Ni(re,W))}),Hn.forEach(S=>{this.processLeaveNode(S)})});const Oi=[],Is=[];for(let S=this._namespaceList.length-1;S>=0;S--)this._namespaceList[S].drainQueuedTransitions(l).forEach(W=>{const re=W.player,Fe=W.element;if(Oi.push(re),this.collectedEnterElements.length){const an=Fe[Es];if(an&&an.setForMove){if(an.previousTriggersValues&&an.previousTriggersValues.has(W.triggerName)){const Cr=an.previousTriggersValues.get(W.triggerName),Kr=this.statesByElement.get(W.element);if(Kr&&Kr.has(W.triggerName)){const _o=Kr.get(W.triggerName);_o.value=Cr,Kr.set(W.triggerName,_o)}}return void re.destroy()}}const it=!gt||!this.driver.containsElement(gt,Fe),wt=Or.get(Fe),kt=fn.get(Fe),Jt=this._buildInstruction(W,m,kt,wt,it);if(Jt.errors&&Jt.errors.length)return void Is.push(Jt);if(it)return re.onStart(()=>Ui(Fe,Jt.fromStyles)),re.onDestroy(()=>li(Fe,Jt.toStyles)),void E.push(re);if(W.isFallbackTransition)return re.onStart(()=>Ui(Fe,Jt.fromStyles)),re.onDestroy(()=>li(Fe,Jt.toStyles)),void E.push(re);const dn=[];Jt.timelines.forEach(an=>{an.stretchStartingKeyframe=!0,this.disabledNodes.has(an.element)||dn.push(an)}),Jt.timelines=dn,m.append(Fe,Jt.timelines),U.push({instruction:Jt,player:re,element:Fe}),Jt.queriedElements.forEach(an=>Yr($,an,[]).push(re)),Jt.preStyleProps.forEach((an,Cr)=>{if(an.size){let Kr=X.get(Cr);Kr||X.set(Cr,Kr=new Set),an.forEach((_o,Uo)=>Kr.add(Uo))}}),Jt.postStyleProps.forEach((an,Cr)=>{let Kr=xe.get(Cr);Kr||xe.set(Cr,Kr=new Set),an.forEach((_o,Uo)=>Kr.add(Uo))})});if(Is.length){const S=[];Is.forEach(O=>{S.push(function ps(f,c){return new k.vHH(3505,!1)}())}),Oi.forEach(O=>O.destroy()),this.reportError(S)}const Ar=new Map,Vo=new Map;U.forEach(S=>{const O=S.element;m.has(O)&&(Vo.set(O,O),this._beforeAnimationBuild(S.player.namespaceId,S.instruction,Ar))}),E.forEach(S=>{const O=S.element;this._getPreviousPlayers(O,!1,S.namespaceId,S.triggerName,null).forEach(re=>{Yr(Ar,O,[]).push(re),re.destroy()})});const di=Hn.filter(S=>So(S,X,xe)),Os=new Map;Gr(Os,this.driver,gr,xe,Wn.l3).forEach(S=>{So(S,X,xe)&&di.push(S)});const ia=new Map;Dn.forEach((S,O)=>{Gr(ia,this.driver,new Set(S),X,Wn.k1)}),di.forEach(S=>{const O=Os.get(S),W=ia.get(S);Os.set(S,new Map([...Array.from(O?.entries()??[]),...Array.from(W?.entries()??[])]))});const Mr=[],Sa=[],Qa={};U.forEach(S=>{const{element:O,player:W,instruction:re}=S;if(m.has(O)){if(Tt.has(O))return W.onDestroy(()=>li(O,re.toStyles)),W.disabled=!0,W.overrideTotalTime(re.totalTime),void E.push(W);let Fe=Qa;if(Vo.size>1){let wt=O;const kt=[];for(;wt=wt.parentNode;){const Jt=Vo.get(wt);if(Jt){Fe=Jt;break}kt.push(wt)}kt.forEach(Jt=>Vo.set(Jt,Fe))}const it=this._buildAnimation(W.namespaceId,re,Ar,C,ia,Os);if(W.setRealPlayer(it),Fe===Qa)Mr.push(W);else{const wt=this.playersByElement.get(Fe);wt&&wt.length&&(W.parentPlayer=Ci(wt)),E.push(W)}}else Ui(O,re.fromStyles),W.onDestroy(()=>li(O,re.toStyles)),Sa.push(W),Tt.has(O)&&E.push(W)}),Sa.forEach(S=>{const O=C.get(S.element);if(O&&O.length){const W=Ci(O);S.setRealPlayer(W)}}),E.forEach(S=>{S.parentPlayer?S.syncPlayerEvents(S.parentPlayer):S.destroy()});for(let S=0;S<Hn.length;S++){const O=Hn[S],W=O[Es];if(Ni(O,ui),W&&W.hasAnimation)continue;let re=[];if($.size){let it=$.get(O);it&&it.length&&re.push(...it);let wt=this.driver.query(O,Ai,!0);for(let kt=0;kt<wt.length;kt++){let Jt=$.get(wt[kt]);Jt&&Jt.length&&re.push(...Jt)}}const Fe=re.filter(it=>!it.destroyed);Fe.length?Xn(this,O,Fe):this.processLeaveNode(O)}return Hn.length=0,Mr.forEach(S=>{this.players.push(S),S.onDone(()=>{S.destroy();const O=this.players.indexOf(S);this.players.splice(O,1)}),S.play()}),Mr}elementContainsData(c,l){let m=!1;const E=l[Es];return E&&E.setForRemoval&&(m=!0),this.playersByElement.has(l)&&(m=!0),this.playersByQueriedElement.has(l)&&(m=!0),this.statesByElement.has(l)&&(m=!0),this._fetchNamespace(c).elementContainsData(l)||m}afterFlush(c){this._flushFns.push(c)}afterFlushAnimationsDone(c){this._whenQuietFns.push(c)}_getPreviousPlayers(c,l,m,E,C){let U=[];if(l){const $=this.playersByQueriedElement.get(c);$&&(U=$)}else{const $=this.playersByElement.get(c);if($){const X=!C||C==To;$.forEach(xe=>{xe.queued||!X&&xe.triggerName!=E||U.push(xe)})}}return(m||E)&&(U=U.filter($=>!(m&&m!=$.namespaceId||E&&E!=$.triggerName))),U}_beforeAnimationBuild(c,l,m){const C=l.element,U=l.isRemovalTransition?void 0:c,$=l.isRemovalTransition?void 0:l.triggerName;for(const X of l.timelines){const xe=X.element,Tt=xe!==C,gt=Yr(m,xe,[]);this._getPreviousPlayers(xe,Tt,U,$,l.toState).forEach(Dn=>{const fn=Dn.getRealPlayer();fn.beforeDestroy&&fn.beforeDestroy(),Dn.destroy(),gt.push(Dn)})}Ui(C,l.fromStyles)}_buildAnimation(c,l,m,E,C,U){const $=l.triggerName,X=l.element,xe=[],Tt=new Set,gt=new Set,sn=l.timelines.map(fn=>{const Sn=fn.element;Tt.add(Sn);const Hn=Sn[Es];if(Hn&&Hn.removedBeforeQueried)return new Wn.ZN(fn.duration,fn.delay);const _r=Sn!==X,gr=function qo(f){const c=[];return zr(f,c),c}((m.get(Sn)||Et).map(Ar=>Ar.getRealPlayer())).filter(Ar=>!!Ar.element&&Ar.element===Sn),Or=C.get(Sn),Wr=U.get(Sn),Oi=mi(0,this._normalizer,0,fn.keyframes,Or,Wr),Is=this._buildPlayer(fn,Oi,gr);if(fn.subTimeline&&E&&gt.add(Sn),_r){const Ar=new ta(c,$,Sn);Ar.setRealPlayer(Is),xe.push(Ar)}return Is});xe.forEach(fn=>{Yr(this.playersByQueriedElement,fn.element,[]).push(fn),fn.onDone(()=>function Ca(f,c,l){let m=f.get(c);if(m){if(m.length){const E=m.indexOf(l);m.splice(E,1)}0==m.length&&f.delete(c)}return m}(this.playersByQueriedElement,fn.element,fn))}),Tt.forEach(fn=>gn(fn,Zs));const Dn=Ci(sn);return Dn.onDestroy(()=>{Tt.forEach(fn=>Ni(fn,Zs)),li(X,l.toStyles)}),gt.forEach(fn=>{Yr(E,fn,[]).push(Dn)}),Dn}_buildPlayer(c,l,m){return l.length>0?this.driver.animate(c.element,l,c.duration,c.delay,c.easing,m):new Wn.ZN(c.duration,c.delay)}}class ta{constructor(c,l,m){this.namespaceId=c,this.triggerName=l,this.element=m,this._player=new Wn.ZN,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(c){this._containsRealPlayer||(this._player=c,this._queuedCallbacks.forEach((l,m)=>{l.forEach(E=>Ki(c,m,void 0,E))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(c.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(c){this.totalTime=c}syncPlayerEvents(c){const l=this._player;l.triggerCallback&&c.onStart(()=>l.triggerCallback("start")),c.onDone(()=>this.finish()),c.onDestroy(()=>this.destroy())}_queueEvent(c,l){Yr(this._queuedCallbacks,c,[]).push(l)}onDone(c){this.queued&&this._queueEvent("done",c),this._player.onDone(c)}onStart(c){this.queued&&this._queueEvent("start",c),this._player.onStart(c)}onDestroy(c){this.queued&&this._queueEvent("destroy",c),this._player.onDestroy(c)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(c){this.queued||this._player.setPosition(c)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(c){const l=this._player;l.triggerCallback&&l.triggerCallback(c)}}function eo(f){return f&&1===f.nodeType}function Vs(f,c){const l=f.style.display;return f.style.display=c??"none",l}function Gr(f,c,l,m,E){const C=[];l.forEach(X=>C.push(Vs(X)));const U=[];m.forEach((X,xe)=>{const Tt=new Map;X.forEach(gt=>{const sn=c.computeStyle(xe,gt,E);Tt.set(gt,sn),(!sn||0==sn.length)&&(xe[Es]=Ri,U.push(xe))}),f.set(xe,Tt)});let $=0;return l.forEach(X=>Vs(X,C[$++])),U}function pr(f,c){const l=new Map;if(f.forEach($=>l.set($,[])),0==c.length)return l;const E=new Set(c),C=new Map;function U($){if(!$)return 1;let X=C.get($);if(X)return X;const xe=$.parentNode;return X=l.has(xe)?xe:E.has(xe)?1:U(xe),C.set($,X),X}return c.forEach($=>{const X=U($);1!==X&&l.get(X).push($)}),l}function gn(f,c){f.classList?.add(c)}function Ni(f,c){f.classList?.remove(c)}function Xn(f,c,l){Ci(l).onDone(()=>f.processLeaveNode(c))}function zr(f,c){for(let l=0;l<f.length;l++){const m=f[l];m instanceof Wn.ZE?zr(m.players,c):c.push(m)}}function So(f,c,l){const m=l.get(f);if(!m)return!1;let E=c.get(f);return E?m.forEach(C=>E.add(C)):c.set(f,m),l.delete(f),!0}class ha{constructor(c,l,m){this.bodyNode=c,this._driver=l,this._normalizer=m,this._triggerCache={},this.onRemovalComplete=(E,C)=>{},this._transitionEngine=new fo(c,l,m),this._timelineEngine=new Lr(c,l,m),this._transitionEngine.onRemovalComplete=(E,C)=>this.onRemovalComplete(E,C)}registerTrigger(c,l,m,E,C){const U=c+"-"+E;let $=this._triggerCache[U];if(!$){const X=[],Tt=ks(this._driver,C,X,[]);if(X.length)throw function rs(f,c){return new k.vHH(3404,!1)}();$=function Ls(f,c,l){return new wa(f,c,l)}(E,Tt,this._normalizer),this._triggerCache[U]=$}this._transitionEngine.registerTrigger(l,E,$)}register(c,l){this._transitionEngine.register(c,l)}destroy(c,l){this._transitionEngine.destroy(c,l)}onInsert(c,l,m,E){this._transitionEngine.insertNode(c,l,m,E)}onRemove(c,l,m,E){this._transitionEngine.removeNode(c,l,E||!1,m)}disableAnimations(c,l){this._transitionEngine.markElementAsDisabled(c,l)}process(c,l,m,E){if("@"==m.charAt(0)){const[C,U]=As(m);this._timelineEngine.command(C,l,U,E)}else this._transitionEngine.trigger(c,l,m,E)}listen(c,l,m,E,C){if("@"==m.charAt(0)){const[U,$]=As(m);return this._timelineEngine.listen(U,l,$,C)}return this._transitionEngine.listen(c,l,m,E,C)}flush(c=-1){this._transitionEngine.flush(c)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let fa=(()=>{class f{constructor(l,m,E){this._element=l,this._startStyles=m,this._endStyles=E,this._state=0;let C=f.initialStylesByElement.get(l);C||f.initialStylesByElement.set(l,C=new Map),this._initialStyles=C}start(){this._state<1&&(this._startStyles&&li(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(li(this._element,this._initialStyles),this._endStyles&&(li(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(f.initialStylesByElement.delete(this._element),this._startStyles&&(Ui(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ui(this._element,this._endStyles),this._endStyles=null),li(this._element,this._initialStyles),this._state=3)}}return f.initialStylesByElement=new WeakMap,f})();function ei(f){let c=null;return f.forEach((l,m)=>{(function go(f){return"display"===f||"position"===f})(m)&&(c=c||new Map,c.set(m,l))}),c}class Us{constructor(c,l,m,E){this.element=c,this.keyframes=l,this.options=m,this._specialStyles=E,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=m.duration,this._delay=m.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(c=>c()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const c=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,c,this.options),this._finalKeyframe=c.length?c[c.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(c){const l=[];return c.forEach(m=>{l.push(Object.fromEntries(m))}),l}_triggerWebAnimation(c,l,m){return c.animate(this._convertKeyframesToObject(l),m)}onStart(c){this._originalOnStartFns.push(c),this._onStartFns.push(c)}onDone(c){this._originalOnDoneFns.push(c),this._onDoneFns.push(c)}onDestroy(c){this._onDestroyFns.push(c)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(c=>c()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(c=>c()),this._onDestroyFns=[])}setPosition(c){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=c*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const c=new Map;this.hasStarted()&&this._finalKeyframe.forEach((m,E)=>{"offset"!==E&&c.set(E,this._finished?m:Qs(this.element,E))}),this.currentSnapshot=c}triggerCallback(c){const l="start"===c?this._onStartFns:this._onDoneFns;l.forEach(m=>m()),l.length=0}}class Fo{validateStyleProperty(c){return!0}validateAnimatableStyleProperty(c){return!0}matchesElement(c,l){return!1}containsElement(c,l){return yi(c,l)}getParentElement(c){return bi(c)}query(c,l,m){return Qi(c,l,m)}computeStyle(c,l,m){return window.getComputedStyle(c)[l]}animate(c,l,m,E,C,U=[]){const X={duration:m,delay:E,fill:0==E?"both":"forwards"};C&&(X.easing=C);const xe=new Map,Tt=U.filter(Dn=>Dn instanceof Us);(function Ys(f,c){return 0===f||0===c})(m,E)&&Tt.forEach(Dn=>{Dn.currentSnapshot.forEach((fn,Sn)=>xe.set(Sn,fn))});let gt=function Rr(f){return f.length?f[0]instanceof Map?f:f.map(c=>Xr(c)):[]}(l).map(Dn=>Mi(Dn));gt=function vi(f,c,l){if(l.size&&c.length){let m=c[0],E=[];if(l.forEach((C,U)=>{m.has(U)||E.push(U),m.set(U,C)}),E.length)for(let C=1;C<c.length;C++){let U=c[C];E.forEach($=>U.set($,Qs(f,$)))}}return c}(c,gt,xe);const sn=function po(f,c){let l=null,m=null;return Array.isArray(c)&&c.length?(l=ei(c[0]),c.length>1&&(m=ei(c[c.length-1]))):c instanceof Map&&(l=ei(c)),l||m?new fa(f,l,m):null}(c,gt);return new Us(c,gt,X,sn)}}let mo=(()=>{class f extends Wn._j{constructor(l,m){super(),this._nextAnimationId=0,this._renderer=l.createRenderer(m.body,{id:"0",encapsulation:k.ifc.None,styles:[],data:{animation:[]}})}build(l){const m=this._nextAnimationId.toString();this._nextAnimationId++;const E=Array.isArray(l)?(0,Wn.vP)(l):l;return ra(this._renderer,null,m,"register",[E]),new ri(m,this._renderer)}}return f.\u0275fac=function(l){return new(l||f)(k.LFG(k.FYo),k.LFG(de.K0))},f.\u0275prov=k.Yz7({token:f,factory:f.\u0275fac}),f})();class ri extends Wn.LC{constructor(c,l){super(),this._id=c,this._renderer=l}create(c,l){return new Bs(this._id,c,l||{},this._renderer)}}class Bs{constructor(c,l,m,E){this.id=c,this.element=l,this._renderer=E,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",m)}_listen(c,l){return this._renderer.listen(this.element,`@@${this.id}:${c}`,l)}_command(c,...l){return ra(this._renderer,this.element,this.id,c,l)}onDone(c){this._listen("done",c)}onStart(c){this._listen("start",c)}onDestroy(c){this._listen("destroy",c)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(c){this._command("setPosition",c)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function ra(f,c,l,m,E){return f.setProperty(c,`@@${l}:${m}`,E)}const yo="@.disabled";let ba=(()=>{class f{constructor(l,m,E){this.delegate=l,this.engine=m,this._zone=E,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),m.onRemovalComplete=(C,U)=>{const $=U?.parentNode(C);$&&U.removeChild($,C)}}createRenderer(l,m){const C=this.delegate.createRenderer(l,m);if(!(l&&m&&m.data&&m.data.animation)){let Tt=this._rendererCache.get(C);return Tt||(Tt=new lt("",C,this.engine),this._rendererCache.set(C,Tt)),Tt}const U=m.id,$=m.id+"-"+this._currentId;this._currentId++,this.engine.register($,l);const X=Tt=>{Array.isArray(Tt)?Tt.forEach(X):this.engine.registerTrigger(U,$,l,Tt.name,Tt)};return m.data.animation.forEach(X),new Ua(this,$,C,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(l,m,E){l>=0&&l<this._microtaskId?this._zone.run(()=>m(E)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(C=>{const[U,$]=C;U($)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([m,E]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return f.\u0275fac=function(l){return new(l||f)(k.LFG(k.FYo),k.LFG(ha),k.LFG(k.R0b))},f.\u0275prov=k.Yz7({token:f,factory:f.\u0275fac}),f})();class lt{constructor(c,l,m){this.namespaceId=c,this.delegate=l,this.engine=m,this.destroyNode=this.delegate.destroyNode?E=>l.destroyNode(E):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(c,l){return this.delegate.createElement(c,l)}createComment(c){return this.delegate.createComment(c)}createText(c){return this.delegate.createText(c)}appendChild(c,l){this.delegate.appendChild(c,l),this.engine.onInsert(this.namespaceId,l,c,!1)}insertBefore(c,l,m,E=!0){this.delegate.insertBefore(c,l,m),this.engine.onInsert(this.namespaceId,l,c,E)}removeChild(c,l,m){this.engine.onRemove(this.namespaceId,l,this.delegate,m)}selectRootElement(c,l){return this.delegate.selectRootElement(c,l)}parentNode(c){return this.delegate.parentNode(c)}nextSibling(c){return this.delegate.nextSibling(c)}setAttribute(c,l,m,E){this.delegate.setAttribute(c,l,m,E)}removeAttribute(c,l,m){this.delegate.removeAttribute(c,l,m)}addClass(c,l){this.delegate.addClass(c,l)}removeClass(c,l){this.delegate.removeClass(c,l)}setStyle(c,l,m,E){this.delegate.setStyle(c,l,m,E)}removeStyle(c,l,m){this.delegate.removeStyle(c,l,m)}setProperty(c,l,m){"@"==l.charAt(0)&&l==yo?this.disableAnimations(c,!!m):this.delegate.setProperty(c,l,m)}setValue(c,l){this.delegate.setValue(c,l)}listen(c,l,m){return this.delegate.listen(c,l,m)}disableAnimations(c,l){this.engine.disableAnimations(c,l)}}class Ua extends lt{constructor(c,l,m,E){super(l,m,E),this.factory=c,this.namespaceId=l}setProperty(c,l,m){"@"==l.charAt(0)?"."==l.charAt(1)&&l==yo?this.disableAnimations(c,m=void 0===m||!!m):this.engine.process(this.namespaceId,c,l.slice(1),m):this.delegate.setProperty(c,l,m)}listen(c,l,m){if("@"==l.charAt(0)){const E=function to(f){switch(f){case"body":return document.body;case"document":return document;case"window":return window;default:return f}}(c);let C=l.slice(1),U="";return"@"!=C.charAt(0)&&([C,U]=function qa(f){const c=f.indexOf(".");return[f.substring(0,c),f.slice(c+1)]}(C)),this.engine.listen(this.namespaceId,E,C,U,$=>{this.factory.scheduleListenerCallback($._data||-1,m,$)})}return this.delegate.listen(c,l,m)}}const Zo=[{provide:Wn._j,useClass:mo},{provide:$i,useFactory:function ls(){return new La}},{provide:ha,useClass:(()=>{class f extends ha{constructor(l,m,E,C){super(l.body,m,E)}ngOnDestroy(){this.flush()}}return f.\u0275fac=function(l){return new(l||f)(k.LFG(de.K0),k.LFG(ao),k.LFG($i),k.LFG(k.z2F))},f.\u0275prov=k.Yz7({token:f,factory:f.\u0275fac}),f})()},{provide:k.FYo,useFactory:function Ol(f,c,l){return new ba(f,c,l)},deps:[h.se,ha,k.R0b]}],ii=[{provide:ao,useFactory:()=>new Fo},{provide:k.QbO,useValue:"BrowserAnimations"},...Zo],Lo=[{provide:ao,useClass:Si},{provide:k.QbO,useValue:"NoopAnimations"},...Zo];let Ta=(()=>{class f{static withConfig(l){return{ngModule:f,providers:l.disableAnimations?Lo:ii}}}return f.\u0275fac=function(l){return new(l||f)},f.\u0275mod=k.oAB({type:f}),f.\u0275inj=k.cJS({providers:ii,imports:[h.b2]}),f})();var ds=F(2011),pa=F(8505),Tr=F(4578);let vo=(()=>{class f{constructor(l){this.spinnerService=l}intercept(l,m){return this.spinnerService.show(),m.handle(l).pipe((0,pa.b)(E=>{E instanceof ce.Zn&&this.spinnerService.hide()},E=>{this.spinnerService.hide()}))}}return f.\u0275fac=function(l){return new(l||f)(k.LFG(Tr.V))},f.\u0275prov=k.Yz7({token:f,factory:f.\u0275fac}),f})(),Hi=(()=>{class f{}return f.\u0275fac=function(l){return new(l||f)},f.\u0275mod=k.oAB({type:f,bootstrap:[He]}),f.\u0275inj=k.cJS({providers:[{provide:ce.TP,useClass:vo,multi:!0}],imports:[h.b2,ce.JF,be,(0,Le.hX)(()=>(0,Le.ZF)(dt_firebase)),ds.hO.initializeApp(dt_firebase),(0,ae.AR)(()=>(0,ae.v0)()),In(()=>fe()),Ta,de.ez,Ce.Rh.forRoot(),H.u5,H.UX]}),f})();(0,k.G48)(),h.q6().bootstrapModule(Hi).catch(f=>console.error(f))},5867:($t,qe,F)=>{F.d(qe,{C6:()=>h.getApps,KN:()=>h.registerVersion,Mq:()=>h.getApp,ZF:()=>h.initializeApp});var h=F(9681);(0,h.registerVersion)("firebase","9.9.4","app")},8937:($t,qe,F)=>{F.d(qe,{hJ:()=>h.Q,v0:()=>h.n,MX:()=>h.q,e5:()=>h.a6,rh:()=>h.c,w7:()=>h.y});var h=F(8554);F(2090),F(9681),F(1877),F(4859)},127:($t,qe,F)=>{F.d(qe,{Z:()=>h.Z});var h=F(3942);h.Z.registerVersion("firebase","9.9.4","app-compat")},5881:($t,qe,F)=>{F.r(qe);var h=F(5861),k=F(3942),H=F(8554),ce=F(2090),Ae=(F(9681),F(1877),F(4859));function se(){return window}function ae(){return(ae=(0,h.Z)(function*($e,me,ye){var ct;const{BuildInfo:Ut}=se();(0,H.aq)(me.sessionId,"AuthEvent did not contain a session ID");const cn=yield Ke(me.sessionId),pn={};return(0,H.ar)()?pn.ibi=Ut.packageName:(0,H.as)()?pn.apn=Ut.packageName:(0,H.at)($e,"operation-not-supported-in-this-environment"),Ut.displayName&&(pn.appDisplayName=Ut.displayName),pn.sessionId=cn,(0,H.au)($e,ye,me.type,void 0,null!==(ct=me.eventId)&&void 0!==ct?ct:void 0,pn)})).apply(this,arguments)}function Qe(){return(Qe=(0,h.Z)(function*($e){const{BuildInfo:me}=se(),ye={};(0,H.ar)()?ye.iosBundleId=me.packageName:(0,H.as)()?ye.androidPackageName=me.packageName:(0,H.at)($e,"operation-not-supported-in-this-environment"),yield(0,H.av)($e,ye)})).apply(this,arguments)}function Mt(){return(Mt=(0,h.Z)(function*($e,me,ye){const{cordova:ct}=se();let Ut=()=>{};try{yield new Promise((cn,pn)=>{let oe=null;function ue(){var Xe;cn();const jt=null===(Xe=ct.plugins.browsertab)||void 0===Xe?void 0:Xe.close;"function"==typeof jt&&jt(),"function"==typeof ye?.close&&ye.close()}function ne(){oe||(oe=window.setTimeout(()=>{pn((0,H.aw)($e,"redirect-cancelled-by-user"))},2e3))}function Oe(){"visible"===document?.visibilityState&&ne()}me.addPassiveListener(ue),document.addEventListener("resume",ne,!1),(0,H.as)()&&document.addEventListener("visibilitychange",Oe,!1),Ut=()=>{me.removePassiveListener(ue),document.removeEventListener("resume",ne,!1),document.removeEventListener("visibilitychange",Oe,!1),oe&&window.clearTimeout(oe)}})}finally{Ut()}})).apply(this,arguments)}function Ke($e){return Me.apply(this,arguments)}function Me(){return(Me=(0,h.Z)(function*($e){const me=xt($e),ye=yield crypto.subtle.digest("SHA-256",me);return Array.from(new Uint8Array(ye)).map(Ut=>Ut.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function xt($e){if((0,H.aq)(/[0-9a-zA-Z]+/.test($e),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode($e);const me=new ArrayBuffer($e.length),ye=new Uint8Array(me);for(let ct=0;ct<$e.length;ct++)ye[ct]=$e.charCodeAt(ct);return ye}class pe extends H.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(me=>{this.resolveInialized=me})}addPassiveListener(me){this.passiveListeners.add(me)}removePassiveListener(me){this.passiveListeners.delete(me)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(me){return this.resolveInialized(),this.passiveListeners.forEach(ye=>ye(me)),super.onEvent(me)}initialized(){var me=this;return(0,h.Z)(function*(){yield me.initPromise})()}}function Te($e){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,h.Z)(function*($e){const me=yield Se()._get(He($e));return me&&(yield Se()._remove(He($e))),me})).apply(this,arguments)}function be(){const $e=[],me="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let ye=0;ye<20;ye++){const ct=Math.floor(Math.random()*me.length);$e.push(me.charAt(ct))}return $e.join("")}function Se(){return(0,H.ay)(H.b)}function He($e){return(0,H.az)("authEvent",$e.config.apiKey,$e.name)}function It($e){if(!$e?.includes("?"))return{};const[me,...ye]=$e.split("?");return(0,ce.zd)(ye.join("?"))}function ft(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,H.aw)("no-auth-event")}}function Ie(){var $e;return(null===($e=self?.location)||void 0===$e?void 0:$e.protocol)||null}function Ft($e=(0,ce.z$)()){return!("file:"!==Ie()&&"ionic:"!==Ie()&&"capacitor:"!==Ie()||!$e.toLowerCase().match(/iphone|ipad|ipod|android/))}function kn(){try{const $e=self.localStorage,me=H.aI();if($e)return $e.setItem(me,"1"),$e.removeItem(me),!function cr($e=(0,ce.z$)()){return function In(){return(0,ce.w1)()&&11===document?.documentMode}()||function xn($e=(0,ce.z$)()){return/Edge\/\d+/.test($e)}($e)}()||(0,ce.hl)()}catch{return Un()&&(0,ce.hl)()}return!1}function Un(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ln(){return(function ve(){return"http:"===Ie()||"https:"===Ie()}()||(0,ce.ru)()||Ft())&&!function wn(){return(0,ce.b$)()||(0,ce.UG)()}()&&kn()&&!Un()}function ar(){return Ft()&&typeof document<"u"}function _t(){return(_t=(0,h.Z)(function*(){return!!ar()&&new Promise($e=>{const me=setTimeout(()=>{$e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(me),$e(!0)})})})).apply(this,arguments)}const vn={LOCAL:"local",NONE:"none",SESSION:"session"},Fn=H.ax,mr="persistence";function Mn($e){return at.apply(this,arguments)}function at(){return(at=(0,h.Z)(function*($e){yield $e._initializationPromise;const me=le(),ye=H.az(mr,$e.config.apiKey,$e.name);me&&me.setItem(ye,$e._getPersistence())})).apply(this,arguments)}function le(){var $e;try{return(null===($e=function Nn(){return typeof window<"u"?window:null}())||void 0===$e?void 0:$e.sessionStorage)||null}catch{return null}}const nt=H.ax;class ot{constructor(){this.browserResolver=H.ay(H.k),this.cordovaResolver=H.ay(class Kt{constructor(){this._redirectPersistence=H.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(me){var ye=this;return(0,h.Z)(function*(){const ct=me._key();let Ut=ye.eventManagers.get(ct);return Ut||(Ut=new pe(me),ye.eventManagers.set(ct,Ut),ye.attachCallbackListeners(me,Ut)),Ut})()}_openPopup(me){(0,H.at)(me,"operation-not-supported-in-this-environment")}_openRedirect(me,ye,ct,Ut){var cn=this;return(0,h.Z)(function*(){!function Ze($e){var me,ye,ct,Ut,cn,pn,oe,ue,ne,Oe;const Xe=se();(0,H.ax)("function"==typeof(null===(me=Xe?.universalLinks)||void 0===me?void 0:me.subscribe),$e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,H.ax)(typeof(null===(ye=Xe?.BuildInfo)||void 0===ye?void 0:ye.packageName)<"u",$e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,H.ax)("function"==typeof(null===(cn=null===(Ut=null===(ct=Xe?.cordova)||void 0===ct?void 0:ct.plugins)||void 0===Ut?void 0:Ut.browsertab)||void 0===cn?void 0:cn.openUrl),$e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(ue=null===(oe=null===(pn=Xe?.cordova)||void 0===pn?void 0:pn.plugins)||void 0===oe?void 0:oe.browsertab)||void 0===ue?void 0:ue.isAvailable),$e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,H.ax)("function"==typeof(null===(Oe=null===(ne=Xe?.cordova)||void 0===ne?void 0:ne.InAppBrowser)||void 0===Oe?void 0:Oe.open),$e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(me);const pn=yield cn._initialize(me);yield pn.initialized(),pn.resetRedirect(),(0,H.aD)(),yield cn._originValidation(me);const oe=function je($e,me,ye=null){return{type:me,eventId:ye,urlResponse:null,sessionId:be(),postBody:null,tenantId:$e.tenantId,error:(0,H.aw)($e,"no-auth-event")}}(me,ct,Ut);yield function vt($e,me){return Se()._set(He($e),me)}(me,oe);const ue=yield function ee($e,me,ye){return ae.apply(this,arguments)}(me,oe,ye),ne=yield function Je($e){const{cordova:me}=se();return new Promise(ye=>{me.plugins.browsertab.isAvailable(ct=>{let Ut=null;ct?me.plugins.browsertab.openUrl($e):Ut=me.InAppBrowser.open($e,(0,H.ap)()?"_blank":"_system","location=yes"),ye(Ut)})})}(ue);return function Ge($e,me,ye){return Mt.apply(this,arguments)}(me,pn,ne)})()}_isIframeWebStorageSupported(me,ye){throw new Error("Method not implemented.")}_originValidation(me){const ye=me._key();return this.originValidationPromises[ye]||(this.originValidationPromises[ye]=function De($e){return Qe.apply(this,arguments)}(me)),this.originValidationPromises[ye]}attachCallbackListeners(me,ye){const{universalLinks:ct,handleOpenURL:Ut,BuildInfo:cn}=se(),pn=setTimeout((0,h.Z)(function*(){yield Te(me),ye.onEvent(ft())}),500),oe=function(){var Oe=(0,h.Z)(function*(Xe){clearTimeout(pn);const jt=yield Te(me);let _n=null;jt&&Xe?.url&&(_n=function Ue($e,me){var ye,ct;const Ut=function dt($e){const me=It($e),ye=me.link?decodeURIComponent(me.link):void 0,ct=It(ye).link,Ut=me.deep_link_id?decodeURIComponent(me.deep_link_id):void 0;return It(Ut).link||Ut||ct||ye||$e}(me);if(Ut.includes("/__/auth/callback")){const cn=It(Ut),pn=cn.firebaseError?function Le($e){try{return JSON.parse($e)}catch{return null}}(decodeURIComponent(cn.firebaseError)):null,oe=null===(ct=null===(ye=pn?.code)||void 0===ye?void 0:ye.split("auth/"))||void 0===ct?void 0:ct[1],ue=oe?(0,H.aw)(oe):null;return ue?{type:$e.type,eventId:$e.eventId,tenantId:$e.tenantId,error:ue,urlResponse:null,sessionId:null,postBody:null}:{type:$e.type,eventId:$e.eventId,tenantId:$e.tenantId,sessionId:$e.sessionId,urlResponse:Ut,postBody:null}}return null}(jt,Xe.url)),ye.onEvent(_n||ft())});return function(jt){return Oe.apply(this,arguments)}}();typeof ct<"u"&&"function"==typeof ct.subscribe&&ct.subscribe(null,oe);const ue=Ut,ne=`${cn.packageName.toLowerCase()}://`;se().handleOpenURL=function(){var Oe=(0,h.Z)(function*(Xe){if(Xe.toLowerCase().startsWith(ne)&&oe({url:Xe}),"function"==typeof ue)try{ue(Xe)}catch(jt){console.error(jt)}});return function(Xe){return Oe.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=H.a,this._completeRedirectFn=H.aB,this._overrideRedirectResult=H.aC}_initialize(me){var ye=this;return(0,h.Z)(function*(){return yield ye.selectUnderlyingResolver(),ye.assertedUnderlyingResolver._initialize(me)})()}_openPopup(me,ye,ct,Ut){var cn=this;return(0,h.Z)(function*(){return yield cn.selectUnderlyingResolver(),cn.assertedUnderlyingResolver._openPopup(me,ye,ct,Ut)})()}_openRedirect(me,ye,ct,Ut){var cn=this;return(0,h.Z)(function*(){return yield cn.selectUnderlyingResolver(),cn.assertedUnderlyingResolver._openRedirect(me,ye,ct,Ut)})()}_isIframeWebStorageSupported(me,ye){this.assertedUnderlyingResolver._isIframeWebStorageSupported(me,ye)}_originValidation(me){return this.assertedUnderlyingResolver._originValidation(me)}get _shouldInitProactively(){return ar()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return nt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var me=this;return(0,h.Z)(function*(){if(me.underlyingResolver)return;const ye=yield function Zn(){return _t.apply(this,arguments)}();me.underlyingResolver=ye?me.cordovaResolver:me.browserResolver})()}}function Zt($e){return $e.unwrap()}function Gt($e){return zn($e)}function zn($e){const{_tokenResponse:me}=$e instanceof ce.ZR?$e.customData:$e;if(!me)return null;if(!($e instanceof ce.ZR)&&"temporaryProof"in me&&"phoneNumber"in me)return H.P.credentialFromResult($e);const ye=me.providerId;if(!ye||ye===H.o.PASSWORD)return null;let ct;switch(ye){case H.o.GOOGLE:ct=H.Q;break;case H.o.FACEBOOK:ct=H.N;break;case H.o.GITHUB:ct=H.T;break;case H.o.TWITTER:ct=H.W;break;default:const{oauthIdToken:Ut,oauthAccessToken:cn,oauthTokenSecret:pn,pendingToken:oe,nonce:ue}=me;return cn||pn||Ut||oe?oe?ye.startsWith("saml.")?H.aL._create(ye,oe):H.J._fromParams({providerId:ye,signInMethod:ye,pendingToken:oe,idToken:Ut,accessToken:cn}):new H.U(ye).credential({idToken:Ut,accessToken:cn,rawNonce:ue}):null}return $e instanceof ce.ZR?ct.credentialFromError($e):ct.credentialFromResult($e)}function ln($e,me){return me.catch(ye=>{throw ye instanceof ce.ZR&&function Ot($e,me){var ye,ct;const Ut=null===(ye=me.customData)||void 0===ye?void 0:ye._tokenResponse;if("auth/multi-factor-auth-required"===(null===(ct=me)||void 0===ct?void 0:ct.code))me.resolver=new Ee($e,H.an($e,me));else if(Ut){const cn=zn(me),pn=me;cn&&(pn.credential=cn,pn.tenantId=Ut.tenantId||void 0,pn.email=Ut.email||void 0,pn.phoneNumber=Ut.phoneNumber||void 0)}}($e,ye),ye}).then(ye=>{const Ut=ye.user;return{operationType:ye.operationType,credential:Gt(ye),additionalUserInfo:H.al(ye),user:he.getOrCreate(Ut)}})}function Er($e,me){return mn.apply(this,arguments)}function mn(){return(mn=(0,h.Z)(function*($e,me){const ye=yield me;return{verificationId:ye.verificationId,confirm:ct=>ln($e,ye.confirm(ct))}})).apply(this,arguments)}class Ee{constructor(me,ye){this.resolver=ye,this.auth=function on($e){return $e.wrapped()}(me)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(me){return ln(Zt(this.auth),this.resolver.resolveSignIn(me))}}class he{constructor(me){this._delegate=me,this.multiFactor=H.ao(me)}static getOrCreate(me){return he.USER_MAP.has(me)||he.USER_MAP.set(me,new he(me)),he.USER_MAP.get(me)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(me){return this._delegate.getIdTokenResult(me)}getIdToken(me){return this._delegate.getIdToken(me)}linkAndRetrieveDataWithCredential(me){return this.linkWithCredential(me)}linkWithCredential(me){var ye=this;return(0,h.Z)(function*(){return ln(ye.auth,H.Z(ye._delegate,me))})()}linkWithPhoneNumber(me,ye){var ct=this;return(0,h.Z)(function*(){return Er(ct.auth,H.l(ct._delegate,me,ye))})()}linkWithPopup(me){var ye=this;return(0,h.Z)(function*(){return ln(ye.auth,H.d(ye._delegate,me,ot))})()}linkWithRedirect(me){var ye=this;return(0,h.Z)(function*(){return yield Mn(H.aE(ye.auth)),H.g(ye._delegate,me,ot)})()}reauthenticateAndRetrieveDataWithCredential(me){return this.reauthenticateWithCredential(me)}reauthenticateWithCredential(me){var ye=this;return(0,h.Z)(function*(){return ln(ye.auth,H._(ye._delegate,me))})()}reauthenticateWithPhoneNumber(me,ye){return Er(this.auth,H.r(this._delegate,me,ye))}reauthenticateWithPopup(me){return ln(this.auth,H.e(this._delegate,me,ot))}reauthenticateWithRedirect(me){var ye=this;return(0,h.Z)(function*(){return yield Mn(H.aE(ye.auth)),H.h(ye._delegate,me,ot)})()}sendEmailVerification(me){return H.ab(this._delegate,me)}unlink(me){var ye=this;return(0,h.Z)(function*(){return yield H.ak(ye._delegate,me),ye})()}updateEmail(me){return H.ag(this._delegate,me)}updatePassword(me){return H.ah(this._delegate,me)}updatePhoneNumber(me){return H.u(this._delegate,me)}updateProfile(me){return H.af(this._delegate,me)}verifyBeforeUpdateEmail(me,ye){return H.ac(this._delegate,me,ye)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}he.USER_MAP=new WeakMap;const q=H.ax;let N=(()=>{class $e{constructor(ye,ct){if(this.app=ye,ct.isInitialized())return this._delegate=ct.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Ut}=ye.options;q(Ut,"invalid-api-key",{appName:ye.name}),q(Ut,"invalid-api-key",{appName:ye.name});const cn=typeof window<"u"?ot:void 0;this._delegate=ct.initialize({options:{persistence:fe(Ut,ye.name),popupRedirectResolver:cn}}),this._delegate._updateErrorMap(H.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?he.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(ye){this._delegate.languageCode=ye}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(ye){this._delegate.tenantId=ye}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(ye,ct){H.G(this._delegate,ye,ct)}applyActionCode(ye){return H.a2(this._delegate,ye)}checkActionCode(ye){return H.a3(this._delegate,ye)}confirmPasswordReset(ye,ct){return H.a1(this._delegate,ye,ct)}createUserWithEmailAndPassword(ye,ct){var Ut=this;return(0,h.Z)(function*(){return ln(Ut._delegate,H.a5(Ut._delegate,ye,ct))})()}fetchProvidersForEmail(ye){return this.fetchSignInMethodsForEmail(ye)}fetchSignInMethodsForEmail(ye){return H.aa(this._delegate,ye)}isSignInWithEmailLink(ye){return H.a8(this._delegate,ye)}getRedirectResult(){var ye=this;return(0,h.Z)(function*(){q(Ln(),ye._delegate,"operation-not-supported-in-this-environment");const ct=yield H.j(ye._delegate,ot);return ct?ln(ye._delegate,Promise.resolve(ct)):{credential:null,user:null}})()}addFrameworkForLogging(ye){!function tn($e,me){(0,H.aE)($e)._logFramework(me)}(this._delegate,ye)}onAuthStateChanged(ye,ct,Ut){const{next:cn,error:pn,complete:oe}=j(ye,ct,Ut);return this._delegate.onAuthStateChanged(cn,pn,oe)}onIdTokenChanged(ye,ct,Ut){const{next:cn,error:pn,complete:oe}=j(ye,ct,Ut);return this._delegate.onIdTokenChanged(cn,pn,oe)}sendSignInLinkToEmail(ye,ct){return H.a7(this._delegate,ye,ct)}sendPasswordResetEmail(ye,ct){return H.a0(this._delegate,ye,ct||void 0)}setPersistence(ye){var ct=this;return(0,h.Z)(function*(){let Ut;switch(function ti($e,me){Fn(Object.values(vn).includes(me),$e,"invalid-persistence-type"),(0,ce.b$)()?Fn(me!==vn.SESSION,$e,"unsupported-persistence-type"):(0,ce.UG)()?Fn(me===vn.NONE,$e,"unsupported-persistence-type"):Un()?Fn(me===vn.NONE||me===vn.LOCAL&&(0,ce.hl)(),$e,"unsupported-persistence-type"):Fn(me===vn.NONE||kn(),$e,"unsupported-persistence-type")}(ct._delegate,ye),ye){case vn.SESSION:Ut=H.a;break;case vn.LOCAL:Ut=(yield H.ay(H.i)._isAvailable())?H.i:H.b;break;case vn.NONE:Ut=H.L;break;default:return H.at("argument-error",{appName:ct._delegate.name})}return ct._delegate.setPersistence(Ut)})()}signInAndRetrieveDataWithCredential(ye){return this.signInWithCredential(ye)}signInAnonymously(){return ln(this._delegate,H.X(this._delegate))}signInWithCredential(ye){return ln(this._delegate,H.Y(this._delegate,ye))}signInWithCustomToken(ye){return ln(this._delegate,H.$(this._delegate,ye))}signInWithEmailAndPassword(ye,ct){return ln(this._delegate,H.a6(this._delegate,ye,ct))}signInWithEmailLink(ye,ct){return ln(this._delegate,H.a9(this._delegate,ye,ct))}signInWithPhoneNumber(ye,ct){return Er(this._delegate,H.s(this._delegate,ye,ct))}signInWithPopup(ye){var ct=this;return(0,h.Z)(function*(){return q(Ln(),ct._delegate,"operation-not-supported-in-this-environment"),ln(ct._delegate,H.c(ct._delegate,ye,ot))})()}signInWithRedirect(ye){var ct=this;return(0,h.Z)(function*(){return q(Ln(),ct._delegate,"operation-not-supported-in-this-environment"),yield Mn(ct._delegate),H.f(ct._delegate,ye,ot)})()}updateCurrentUser(ye){return this._delegate.updateCurrentUser(ye)}verifyPasswordResetCode(ye){return H.a4(this._delegate,ye)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return $e.Persistence=vn,$e})();function j($e,me,ye){let ct=$e;"function"!=typeof $e&&({next:ct,error:me,complete:ye}=$e);const Ut=ct;return{next:pn=>Ut(pn&&he.getOrCreate(pn)),error:me,complete:ye}}function fe($e,me){const ye=function _e($e,me){const ye=le();if(!ye)return[];const ct=H.az(mr,$e,me);switch(ye.getItem(ct)){case vn.NONE:return[H.L];case vn.LOCAL:return[H.i,H.a];case vn.SESSION:return[H.a];default:return[]}}($e,me);if(typeof self<"u"&&!ye.includes(H.i)&&ye.push(H.i),typeof window<"u")for(const ct of[H.b,H.a])ye.includes(ct)||ye.push(ct);return ye.includes(H.L)||ye.push(H.L),ye}class We{constructor(){this.providerId="phone",this._delegate=new H.P(Zt(k.Z.auth()))}static credential(me,ye){return H.P.credential(me,ye)}verifyPhoneNumber(me,ye){return this._delegate.verifyPhoneNumber(me,ye)}unwrap(){return this._delegate}}We.PHONE_SIGN_IN_METHOD=H.P.PHONE_SIGN_IN_METHOD,We.PROVIDER_ID=H.P.PROVIDER_ID;const Pt=H.ax;class yn{constructor(me,ye,ct=k.Z.app()){var Ut;Pt(null===(Ut=ct.options)||void 0===Ut?void 0:Ut.apiKey,"invalid-api-key",{appName:ct.name}),this._delegate=new H.R(me,ye,ct.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function On($e){$e.INTERNAL.registerComponent(new Ae.wA("auth-compat",me=>{const ye=me.getProvider("app-compat").getImmediate(),ct=me.getProvider("auth");return new N(ye,ct)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:H.A.EMAIL_SIGNIN,PASSWORD_RESET:H.A.PASSWORD_RESET,RECOVER_EMAIL:H.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:H.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:H.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:H.A.VERIFY_EMAIL}},EmailAuthProvider:H.M,FacebookAuthProvider:H.N,GithubAuthProvider:H.T,GoogleAuthProvider:H.Q,OAuthProvider:H.U,SAMLAuthProvider:H.V,PhoneAuthProvider:We,PhoneMultiFactorGenerator:H.m,RecaptchaVerifier:yn,TwitterAuthProvider:H.W,Auth:N,AuthCredential:H.H,Error:ce.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),$e.registerVersion("@firebase/auth-compat","0.2.19")}(k.Z)},1135:($t,qe,F)=>{F.d(qe,{X:()=>k});var h=F(7579);class k extends h.x{constructor(ce){super(),this._value=ce}get value(){return this.getValue()}_subscribe(ce){const de=super._subscribe(ce);return!de.closed&&ce.next(this._value),de}getValue(){const{hasError:ce,thrownError:de,_value:Ce}=this;if(ce)throw de;return this._throwIfClosed(),Ce}next(ce){super.next(this._value=ce)}}},9751:($t,qe,F)=>{F.d(qe,{y:()=>se});var h=F(930),k=F(727),H=F(8822),ce=F(9635),de=F(2416),Ce=F(576),Ae=F(2806);let se=(()=>{class De{constructor(Je){Je&&(this._subscribe=Je)}lift(Je){const Ge=new De;return Ge.source=this,Ge.operator=Je,Ge}subscribe(Je,Ge,Mt){const Ze=function ae(De){return De&&De instanceof h.Lv||function ee(De){return De&&(0,Ce.m)(De.next)&&(0,Ce.m)(De.error)&&(0,Ce.m)(De.complete)}(De)&&(0,k.Nn)(De)}(Je)?Je:new h.Hp(Je,Ge,Mt);return(0,Ae.x)(()=>{const{operator:Ke,source:Me}=this;Ze.add(Ke?Ke.call(Ze,Me):Me?this._subscribe(Ze):this._trySubscribe(Ze))}),Ze}_trySubscribe(Je){try{return this._subscribe(Je)}catch(Ge){Je.error(Ge)}}forEach(Je,Ge){return new(Ge=Be(Ge))((Mt,Ze)=>{const Ke=new h.Hp({next:Me=>{try{Je(Me)}catch(xt){Ze(xt),Ke.unsubscribe()}},error:Ze,complete:Mt});this.subscribe(Ke)})}_subscribe(Je){var Ge;return null===(Ge=this.source)||void 0===Ge?void 0:Ge.subscribe(Je)}[H.L](){return this}pipe(...Je){return(0,ce.U)(Je)(this)}toPromise(Je){return new(Je=Be(Je))((Ge,Mt)=>{let Ze;this.subscribe(Ke=>Ze=Ke,Ke=>Mt(Ke),()=>Ge(Ze))})}}return De.create=Qe=>new De(Qe),De})();function Be(De){var Qe;return null!==(Qe=De??de.v.Promise)&&void 0!==Qe?Qe:Promise}},7579:($t,qe,F)=>{F.d(qe,{x:()=>Ae});var h=F(9751),k=F(727);const ce=(0,F(3888).d)(Be=>function(){Be(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=F(8737),Ce=F(2806);let Ae=(()=>{class Be extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ae){const De=new se(this,this);return De.operator=ae,De}_throwIfClosed(){if(this.closed)throw new ce}next(ae){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const De of this.currentObservers)De.next(ae)}})}error(ae){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ae;const{observers:De}=this;for(;De.length;)De.shift().error(ae)}})}complete(){(0,Ce.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ae}=this;for(;ae.length;)ae.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ae;return(null===(ae=this.observers)||void 0===ae?void 0:ae.length)>0}_trySubscribe(ae){return this._throwIfClosed(),super._trySubscribe(ae)}_subscribe(ae){return this._throwIfClosed(),this._checkFinalizedStatuses(ae),this._innerSubscribe(ae)}_innerSubscribe(ae){const{hasError:De,isStopped:Qe,observers:Je}=this;return De||Qe?k.Lc:(this.currentObservers=null,Je.push(ae),new k.w0(()=>{this.currentObservers=null,(0,de.P)(Je,ae)}))}_checkFinalizedStatuses(ae){const{hasError:De,thrownError:Qe,isStopped:Je}=this;De?ae.error(Qe):Je&&ae.complete()}asObservable(){const ae=new h.y;return ae.source=this,ae}}return Be.create=(ee,ae)=>new se(ee,ae),Be})();class se extends Ae{constructor(ee,ae){super(),this.destination=ee,this.source=ae}next(ee){var ae,De;null===(De=null===(ae=this.destination)||void 0===ae?void 0:ae.next)||void 0===De||De.call(ae,ee)}error(ee){var ae,De;null===(De=null===(ae=this.destination)||void 0===ae?void 0:ae.error)||void 0===De||De.call(ae,ee)}complete(){var ee,ae;null===(ae=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===ae||ae.call(ee)}_subscribe(ee){var ae,De;return null!==(De=null===(ae=this.source)||void 0===ae?void 0:ae.subscribe(ee))&&void 0!==De?De:k.Lc}}},930:($t,qe,F)=>{F.d(qe,{Hp:()=>Mt,Lv:()=>De});var h=F(576),k=F(727),H=F(2416),ce=F(7849),de=F(5032);const Ce=Be("C",void 0,void 0);function Be(Re,pe,je){return{kind:Re,value:pe,error:je}}var ee=F(3410),ae=F(2806);class De extends k.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,k.Nn)(pe)&&pe.add(this)):this.destination=xt}static create(pe,je,vt){return new Mt(pe,je,vt)}next(pe){this.isStopped?Me(function se(Re){return Be("N",Re,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?Me(function Ae(Re){return Be("E",void 0,Re)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?Me(Ce,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Qe=Function.prototype.bind;function Je(Re,pe){return Qe.call(Re,pe)}class Ge{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:je}=this;if(je.next)try{je.next(pe)}catch(vt){Ze(vt)}}error(pe){const{partialObserver:je}=this;if(je.error)try{je.error(pe)}catch(vt){Ze(vt)}else Ze(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(je){Ze(je)}}}class Mt extends De{constructor(pe,je,vt){let Te;if(super(),(0,h.m)(pe)||!pe)Te={next:pe??void 0,error:je??void 0,complete:vt??void 0};else{let Ve;this&&H.v.useDeprecatedNextContext?(Ve=Object.create(pe),Ve.unsubscribe=()=>this.unsubscribe(),Te={next:pe.next&&Je(pe.next,Ve),error:pe.error&&Je(pe.error,Ve),complete:pe.complete&&Je(pe.complete,Ve)}):Te=pe}this.destination=new Ge(Te)}}function Ze(Re){H.v.useDeprecatedSynchronousErrorHandling?(0,ae.O)(Re):(0,ce.h)(Re)}function Me(Re,pe){const{onStoppedNotification:je}=H.v;je&&ee.z.setTimeout(()=>je(Re,pe))}const xt={closed:!0,next:de.Z,error:function Ke(Re){throw Re},complete:de.Z}},727:($t,qe,F)=>{F.d(qe,{Lc:()=>Ce,w0:()=>de,Nn:()=>Ae});var h=F(576);const H=(0,F(3888).d)(Be=>function(ae){Be(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((De,Qe)=>`${Qe+1}) ${De.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae});var ce=F(8737);class de{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:ae}=this;if(ae)if(this._parentage=null,Array.isArray(ae))for(const Je of ae)Je.remove(this);else ae.remove(this);const{initialTeardown:De}=this;if((0,h.m)(De))try{De()}catch(Je){ee=Je instanceof H?Je.errors:[Je]}const{_finalizers:Qe}=this;if(Qe){this._finalizers=null;for(const Je of Qe)try{se(Je)}catch(Ge){ee=ee??[],Ge instanceof H?ee=[...ee,...Ge.errors]:ee.push(Ge)}}if(ee)throw new H(ee)}}add(ee){var ae;if(ee&&ee!==this)if(this.closed)se(ee);else{if(ee instanceof de){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(ae=this._finalizers)&&void 0!==ae?ae:[]).push(ee)}}_hasParent(ee){const{_parentage:ae}=this;return ae===ee||Array.isArray(ae)&&ae.includes(ee)}_addParent(ee){const{_parentage:ae}=this;this._parentage=Array.isArray(ae)?(ae.push(ee),ae):ae?[ae,ee]:ee}_removeParent(ee){const{_parentage:ae}=this;ae===ee?this._parentage=null:Array.isArray(ae)&&(0,ce.P)(ae,ee)}remove(ee){const{_finalizers:ae}=this;ae&&(0,ce.P)(ae,ee),ee instanceof de&&ee._removeParent(this)}}de.EMPTY=(()=>{const Be=new de;return Be.closed=!0,Be})();const Ce=de.EMPTY;function Ae(Be){return Be instanceof de||Be&&"closed"in Be&&(0,h.m)(Be.remove)&&(0,h.m)(Be.add)&&(0,h.m)(Be.unsubscribe)}function se(Be){(0,h.m)(Be)?Be():Be.unsubscribe()}},2416:($t,qe,F)=>{F.d(qe,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:($t,qe,F)=>{F.d(qe,{a:()=>ee});var h=F(9751),k=F(4742),H=F(8996),ce=F(4671),de=F(3268),Ce=F(7669),Ae=F(1810),se=F(5403),Be=F(9672);function ee(...Qe){const Je=(0,Ce.yG)(Qe),Ge=(0,Ce.jO)(Qe),{args:Mt,keys:Ze}=(0,k.D)(Qe);if(0===Mt.length)return(0,H.D)([],Je);const Ke=new h.y(function ae(Qe,Je,Ge=ce.y){return Mt=>{De(Je,()=>{const{length:Ze}=Qe,Ke=new Array(Ze);let Me=Ze,xt=Ze;for(let Re=0;Re<Ze;Re++)De(Je,()=>{const pe=(0,H.D)(Qe[Re],Je);let je=!1;pe.subscribe((0,se.x)(Mt,vt=>{Ke[Re]=vt,je||(je=!0,xt--),xt||Mt.next(Ge(Ke.slice()))},()=>{--Me||Mt.complete()}))},Mt)},Mt)}}(Mt,Je,Ze?Me=>(0,Ae.n)(Ze,Me):ce.y));return Ge?Ke.pipe((0,de.Z)(Ge)):Ke}function De(Qe,Je,Ge){Qe?(0,Be.f)(Ge,Qe,Je):Je()}},7272:($t,qe,F)=>{F.d(qe,{z:()=>de});var h=F(8189),H=F(7669),ce=F(8996);function de(...Ce){return function k(){return(0,h.J)(1)}()((0,ce.D)(Ce,(0,H.yG)(Ce)))}},515:($t,qe,F)=>{F.d(qe,{E:()=>k});const k=new(F(9751).y)(de=>de.complete())},8996:($t,qe,F)=>{F.d(qe,{D:()=>pe});var h=F(8421),k=F(5363),H=F(9468),Ce=F(9751),se=F(2202),Be=F(576),ee=F(9672);function De(je,vt){if(!je)throw new Error("Iterable cannot be null");return new Ce.y(Te=>{(0,ee.f)(Te,vt,()=>{const Ve=je[Symbol.asyncIterator]();(0,ee.f)(Te,vt,()=>{Ve.next().then(Ue=>{Ue.done?Te.complete():Te.next(Ue.value)})},0,!0)})})}var Qe=F(3670),Je=F(8239),Ge=F(1144),Mt=F(6495),Ze=F(2206),Ke=F(4532),Me=F(3260);function pe(je,vt){return vt?function Re(je,vt){if(null!=je){if((0,Qe.c)(je))return function ce(je,vt){return(0,h.Xf)(je).pipe((0,H.R)(vt),(0,k.Q)(vt))}(je,vt);if((0,Ge.z)(je))return function Ae(je,vt){return new Ce.y(Te=>{let Ve=0;return vt.schedule(function(){Ve===je.length?Te.complete():(Te.next(je[Ve++]),Te.closed||this.schedule())})})}(je,vt);if((0,Je.t)(je))return function de(je,vt){return(0,h.Xf)(je).pipe((0,H.R)(vt),(0,k.Q)(vt))}(je,vt);if((0,Ze.D)(je))return De(je,vt);if((0,Mt.T)(je))return function ae(je,vt){return new Ce.y(Te=>{let Ve;return(0,ee.f)(Te,vt,()=>{Ve=je[se.h](),(0,ee.f)(Te,vt,()=>{let Ue,be;try{({value:Ue,done:be}=Ve.next())}catch(Se){return void Te.error(Se)}be?Te.complete():Te.next(Ue)},0,!0)}),()=>(0,Be.m)(Ve?.return)&&Ve.return()})}(je,vt);if((0,Me.L)(je))return function xt(je,vt){return De((0,Me.Q)(je),vt)}(je,vt)}throw(0,Ke.z)(je)}(je,vt):(0,h.Xf)(je)}},8421:($t,qe,F)=>{F.d(qe,{Xf:()=>Qe});var h=F(655),k=F(1144),H=F(8239),ce=F(9751),de=F(3670),Ce=F(2206),Ae=F(4532),se=F(6495),Be=F(3260),ee=F(576),ae=F(7849),De=F(8822);function Qe(Re){if(Re instanceof ce.y)return Re;if(null!=Re){if((0,de.c)(Re))return function Je(Re){return new ce.y(pe=>{const je=Re[De.L]();if((0,ee.m)(je.subscribe))return je.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Re);if((0,k.z)(Re))return function Ge(Re){return new ce.y(pe=>{for(let je=0;je<Re.length&&!pe.closed;je++)pe.next(Re[je]);pe.complete()})}(Re);if((0,H.t)(Re))return function Mt(Re){return new ce.y(pe=>{Re.then(je=>{pe.closed||(pe.next(je),pe.complete())},je=>pe.error(je)).then(null,ae.h)})}(Re);if((0,Ce.D)(Re))return Ke(Re);if((0,se.T)(Re))return function Ze(Re){return new ce.y(pe=>{for(const je of Re)if(pe.next(je),pe.closed)return;pe.complete()})}(Re);if((0,Be.L)(Re))return function Me(Re){return Ke((0,Be.Q)(Re))}(Re)}throw(0,Ae.z)(Re)}function Ke(Re){return new ce.y(pe=>{(function xt(Re,pe){var je,vt,Te,Ve;return(0,h.mG)(this,void 0,void 0,function*(){try{for(je=(0,h.KL)(Re);!(vt=yield je.next()).done;)if(pe.next(vt.value),pe.closed)return}catch(Ue){Te={error:Ue}}finally{try{vt&&!vt.done&&(Ve=je.return)&&(yield Ve.call(je))}finally{if(Te)throw Te.error}}pe.complete()})})(Re,pe).catch(je=>pe.error(je))})}},6451:($t,qe,F)=>{F.d(qe,{T:()=>Ce});var h=F(8189),k=F(8421),H=F(515),ce=F(7669),de=F(8996);function Ce(...Ae){const se=(0,ce.yG)(Ae),Be=(0,ce._6)(Ae,1/0),ee=Ae;return ee.length?1===ee.length?(0,k.Xf)(ee[0]):(0,h.J)(Be)((0,de.D)(ee,se)):H.E}},9646:($t,qe,F)=>{F.d(qe,{of:()=>H});var h=F(7669),k=F(8996);function H(...ce){const de=(0,h.yG)(ce);return(0,k.D)(ce,de)}},5403:($t,qe,F)=>{F.d(qe,{x:()=>k});var h=F(930);function k(ce,de,Ce,Ae,se){return new H(ce,de,Ce,Ae,se)}class H extends h.Lv{constructor(de,Ce,Ae,se,Be,ee){super(de),this.onFinalize=Be,this.shouldUnsubscribe=ee,this._next=Ce?function(ae){try{Ce(ae)}catch(De){de.error(De)}}:super._next,this._error=se?function(ae){try{se(ae)}catch(De){de.error(De)}finally{this.unsubscribe()}}:super._error,this._complete=Ae?function(){try{Ae()}catch(ae){de.error(ae)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Ce}=this;super.unsubscribe(),!Ce&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4351:($t,qe,F)=>{F.d(qe,{b:()=>H});var h=F(5577),k=F(576);function H(ce,de){return(0,k.m)(de)?(0,h.z)(ce,de,1):(0,h.z)(ce,1)}},6590:($t,qe,F)=>{F.d(qe,{d:()=>H});var h=F(4482),k=F(5403);function H(ce){return(0,h.e)((de,Ce)=>{let Ae=!1;de.subscribe((0,k.x)(Ce,se=>{Ae=!0,Ce.next(se)},()=>{Ae||Ce.next(ce),Ce.complete()}))})}},1884:($t,qe,F)=>{F.d(qe,{x:()=>ce});var h=F(4671),k=F(4482),H=F(5403);function ce(Ce,Ae=h.y){return Ce=Ce??de,(0,k.e)((se,Be)=>{let ee,ae=!0;se.subscribe((0,H.x)(Be,De=>{const Qe=Ae(De);(ae||!Ce(ee,Qe))&&(ae=!1,ee=Qe,Be.next(De))}))})}function de(Ce,Ae){return Ce===Ae}},9300:($t,qe,F)=>{F.d(qe,{h:()=>H});var h=F(4482),k=F(5403);function H(ce,de){return(0,h.e)((Ce,Ae)=>{let se=0;Ce.subscribe((0,k.x)(Ae,Be=>ce.call(de,Be,se++)&&Ae.next(Be)))})}},590:($t,qe,F)=>{F.d(qe,{P:()=>Ae});var h=F(6805),k=F(9300),H=F(5698),ce=F(6590),de=F(8068),Ce=F(4671);function Ae(se,Be){const ee=arguments.length>=2;return ae=>ae.pipe(se?(0,k.h)((De,Qe)=>se(De,Qe,ae)):Ce.y,(0,H.q)(1),ee?(0,ce.d)(Be):(0,de.T)(()=>new h.K))}},4004:($t,qe,F)=>{F.d(qe,{U:()=>H});var h=F(4482),k=F(5403);function H(ce,de){return(0,h.e)((Ce,Ae)=>{let se=0;Ce.subscribe((0,k.x)(Ae,Be=>{Ae.next(ce.call(de,Be,se++))}))})}},8189:($t,qe,F)=>{F.d(qe,{J:()=>H});var h=F(5577),k=F(4671);function H(ce=1/0){return(0,h.z)(k.y,ce)}},5577:($t,qe,F)=>{F.d(qe,{z:()=>se});var h=F(4004),k=F(8421),H=F(4482),ce=F(9672),de=F(5403),Ae=F(576);function se(Be,ee,ae=1/0){return(0,Ae.m)(ee)?se((De,Qe)=>(0,h.U)((Je,Ge)=>ee(De,Je,Qe,Ge))((0,k.Xf)(Be(De,Qe))),ae):("number"==typeof ee&&(ae=ee),(0,H.e)((De,Qe)=>function Ce(Be,ee,ae,De,Qe,Je,Ge,Mt){const Ze=[];let Ke=0,Me=0,xt=!1;const Re=()=>{xt&&!Ze.length&&!Ke&&ee.complete()},pe=vt=>Ke<De?je(vt):Ze.push(vt),je=vt=>{Je&&ee.next(vt),Ke++;let Te=!1;(0,k.Xf)(ae(vt,Me++)).subscribe((0,de.x)(ee,Ve=>{Qe?.(Ve),Je?pe(Ve):ee.next(Ve)},()=>{Te=!0},void 0,()=>{if(Te)try{for(Ke--;Ze.length&&Ke<De;){const Ve=Ze.shift();Ge?(0,ce.f)(ee,Ge,()=>je(Ve)):je(Ve)}Re()}catch(Ve){ee.error(Ve)}}))};return Be.subscribe((0,de.x)(ee,pe,()=>{xt=!0,Re()})),()=>{Mt?.()}}(De,Qe,Be,ae)))}},5363:($t,qe,F)=>{F.d(qe,{Q:()=>ce});var h=F(9672),k=F(4482),H=F(5403);function ce(de,Ce=0){return(0,k.e)((Ae,se)=>{Ae.subscribe((0,H.x)(se,Be=>(0,h.f)(se,de,()=>se.next(Be),Ce),()=>(0,h.f)(se,de,()=>se.complete(),Ce),Be=>(0,h.f)(se,de,()=>se.error(Be),Ce)))})}},5026:($t,qe,F)=>{F.d(qe,{R:()=>ce});var h=F(4482),k=F(5403);function H(de,Ce,Ae,se,Be){return(ee,ae)=>{let De=Ae,Qe=Ce,Je=0;ee.subscribe((0,k.x)(ae,Ge=>{const Mt=Je++;Qe=De?de(Qe,Ge,Mt):(De=!0,Ge),se&&ae.next(Qe)},Be&&(()=>{De&&ae.next(Qe),ae.complete()})))}}function ce(de,Ce){return(0,h.e)(H(de,Ce,arguments.length>=2,!0))}},3099:($t,qe,F)=>{F.d(qe,{B:()=>de});var h=F(8421),k=F(7579),H=F(930),ce=F(4482);function de(Ae={}){const{connector:se=(()=>new k.x),resetOnError:Be=!0,resetOnComplete:ee=!0,resetOnRefCountZero:ae=!0}=Ae;return De=>{let Qe,Je,Ge,Mt=0,Ze=!1,Ke=!1;const Me=()=>{Je?.unsubscribe(),Je=void 0},xt=()=>{Me(),Qe=Ge=void 0,Ze=Ke=!1},Re=()=>{const pe=Qe;xt(),pe?.unsubscribe()};return(0,ce.e)((pe,je)=>{Mt++,!Ke&&!Ze&&Me();const vt=Ge=Ge??se();je.add(()=>{Mt--,0===Mt&&!Ke&&!Ze&&(Je=Ce(Re,ae))}),vt.subscribe(je),!Qe&&Mt>0&&(Qe=new H.Hp({next:Te=>vt.next(Te),error:Te=>{Ke=!0,Me(),Je=Ce(xt,Be,Te),vt.error(Te)},complete:()=>{Ze=!0,Me(),Je=Ce(xt,ee),vt.complete()}}),(0,h.Xf)(pe).subscribe(Qe))})(De)}}function Ce(Ae,se,...Be){if(!0===se)return void Ae();if(!1===se)return;const ee=new H.Hp({next:()=>{ee.unsubscribe(),Ae()}});return se(...Be).subscribe(ee)}},8675:($t,qe,F)=>{F.d(qe,{O:()=>ce});var h=F(7272),k=F(7669),H=F(4482);function ce(...de){const Ce=(0,k.yG)(de);return(0,H.e)((Ae,se)=>{(Ce?(0,h.z)(de,Ae,Ce):(0,h.z)(de,Ae)).subscribe(se)})}},9468:($t,qe,F)=>{F.d(qe,{R:()=>k});var h=F(4482);function k(H,ce=0){return(0,h.e)((de,Ce)=>{Ce.add(H.schedule(()=>de.subscribe(Ce),ce))})}},3900:($t,qe,F)=>{F.d(qe,{w:()=>ce});var h=F(8421),k=F(4482),H=F(5403);function ce(de,Ce){return(0,k.e)((Ae,se)=>{let Be=null,ee=0,ae=!1;const De=()=>ae&&!Be&&se.complete();Ae.subscribe((0,H.x)(se,Qe=>{Be?.unsubscribe();let Je=0;const Ge=ee++;(0,h.Xf)(de(Qe,Ge)).subscribe(Be=(0,H.x)(se,Mt=>se.next(Ce?Ce(Qe,Mt,Ge,Je++):Mt),()=>{Be=null,De()}))},()=>{ae=!0,De()}))})}},5698:($t,qe,F)=>{F.d(qe,{q:()=>ce});var h=F(515),k=F(4482),H=F(5403);function ce(de){return de<=0?()=>h.E:(0,k.e)((Ce,Ae)=>{let se=0;Ce.subscribe((0,H.x)(Ae,Be=>{++se<=de&&(Ae.next(Be),de<=se&&Ae.complete())}))})}},8505:($t,qe,F)=>{F.d(qe,{b:()=>de});var h=F(576),k=F(4482),H=F(5403),ce=F(4671);function de(Ce,Ae,se){const Be=(0,h.m)(Ce)||Ae||se?{next:Ce,error:Ae,complete:se}:Ce;return Be?(0,k.e)((ee,ae)=>{var De;null===(De=Be.subscribe)||void 0===De||De.call(Be);let Qe=!0;ee.subscribe((0,H.x)(ae,Je=>{var Ge;null===(Ge=Be.next)||void 0===Ge||Ge.call(Be,Je),ae.next(Je)},()=>{var Je;Qe=!1,null===(Je=Be.complete)||void 0===Je||Je.call(Be),ae.complete()},Je=>{var Ge;Qe=!1,null===(Ge=Be.error)||void 0===Ge||Ge.call(Be,Je),ae.error(Je)},()=>{var Je,Ge;Qe&&(null===(Je=Be.unsubscribe)||void 0===Je||Je.call(Be)),null===(Ge=Be.finalize)||void 0===Ge||Ge.call(Be)}))}):ce.y}},8068:($t,qe,F)=>{F.d(qe,{T:()=>ce});var h=F(6805),k=F(4482),H=F(5403);function ce(Ce=de){return(0,k.e)((Ae,se)=>{let Be=!1;Ae.subscribe((0,H.x)(se,ee=>{Be=!0,se.next(ee)},()=>Be?se.complete():se.error(Ce())))})}function de(){return new h.K}},4408:($t,qe,F)=>{F.d(qe,{o:()=>de});var h=F(727);class k extends h.w0{constructor(Ae,se){super()}schedule(Ae,se=0){return this}}const H={setInterval(Ce,Ae,...se){const{delegate:Be}=H;return Be?.setInterval?Be.setInterval(Ce,Ae,...se):setInterval(Ce,Ae,...se)},clearInterval(Ce){const{delegate:Ae}=H;return(Ae?.clearInterval||clearInterval)(Ce)},delegate:void 0};var ce=F(8737);class de extends k{constructor(Ae,se){super(Ae,se),this.scheduler=Ae,this.work=se,this.pending=!1}schedule(Ae,se=0){if(this.closed)return this;this.state=Ae;const Be=this.id,ee=this.scheduler;return null!=Be&&(this.id=this.recycleAsyncId(ee,Be,se)),this.pending=!0,this.delay=se,this.id=this.id||this.requestAsyncId(ee,this.id,se),this}requestAsyncId(Ae,se,Be=0){return H.setInterval(Ae.flush.bind(Ae,this),Be)}recycleAsyncId(Ae,se,Be=0){if(null!=Be&&this.delay===Be&&!1===this.pending)return se;H.clearInterval(se)}execute(Ae,se){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Be=this._execute(Ae,se);if(Be)return Be;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Ae,se){let ee,Be=!1;try{this.work(Ae)}catch(ae){Be=!0,ee=ae||new Error("Scheduled action threw falsy error")}if(Be)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:Ae,scheduler:se}=this,{actions:Be}=se;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ce.P)(Be,this),null!=Ae&&(this.id=this.recycleAsyncId(se,Ae,null)),this.delay=null,super.unsubscribe()}}}},7565:($t,qe,F)=>{F.d(qe,{v:()=>H});var h=F(6063);class k{constructor(de,Ce=k.now){this.schedulerActionCtor=de,this.now=Ce}schedule(de,Ce=0,Ae){return new this.schedulerActionCtor(this,de).schedule(Ae,Ce)}}k.now=h.l.now;class H extends k{constructor(de,Ce=k.now){super(de,Ce),this.actions=[],this._active=!1,this._scheduled=void 0}flush(de){const{actions:Ce}=this;if(this._active)return void Ce.push(de);let Ae;this._active=!0;do{if(Ae=de.execute(de.state,de.delay))break}while(de=Ce.shift());if(this._active=!1,Ae){for(;de=Ce.shift();)de.unsubscribe();throw Ae}}}},4986:($t,qe,F)=>{F.d(qe,{z:()=>H});var h=F(4408);const H=new(F(7565).v)(h.o)},6063:($t,qe,F)=>{F.d(qe,{l:()=>h});const h={now:()=>(h.delegate||Date).now(),delegate:void 0}},3410:($t,qe,F)=>{F.d(qe,{z:()=>h});const h={setTimeout(k,H,...ce){const{delegate:de}=h;return de?.setTimeout?de.setTimeout(k,H,...ce):setTimeout(k,H,...ce)},clearTimeout(k){const{delegate:H}=h;return(H?.clearTimeout||clearTimeout)(k)},delegate:void 0}},2202:($t,qe,F)=>{F.d(qe,{h:()=>k});const k=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:($t,qe,F)=>{F.d(qe,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:($t,qe,F)=>{F.d(qe,{K:()=>k});const k=(0,F(3888).d)(H=>function(){H(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:($t,qe,F)=>{F.d(qe,{_6:()=>Ce,jO:()=>ce,yG:()=>de});var h=F(576);function H(Ae){return Ae[Ae.length-1]}function ce(Ae){return(0,h.m)(H(Ae))?Ae.pop():void 0}function de(Ae){return function k(Ae){return Ae&&(0,h.m)(Ae.schedule)}(H(Ae))?Ae.pop():void 0}function Ce(Ae,se){return"number"==typeof H(Ae)?Ae.pop():se}},4742:($t,qe,F)=>{F.d(qe,{D:()=>de});const{isArray:h}=Array,{getPrototypeOf:k,prototype:H,keys:ce}=Object;function de(Ae){if(1===Ae.length){const se=Ae[0];if(h(se))return{args:se,keys:null};if(function Ce(Ae){return Ae&&"object"==typeof Ae&&k(Ae)===H}(se)){const Be=ce(se);return{args:Be.map(ee=>se[ee]),keys:Be}}}return{args:Ae,keys:null}}},8737:($t,qe,F)=>{function h(k,H){if(k){const ce=k.indexOf(H);0<=ce&&k.splice(ce,1)}}F.d(qe,{P:()=>h})},3888:($t,qe,F)=>{function h(k){const ce=k(de=>{Error.call(de),de.stack=(new Error).stack});return ce.prototype=Object.create(Error.prototype),ce.prototype.constructor=ce,ce}F.d(qe,{d:()=>h})},1810:($t,qe,F)=>{function h(k,H){return k.reduce((ce,de,Ce)=>(ce[de]=H[Ce],ce),{})}F.d(qe,{n:()=>h})},2806:($t,qe,F)=>{F.d(qe,{O:()=>ce,x:()=>H});var h=F(2416);let k=null;function H(de){if(h.v.useDeprecatedSynchronousErrorHandling){const Ce=!k;if(Ce&&(k={errorThrown:!1,error:null}),de(),Ce){const{errorThrown:Ae,error:se}=k;if(k=null,Ae)throw se}}else de()}function ce(de){h.v.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=de)}},9672:($t,qe,F)=>{function h(k,H,ce,de=0,Ce=!1){const Ae=H.schedule(function(){ce(),Ce?k.add(this.schedule(null,de)):this.unsubscribe()},de);if(k.add(Ae),!Ce)return Ae}F.d(qe,{f:()=>h})},4671:($t,qe,F)=>{function h(k){return k}F.d(qe,{y:()=>h})},1144:($t,qe,F)=>{F.d(qe,{z:()=>h});const h=k=>k&&"number"==typeof k.length&&"function"!=typeof k},2206:($t,qe,F)=>{F.d(qe,{D:()=>k});var h=F(576);function k(H){return Symbol.asyncIterator&&(0,h.m)(H?.[Symbol.asyncIterator])}},576:($t,qe,F)=>{function h(k){return"function"==typeof k}F.d(qe,{m:()=>h})},3670:($t,qe,F)=>{F.d(qe,{c:()=>H});var h=F(8822),k=F(576);function H(ce){return(0,k.m)(ce[h.L])}},6495:($t,qe,F)=>{F.d(qe,{T:()=>H});var h=F(2202),k=F(576);function H(ce){return(0,k.m)(ce?.[h.h])}},8239:($t,qe,F)=>{F.d(qe,{t:()=>k});var h=F(576);function k(H){return(0,h.m)(H?.then)}},3260:($t,qe,F)=>{F.d(qe,{L:()=>ce,Q:()=>H});var h=F(655),k=F(576);function H(de){return(0,h.FC)(this,arguments,function*(){const Ae=de.getReader();try{for(;;){const{value:se,done:Be}=yield(0,h.qq)(Ae.read());if(Be)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(se)}}finally{Ae.releaseLock()}})}function ce(de){return(0,k.m)(de?.getReader)}},4482:($t,qe,F)=>{F.d(qe,{A:()=>k,e:()=>H});var h=F(576);function k(ce){return(0,h.m)(ce?.lift)}function H(ce){return de=>{if(k(de))return de.lift(function(Ce){try{return ce(Ce,this)}catch(Ae){this.error(Ae)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:($t,qe,F)=>{F.d(qe,{Z:()=>ce});var h=F(4004);const{isArray:k}=Array;function ce(de){return(0,h.U)(Ce=>function H(de,Ce){return k(Ce)?de(...Ce):de(Ce)}(de,Ce))}},5032:($t,qe,F)=>{function h(){}F.d(qe,{Z:()=>h})},9635:($t,qe,F)=>{F.d(qe,{U:()=>H,z:()=>k});var h=F(4671);function k(...ce){return H(ce)}function H(ce){return 0===ce.length?h.y:1===ce.length?ce[0]:function(Ce){return ce.reduce((Ae,se)=>se(Ae),Ce)}}},7849:($t,qe,F)=>{F.d(qe,{h:()=>H});var h=F(2416),k=F(3410);function H(ce){k.z.setTimeout(()=>{const{onUnhandledError:de}=h.v;if(!de)throw ce;de(ce)})}},4532:($t,qe,F)=>{function h(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(qe,{z:()=>h})},655:($t,qe,F)=>{function ce(be,Se){var He={};for(var Le in be)Object.prototype.hasOwnProperty.call(be,Le)&&Se.indexOf(Le)<0&&(He[Le]=be[Le]);if(null!=be&&"function"==typeof Object.getOwnPropertySymbols){var dt=0;for(Le=Object.getOwnPropertySymbols(be);dt<Le.length;dt++)Se.indexOf(Le[dt])<0&&Object.prototype.propertyIsEnumerable.call(be,Le[dt])&&(He[Le[dt]]=be[Le[dt]])}return He}function se(be,Se,He,Le){return new(He||(He=Promise))(function(It,St){function Kt(tn){try{ft(Le.next(tn))}catch(En){St(En)}}function zt(tn){try{ft(Le.throw(tn))}catch(En){St(En)}}function ft(tn){tn.done?It(tn.value):function dt(It){return It instanceof He?It:new He(function(St){St(It)})}(tn.value).then(Kt,zt)}ft((Le=Le.apply(be,Se||[])).next())})}function Ze(be){return this instanceof Ze?(this.v=be,this):new Ze(be)}function Ke(be,Se,He){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var dt,Le=He.apply(be,Se||[]),It=[];return dt={},St("next"),St("throw"),St("return"),dt[Symbol.asyncIterator]=function(){return this},dt;function St(et){Le[et]&&(dt[et]=function(pt){return new Promise(function(Ie,ve){It.push([et,pt,Ie,ve])>1||Kt(et,pt)})})}function Kt(et,pt){try{!function zt(et){et.value instanceof Ze?Promise.resolve(et.value.v).then(ft,tn):En(It[0][2],et)}(Le[et](pt))}catch(Ie){En(It[0][3],Ie)}}function ft(et){Kt("next",et)}function tn(et){Kt("throw",et)}function En(et,pt){et(pt),It.shift(),It.length&&Kt(It[0][0],It[0][1])}}function xt(be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var He,Se=be[Symbol.asyncIterator];return Se?Se.call(be):(be=function De(be){var Se="function"==typeof Symbol&&Symbol.iterator,He=Se&&be[Se],Le=0;if(He)return He.call(be);if(be&&"number"==typeof be.length)return{next:function(){return be&&Le>=be.length&&(be=void 0),{value:be&&be[Le++],done:!be}}};throw new TypeError(Se?"Object is not iterable.":"Symbol.iterator is not defined.")}(be),He={},Le("next"),Le("throw"),Le("return"),He[Symbol.asyncIterator]=function(){return this},He);function Le(It){He[It]=be[It]&&function(St){return new Promise(function(Kt,zt){!function dt(It,St,Kt,zt){Promise.resolve(zt).then(function(ft){It({value:ft,done:Kt})},St)}(Kt,zt,(St=be[It](St)).done,St.value)})}}}F.d(qe,{FC:()=>Ke,KL:()=>xt,_T:()=>ce,mG:()=>se,qq:()=>Ze})},7340:($t,qe,F)=>{F.d(qe,{LC:()=>k,SB:()=>Be,X$:()=>ce,ZE:()=>Me,ZN:()=>Ke,_j:()=>h,eR:()=>ae,jt:()=>de,k1:()=>xt,l3:()=>H,oB:()=>se,vP:()=>Ae});class h{}class k{}const H="*";function ce(Re,pe){return{type:7,name:Re,definitions:pe,options:{}}}function de(Re,pe=null){return{type:4,styles:pe,timings:Re}}function Ae(Re,pe=null){return{type:2,steps:Re,options:pe}}function se(Re){return{type:6,styles:Re,offset:null}}function Be(Re,pe,je){return{type:0,name:Re,styles:pe,options:je}}function ae(Re,pe,je=null){return{type:1,expr:Re,animation:pe,options:je}}function Ze(Re){Promise.resolve(null).then(Re)}class Ke{constructor(pe=0,je=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=pe+je}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(pe=>pe()),this._onDoneFns=[])}onStart(pe){this._originalOnStartFns.push(pe),this._onStartFns.push(pe)}onDone(pe){this._originalOnDoneFns.push(pe),this._onDoneFns.push(pe)}onDestroy(pe){this._onDestroyFns.push(pe)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ze(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(pe=>pe()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(pe=>pe()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(pe){this._position=this.totalTime?pe*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(pe){const je="start"==pe?this._onStartFns:this._onDoneFns;je.forEach(vt=>vt()),je.length=0}}class Me{constructor(pe){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=pe;let je=0,vt=0,Te=0;const Ve=this.players.length;0==Ve?Ze(()=>this._onFinish()):this.players.forEach(Ue=>{Ue.onDone(()=>{++je==Ve&&this._onFinish()}),Ue.onDestroy(()=>{++vt==Ve&&this._onDestroy()}),Ue.onStart(()=>{++Te==Ve&&this._onStart()})}),this.totalTime=this.players.reduce((Ue,be)=>Math.max(Ue,be.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(pe=>pe()),this._onDoneFns=[])}init(){this.players.forEach(pe=>pe.init())}onStart(pe){this._onStartFns.push(pe)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(pe=>pe()),this._onStartFns=[])}onDone(pe){this._onDoneFns.push(pe)}onDestroy(pe){this._onDestroyFns.push(pe)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(pe=>pe.play())}pause(){this.players.forEach(pe=>pe.pause())}restart(){this.players.forEach(pe=>pe.restart())}finish(){this._onFinish(),this.players.forEach(pe=>pe.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(pe=>pe.destroy()),this._onDestroyFns.forEach(pe=>pe()),this._onDestroyFns=[])}reset(){this.players.forEach(pe=>pe.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(pe){const je=pe*this.totalTime;this.players.forEach(vt=>{const Te=vt.totalTime?Math.min(1,je/vt.totalTime):1;vt.setPosition(Te)})}getPosition(){const pe=this.players.reduce((je,vt)=>null===je||vt.totalTime>je.totalTime?vt:je,null);return null!=pe?pe.getPosition():0}beforeDestroy(){this.players.forEach(pe=>{pe.beforeDestroy&&pe.beforeDestroy()})}triggerCallback(pe){const je="start"==pe?this._onStartFns:this._onDoneFns;je.forEach(vt=>vt()),je.length=0}}const xt="!"},6895:($t,qe,F)=>{F.d(qe,{Do:()=>xt,EM:()=>Ro,HT:()=>de,JF:()=>Zs,JJ:()=>Li,K0:()=>Ae,Mx:()=>wo,NF:()=>ai,O5:()=>ze,Ov:()=>xo,PC:()=>Ss,PM:()=>Si,RF:()=>Bn,S$:()=>Ze,V_:()=>ee,Ye:()=>Re,b0:()=>Me,bD:()=>nr,ez:()=>Co,n9:()=>Sr,q:()=>H,sg:()=>Gi,w_:()=>Ce});var h=F(4650);let k=null;function H(){return k}function de(x){k||(k=x)}class Ce{}const Ae=new h.OlP("DocumentToken");let se=(()=>{class x{historyGo(R){throw new Error("Not implemented")}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275prov=h.Yz7({token:x,factory:function(){return function Be(){return(0,h.LFG)(ae)}()},providedIn:"platform"}),x})();const ee=new h.OlP("Location Initialized");let ae=(()=>{class x extends se{constructor(R){super(),this._doc=R,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(R){const Z=H().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("popstate",R,!1),()=>Z.removeEventListener("popstate",R)}onHashChange(R){const Z=H().getGlobalEventTarget(this._doc,"window");return Z.addEventListener("hashchange",R,!1),()=>Z.removeEventListener("hashchange",R)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(R){this.location.pathname=R}pushState(R,Z,ge){De()?this._history.pushState(R,Z,ge):this.location.hash=ge}replaceState(R,Z,ge){De()?this._history.replaceState(R,Z,ge):this.location.hash=ge}forward(){this._history.forward()}back(){this._history.back()}historyGo(R=0){this._history.go(R)}getState(){return this._history.state}}return x.\u0275fac=function(R){return new(R||x)(h.LFG(Ae))},x.\u0275prov=h.Yz7({token:x,factory:function(){return function Qe(){return new ae((0,h.LFG)(Ae))}()},providedIn:"platform"}),x})();function De(){return!!window.history.pushState}function Je(x,G){if(0==x.length)return G;if(0==G.length)return x;let R=0;return x.endsWith("/")&&R++,G.startsWith("/")&&R++,2==R?x+G.substring(1):1==R?x+G:x+"/"+G}function Ge(x){const G=x.match(/#|\?|$/),R=G&&G.index||x.length;return x.slice(0,R-("/"===x[R-1]?1:0))+x.slice(R)}function Mt(x){return x&&"?"!==x[0]?"?"+x:x}let Ze=(()=>{class x{historyGo(R){throw new Error("Not implemented")}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275prov=h.Yz7({token:x,factory:function(){return(0,h.f3M)(Me)},providedIn:"root"}),x})();const Ke=new h.OlP("appBaseHref");let Me=(()=>{class x extends Ze{constructor(R,Z){super(),this._platformLocation=R,this._removeListenerFns=[],this._baseHref=Z??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(Ae).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}prepareExternalUrl(R){return Je(this._baseHref,R)}path(R=!1){const Z=this._platformLocation.pathname+Mt(this._platformLocation.search),ge=this._platformLocation.hash;return ge&&R?`${Z}${ge}`:Z}pushState(R,Z,ge,rt){const mt=this.prepareExternalUrl(ge+Mt(rt));this._platformLocation.pushState(R,Z,mt)}replaceState(R,Z,ge,rt){const mt=this.prepareExternalUrl(ge+Mt(rt));this._platformLocation.replaceState(R,Z,mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}}return x.\u0275fac=function(R){return new(R||x)(h.LFG(se),h.LFG(Ke,8))},x.\u0275prov=h.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),xt=(()=>{class x extends Ze{constructor(R,Z){super(),this._platformLocation=R,this._baseHref="",this._removeListenerFns=[],null!=Z&&(this._baseHref=Z)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(R){this._removeListenerFns.push(this._platformLocation.onPopState(R),this._platformLocation.onHashChange(R))}getBaseHref(){return this._baseHref}path(R=!1){let Z=this._platformLocation.hash;return null==Z&&(Z="#"),Z.length>0?Z.substring(1):Z}prepareExternalUrl(R){const Z=Je(this._baseHref,R);return Z.length>0?"#"+Z:Z}pushState(R,Z,ge,rt){let mt=this.prepareExternalUrl(ge+Mt(rt));0==mt.length&&(mt=this._platformLocation.pathname),this._platformLocation.pushState(R,Z,mt)}replaceState(R,Z,ge,rt){let mt=this.prepareExternalUrl(ge+Mt(rt));0==mt.length&&(mt=this._platformLocation.pathname),this._platformLocation.replaceState(R,Z,mt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(R=0){this._platformLocation.historyGo?.(R)}}return x.\u0275fac=function(R){return new(R||x)(h.LFG(se),h.LFG(Ke,8))},x.\u0275prov=h.Yz7({token:x,factory:x.\u0275fac}),x})(),Re=(()=>{class x{constructor(R){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=R;const Z=this._locationStrategy.getBaseHref();this._baseHref=Ge(vt(Z)),this._locationStrategy.onPopState(ge=>{this._subject.emit({url:this.path(!0),pop:!0,state:ge.state,type:ge.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(R=!1){return this.normalize(this._locationStrategy.path(R))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(R,Z=""){return this.path()==this.normalize(R+Mt(Z))}normalize(R){return x.stripTrailingSlash(function je(x,G){return x&&G.startsWith(x)?G.substring(x.length):G}(this._baseHref,vt(R)))}prepareExternalUrl(R){return R&&"/"!==R[0]&&(R="/"+R),this._locationStrategy.prepareExternalUrl(R)}go(R,Z="",ge=null){this._locationStrategy.pushState(ge,"",R,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+Mt(Z)),ge)}replaceState(R,Z="",ge=null){this._locationStrategy.replaceState(ge,"",R,Z),this._notifyUrlChangeListeners(this.prepareExternalUrl(R+Mt(Z)),ge)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(R=0){this._locationStrategy.historyGo?.(R)}onUrlChange(R){return this._urlChangeListeners.push(R),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(Z=>{this._notifyUrlChangeListeners(Z.url,Z.state)})),()=>{const Z=this._urlChangeListeners.indexOf(R);this._urlChangeListeners.splice(Z,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(R="",Z){this._urlChangeListeners.forEach(ge=>ge(R,Z))}subscribe(R,Z,ge){return this._subject.subscribe({next:R,error:Z,complete:ge})}}return x.normalizeQueryParams=Mt,x.joinWithSlash=Je,x.stripTrailingSlash=Ge,x.\u0275fac=function(R){return new(R||x)(h.LFG(Ze))},x.\u0275prov=h.Yz7({token:x,factory:function(){return function pe(){return new Re((0,h.LFG)(Ze))}()},providedIn:"root"}),x})();function vt(x){return x.replace(/\/index.html$/,"")}var Ve=(()=>((Ve=Ve||{})[Ve.Decimal=0]="Decimal",Ve[Ve.Percent=1]="Percent",Ve[Ve.Currency=2]="Currency",Ve[Ve.Scientific=3]="Scientific",Ve))(),Le=(()=>((Le=Le||{})[Le.Decimal=0]="Decimal",Le[Le.Group=1]="Group",Le[Le.List=2]="List",Le[Le.PercentSign=3]="PercentSign",Le[Le.PlusSign=4]="PlusSign",Le[Le.MinusSign=5]="MinusSign",Le[Le.Exponential=6]="Exponential",Le[Le.SuperscriptingExponent=7]="SuperscriptingExponent",Le[Le.PerMille=8]="PerMille",Le[Le.Infinity=9]="Infinity",Le[Le.NaN=10]="NaN",Le[Le.TimeSeparator=11]="TimeSeparator",Le[Le.CurrencyDecimal=12]="CurrencyDecimal",Le[Le.CurrencyGroup=13]="CurrencyGroup",Le))();function ve(x,G){const R=(0,h.cg1)(x),Z=R[h.wAp.NumberSymbols][G];if(typeof Z>"u"){if(G===Le.CurrencyDecimal)return R[h.wAp.NumberSymbols][Le.Decimal];if(G===Le.CurrencyGroup)return R[h.wAp.NumberSymbols][Le.Group]}return Z}const cn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function yr(x){const G=parseInt(x);if(isNaN(G))throw new Error("Invalid integer literal when parsing "+x);return G}function wo(x,G){G=encodeURIComponent(G);for(const R of x.split(";")){const Z=R.indexOf("="),[ge,rt]=-1==Z?[R,""]:[R.slice(0,Z),R.slice(Z+1)];if(ge.trim()===G)return decodeURIComponent(rt)}return null}class Ii{constructor(G,R,Z,ge){this.$implicit=G,this.ngForOf=R,this.index=Z,this.count=ge}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Gi=(()=>{class x{constructor(R,Z,ge){this._viewContainer=R,this._template=Z,this._differs=ge,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(R){this._ngForOf=R,this._ngForOfDirty=!0}set ngForTrackBy(R){this._trackByFn=R}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(R){R&&(this._template=R)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const R=this._ngForOf;!this._differ&&R&&(this._differ=this._differs.find(R).create(this.ngForTrackBy))}if(this._differ){const R=this._differ.diff(this._ngForOf);R&&this._applyChanges(R)}}_applyChanges(R){const Z=this._viewContainer;R.forEachOperation((ge,rt,mt)=>{if(null==ge.previousIndex)Z.createEmbeddedView(this._template,new Ii(ge.item,this._ngForOf,-1,-1),null===mt?void 0:mt);else if(null==mt)Z.remove(null===rt?void 0:rt);else if(null!==rt){const Xt=Z.get(rt);Z.move(Xt,mt),Pe(Xt,ge)}});for(let ge=0,rt=Z.length;ge<rt;ge++){const Xt=Z.get(ge).context;Xt.index=ge,Xt.count=rt,Xt.ngForOf=this._ngForOf}R.forEachIdentityChange(ge=>{Pe(Z.get(ge.currentIndex),ge)})}static ngTemplateContextGuard(R,Z){return!0}}return x.\u0275fac=function(R){return new(R||x)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},x.\u0275dir=h.lG2({type:x,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),x})();function Pe(x,G){x.context.$implicit=G.item}let ze=(()=>{class x{constructor(R,Z){this._viewContainer=R,this._context=new yt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=Z}set ngIf(R){this._context.$implicit=this._context.ngIf=R,this._updateView()}set ngIfThen(R){Ct("ngIfThen",R),this._thenTemplateRef=R,this._thenViewRef=null,this._updateView()}set ngIfElse(R){Ct("ngIfElse",R),this._elseTemplateRef=R,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(R,Z){return!0}}return x.\u0275fac=function(R){return new(R||x)(h.Y36(h.s_b),h.Y36(h.Rgc))},x.\u0275dir=h.lG2({type:x,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),x})();class yt{constructor(){this.$implicit=null,this.ngIf=null}}function Ct(x,G){if(G&&!G.createEmbeddedView)throw new Error(`${x} must be a TemplateRef, but received '${(0,h.AaK)(G)}'.`)}class Wt{constructor(G,R){this._viewContainerRef=G,this._templateRef=R,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(G){G&&!this._created?this.create():!G&&this._created&&this.destroy()}}let Bn=(()=>{class x{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(R){this._ngSwitch=R,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(R){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(R)}_matchCase(R){const Z=R==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||Z,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),Z}_updateDefaultCases(R){if(this._defaultViews&&R!==this._defaultUsed){this._defaultUsed=R;for(let Z=0;Z<this._defaultViews.length;Z++)this._defaultViews[Z].enforceState(R)}}}return x.\u0275fac=function(R){return new(R||x)},x.\u0275dir=h.lG2({type:x,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),x})(),Sr=(()=>{class x{constructor(R,Z,ge){this.ngSwitch=ge,ge._addCase(),this._view=new Wt(R,Z)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return x.\u0275fac=function(R){return new(R||x)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(Bn,9))},x.\u0275dir=h.lG2({type:x,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),x})(),Ss=(()=>{class x{constructor(R,Z,ge){this._ngEl=R,this._differs=Z,this._renderer=ge,this._ngStyle=null,this._differ=null}set ngStyle(R){this._ngStyle=R,!this._differ&&R&&(this._differ=this._differs.find(R).create())}ngDoCheck(){if(this._differ){const R=this._differ.diff(this._ngStyle);R&&this._applyChanges(R)}}_setStyle(R,Z){const[ge,rt]=R.split("."),mt=-1===ge.indexOf("-")?void 0:h.JOm.DashCase;null!=Z?this._renderer.setStyle(this._ngEl.nativeElement,ge,rt?`${Z}${rt}`:Z,mt):this._renderer.removeStyle(this._ngEl.nativeElement,ge,mt)}_applyChanges(R){R.forEachRemovedItem(Z=>this._setStyle(Z.key,null)),R.forEachAddedItem(Z=>this._setStyle(Z.key,Z.currentValue)),R.forEachChangedItem(Z=>this._setStyle(Z.key,Z.currentValue))}}return x.\u0275fac=function(R){return new(R||x)(h.Y36(h.SBq),h.Y36(h.aQg),h.Y36(h.Qsj))},x.\u0275dir=h.lG2({type:x,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),x})();function zi(x,G){return new h.vHH(2100,!1)}class Go{createSubscription(G,R){return G.subscribe({next:R,error:Z=>{throw Z}})}dispose(G){G.unsubscribe()}}class Wi{createSubscription(G,R){return G.then(R,Z=>{throw Z})}dispose(G){}}const Mo=new Wi,Io=new Go;let xo=(()=>{class x{constructor(R){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=R}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(R){return this._obj?R!==this._obj?(this._dispose(),this.transform(R)):this._latestValue:(R&&this._subscribe(R),this._latestValue)}_subscribe(R){this._obj=R,this._strategy=this._selectStrategy(R),this._subscription=this._strategy.createSubscription(R,Z=>this._updateLatestValue(R,Z))}_selectStrategy(R){if((0,h.QGY)(R))return Mo;if((0,h.F4k)(R))return Io;throw zi()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(R,Z){R===this._obj&&(this._latestValue=Z,this._ref.markForCheck())}}return x.\u0275fac=function(R){return new(R||x)(h.Y36(h.sBO,16))},x.\u0275pipe=h.Yjl({name:"async",type:x,pure:!1,standalone:!0}),x})(),Li=(()=>{class x{constructor(R){this._locale=R}transform(R,Z,ge){if(!function ss(x){return!(null==x||""===x||x!=x)}(R))return null;ge=ge||this._locale;try{return function hn(x,G,R){return function Pn(x,G,R,Z,ge,rt,mt=!1){let Xt="",Qn=!1;if(isFinite(x)){let fr=function ki(x){let Z,ge,rt,mt,Xt,G=Math.abs(x)+"",R=0;for((ge=G.indexOf("."))>-1&&(G=G.replace(".","")),(rt=G.search(/e/i))>0?(ge<0&&(ge=rt),ge+=+G.slice(rt+1),G=G.substring(0,rt)):ge<0&&(ge=G.length),rt=0;"0"===G.charAt(rt);rt++);if(rt===(Xt=G.length))Z=[0],ge=1;else{for(Xt--;"0"===G.charAt(Xt);)Xt--;for(ge-=rt,Z=[],mt=0;rt<=Xt;rt++,mt++)Z[mt]=Number(G.charAt(rt))}return ge>22&&(Z=Z.splice(0,21),R=ge-1,ge=1),{digits:Z,exponent:R,integerLen:ge}}(x);mt&&(fr=function Wn(x){if(0===x.digits[0])return x;const G=x.digits.length-x.integerLen;return x.exponent?x.exponent+=2:(0===G?x.digits.push(0,0):1===G&&x.digits.push(0),x.integerLen+=2),x}(fr));let lr=G.minInt,or=G.minFrac,Hr=G.maxFrac;if(rt){const ko=rt.match(cn);if(null===ko)throw new Error(`${rt} is not a valid digit info`);const $i=ko[1],Xi=ko[3],Xo=ko[5];null!=$i&&(lr=yr($i)),null!=Xi&&(or=yr(Xi)),null!=Xo?Hr=yr(Xo):null!=Xi&&or>Hr&&(Hr=or)}!function Fi(x,G,R){if(G>R)throw new Error(`The minimum number of digits after fraction (${G}) is higher than the maximum (${R}).`);let Z=x.digits,ge=Z.length-x.integerLen;const rt=Math.min(Math.max(G,ge),R);let mt=rt+x.integerLen,Xt=Z[mt];if(mt>0){Z.splice(Math.max(x.integerLen,mt));for(let or=mt;or<Z.length;or++)Z[or]=0}else{ge=Math.max(0,ge),x.integerLen=1,Z.length=Math.max(1,mt=rt+1),Z[0]=0;for(let or=1;or<mt;or++)Z[or]=0}if(Xt>=5)if(mt-1<0){for(let or=0;or>mt;or--)Z.unshift(0),x.integerLen++;Z.unshift(1),x.integerLen++}else Z[mt-1]++;for(;ge<Math.max(0,rt);ge++)Z.push(0);let Qn=0!==rt;const fr=G+x.integerLen,lr=Z.reduceRight(function(or,Hr,dr,Jn){return Jn[dr]=(Hr+=or)<10?Hr:Hr-10,Qn&&(0===Jn[dr]&&dr>=fr?Jn.pop():Qn=!1),Hr>=10?1:0},0);lr&&(Z.unshift(lr),x.integerLen++)}(fr,or,Hr);let dr=fr.digits,Jn=fr.integerLen;const Xs=fr.exponent;let _s=[];for(Qn=dr.every(ko=>!ko);Jn<lr;Jn++)dr.unshift(0);for(;Jn<0;Jn++)dr.unshift(0);Jn>0?_s=dr.splice(Jn,dr.length):(_s=dr,dr=[0]);const xi=[];for(dr.length>=G.lgSize&&xi.unshift(dr.splice(-G.lgSize,dr.length).join(""));dr.length>G.gSize;)xi.unshift(dr.splice(-G.gSize,dr.length).join(""));dr.length&&xi.unshift(dr.join("")),Xt=xi.join(ve(R,Z)),_s.length&&(Xt+=ve(R,ge)+_s.join("")),Xs&&(Xt+=ve(R,Le.Exponential)+"+"+Xs)}else Xt=ve(R,Le.Infinity);return Xt=x<0&&!Qn?G.negPre+Xt+G.negSuf:G.posPre+Xt+G.posSuf,Xt}(x,function qr(x,G="-"){const R={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},Z=x.split(";"),ge=Z[0],rt=Z[1],mt=-1!==ge.indexOf(".")?ge.split("."):[ge.substring(0,ge.lastIndexOf("0")+1),ge.substring(ge.lastIndexOf("0")+1)],Xt=mt[0],Qn=mt[1]||"";R.posPre=Xt.substring(0,Xt.indexOf("#"));for(let lr=0;lr<Qn.length;lr++){const or=Qn.charAt(lr);"0"===or?R.minFrac=R.maxFrac=lr+1:"#"===or?R.maxFrac=lr+1:R.posSuf+=or}const fr=Xt.split(",");if(R.gSize=fr[1]?fr[1].length:0,R.lgSize=fr[2]||fr[1]?(fr[2]||fr[1]).length:0,rt){const lr=ge.length-R.posPre.length-R.posSuf.length,or=rt.indexOf("#");R.negPre=rt.substring(0,or).replace(/'/g,""),R.negSuf=rt.slice(or+lr).replace(/'/g,"")}else R.negPre=G+R.posPre,R.negSuf=R.posSuf;return R}(function Ft(x,G){return(0,h.cg1)(x)[h.wAp.NumberFormats][G]}(G,Ve.Decimal),ve(G,Le.MinusSign)),G,Le.Group,Le.Decimal,R)}(function Zi(x){if("string"==typeof x&&!isNaN(Number(x)-parseFloat(x)))return Number(x);if("number"!=typeof x)throw new Error(`${x} is not a number`);return x}(R),ge,Z)}catch(rt){throw zi()}}}return x.\u0275fac=function(R){return new(R||x)(h.Y36(h.soG,16))},x.\u0275pipe=h.Yjl({name:"number",type:x,pure:!0,standalone:!0}),x})();let Co=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=h.oAB({type:x}),x.\u0275inj=h.cJS({}),x})();const nr="browser";function ai(x){return x===nr}function Si(x){return"server"===x}let Ro=(()=>{class x{}return x.\u0275prov=(0,h.Yz7)({token:x,providedIn:"root",factory:()=>new lo((0,h.LFG)(Ae),window)}),x})();class lo{constructor(G,R){this.document=G,this.window=R,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const R=function xr(x,G){const R=x.getElementById(G)||x.getElementsByName(G)[0];if(R)return R;if("function"==typeof x.createTreeWalker&&x.body&&(x.body.createShadowRoot||x.body.attachShadow)){const Z=x.createTreeWalker(x.body,NodeFilter.SHOW_ELEMENT);let ge=Z.currentNode;for(;ge;){const rt=ge.shadowRoot;if(rt){const mt=rt.getElementById(G)||rt.querySelector(`[name="${G}"]`);if(mt)return mt}ge=Z.nextNode()}}return null}(this.document,G);R&&(this.scrollToElement(R),R.focus())}setHistoryScrollRestoration(G){if(this.supportScrollRestoration()){const R=this.window.history;R&&R.scrollRestoration&&(R.scrollRestoration=G)}}scrollToElement(G){const R=G.getBoundingClientRect(),Z=R.left+this.window.pageXOffset,ge=R.top+this.window.pageYOffset,rt=this.offset();this.window.scrollTo(Z-rt[0],ge-rt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const G=ui(this.window.history)||ui(Object.getPrototypeOf(this.window.history));return!(!G||!G.writable&&!G.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ui(x){return Object.getOwnPropertyDescriptor(x,"scrollRestoration")}class Zs{}},529:($t,qe,F)=>{F.d(qe,{JF:()=>mr,TP:()=>Kt,Zn:()=>He,eN:()=>It});var h=F(6895),k=F(4650),H=F(9646),ce=F(9751),de=F(4351),Ce=F(9300),Ae=F(4004);class se{}class Be{}class ee{constructor(_e){this.normalizedNames=new Map,this.lazyUpdate=null,_e?this.lazyInit="string"==typeof _e?()=>{this.headers=new Map,_e.split("\n").forEach(le=>{const nt=le.indexOf(":");if(nt>0){const ot=le.slice(0,nt),Zt=ot.toLowerCase(),on=le.slice(nt+1).trim();this.maybeSetNormalizedName(ot,Zt),this.headers.has(Zt)?this.headers.get(Zt).push(on):this.headers.set(Zt,[on])}})}:()=>{this.headers=new Map,Object.keys(_e).forEach(le=>{let nt=_e[le];const ot=le.toLowerCase();"string"==typeof nt&&(nt=[nt]),nt.length>0&&(this.headers.set(ot,nt),this.maybeSetNormalizedName(le,ot))})}:this.headers=new Map}has(_e){return this.init(),this.headers.has(_e.toLowerCase())}get(_e){this.init();const le=this.headers.get(_e.toLowerCase());return le&&le.length>0?le[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(_e){return this.init(),this.headers.get(_e.toLowerCase())||null}append(_e,le){return this.clone({name:_e,value:le,op:"a"})}set(_e,le){return this.clone({name:_e,value:le,op:"s"})}delete(_e,le){return this.clone({name:_e,value:le,op:"d"})}maybeSetNormalizedName(_e,le){this.normalizedNames.has(le)||this.normalizedNames.set(le,_e)}init(){this.lazyInit&&(this.lazyInit instanceof ee?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(_e=>this.applyUpdate(_e)),this.lazyUpdate=null))}copyFrom(_e){_e.init(),Array.from(_e.headers.keys()).forEach(le=>{this.headers.set(le,_e.headers.get(le)),this.normalizedNames.set(le,_e.normalizedNames.get(le))})}clone(_e){const le=new ee;return le.lazyInit=this.lazyInit&&this.lazyInit instanceof ee?this.lazyInit:this,le.lazyUpdate=(this.lazyUpdate||[]).concat([_e]),le}applyUpdate(_e){const le=_e.name.toLowerCase();switch(_e.op){case"a":case"s":let nt=_e.value;if("string"==typeof nt&&(nt=[nt]),0===nt.length)return;this.maybeSetNormalizedName(_e.name,le);const ot=("a"===_e.op?this.headers.get(le):void 0)||[];ot.push(...nt),this.headers.set(le,ot);break;case"d":const Zt=_e.value;if(Zt){let on=this.headers.get(le);if(!on)return;on=on.filter(Gt=>-1===Zt.indexOf(Gt)),0===on.length?(this.headers.delete(le),this.normalizedNames.delete(le)):this.headers.set(le,on)}else this.headers.delete(le),this.normalizedNames.delete(le)}}forEach(_e){this.init(),Array.from(this.normalizedNames.keys()).forEach(le=>_e(this.normalizedNames.get(le),this.headers.get(le)))}}class De{encodeKey(_e){return Mt(_e)}encodeValue(_e){return Mt(_e)}decodeKey(_e){return decodeURIComponent(_e)}decodeValue(_e){return decodeURIComponent(_e)}}const Je=/%(\d[a-f0-9])/gi,Ge={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Mt(at){return encodeURIComponent(at).replace(Je,(_e,le)=>Ge[le]??_e)}function Ze(at){return`${at}`}class Ke{constructor(_e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=_e.encoder||new De,_e.fromString){if(_e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Qe(at,_e){const le=new Map;return at.length>0&&at.replace(/^\?/,"").split("&").forEach(ot=>{const Zt=ot.indexOf("="),[on,Gt]=-1==Zt?[_e.decodeKey(ot),""]:[_e.decodeKey(ot.slice(0,Zt)),_e.decodeValue(ot.slice(Zt+1))],Ot=le.get(on)||[];Ot.push(Gt),le.set(on,Ot)}),le}(_e.fromString,this.encoder)}else _e.fromObject?(this.map=new Map,Object.keys(_e.fromObject).forEach(le=>{const nt=_e.fromObject[le],ot=Array.isArray(nt)?nt.map(Ze):[Ze(nt)];this.map.set(le,ot)})):this.map=null}has(_e){return this.init(),this.map.has(_e)}get(_e){this.init();const le=this.map.get(_e);return le?le[0]:null}getAll(_e){return this.init(),this.map.get(_e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(_e,le){return this.clone({param:_e,value:le,op:"a"})}appendAll(_e){const le=[];return Object.keys(_e).forEach(nt=>{const ot=_e[nt];Array.isArray(ot)?ot.forEach(Zt=>{le.push({param:nt,value:Zt,op:"a"})}):le.push({param:nt,value:ot,op:"a"})}),this.clone(le)}set(_e,le){return this.clone({param:_e,value:le,op:"s"})}delete(_e,le){return this.clone({param:_e,value:le,op:"d"})}toString(){return this.init(),this.keys().map(_e=>{const le=this.encoder.encodeKey(_e);return this.map.get(_e).map(nt=>le+"="+this.encoder.encodeValue(nt)).join("&")}).filter(_e=>""!==_e).join("&")}clone(_e){const le=new Ke({encoder:this.encoder});return le.cloneFrom=this.cloneFrom||this,le.updates=(this.updates||[]).concat(_e),le}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(_e=>this.map.set(_e,this.cloneFrom.map.get(_e))),this.updates.forEach(_e=>{switch(_e.op){case"a":case"s":const le=("a"===_e.op?this.map.get(_e.param):void 0)||[];le.push(Ze(_e.value)),this.map.set(_e.param,le);break;case"d":if(void 0===_e.value){this.map.delete(_e.param);break}{let nt=this.map.get(_e.param)||[];const ot=nt.indexOf(Ze(_e.value));-1!==ot&&nt.splice(ot,1),nt.length>0?this.map.set(_e.param,nt):this.map.delete(_e.param)}}}),this.cloneFrom=this.updates=null)}}class xt{constructor(){this.map=new Map}set(_e,le){return this.map.set(_e,le),this}get(_e){return this.map.has(_e)||this.map.set(_e,_e.defaultValue()),this.map.get(_e)}delete(_e){return this.map.delete(_e),this}has(_e){return this.map.has(_e)}keys(){return this.map.keys()}}function pe(at){return typeof ArrayBuffer<"u"&&at instanceof ArrayBuffer}function je(at){return typeof Blob<"u"&&at instanceof Blob}function vt(at){return typeof FormData<"u"&&at instanceof FormData}class Ve{constructor(_e,le,nt,ot){let Zt;if(this.url=le,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=_e.toUpperCase(),function Re(at){switch(at){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ot?(this.body=void 0!==nt?nt:null,Zt=ot):Zt=nt,Zt&&(this.reportProgress=!!Zt.reportProgress,this.withCredentials=!!Zt.withCredentials,Zt.responseType&&(this.responseType=Zt.responseType),Zt.headers&&(this.headers=Zt.headers),Zt.context&&(this.context=Zt.context),Zt.params&&(this.params=Zt.params)),this.headers||(this.headers=new ee),this.context||(this.context=new xt),this.params){const on=this.params.toString();if(0===on.length)this.urlWithParams=le;else{const Gt=le.indexOf("?");this.urlWithParams=le+(-1===Gt?"?":Gt<le.length-1?"&":"")+on}}else this.params=new Ke,this.urlWithParams=le}serializeBody(){return null===this.body?null:pe(this.body)||je(this.body)||vt(this.body)||function Te(at){return typeof URLSearchParams<"u"&&at instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ke?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||vt(this.body)?null:je(this.body)?this.body.type||null:pe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ke?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(_e={}){const le=_e.method||this.method,nt=_e.url||this.url,ot=_e.responseType||this.responseType,Zt=void 0!==_e.body?_e.body:this.body,on=void 0!==_e.withCredentials?_e.withCredentials:this.withCredentials,Gt=void 0!==_e.reportProgress?_e.reportProgress:this.reportProgress;let Ot=_e.headers||this.headers,zn=_e.params||this.params;const ln=_e.context??this.context;return void 0!==_e.setHeaders&&(Ot=Object.keys(_e.setHeaders).reduce((Er,mn)=>Er.set(mn,_e.setHeaders[mn]),Ot)),_e.setParams&&(zn=Object.keys(_e.setParams).reduce((Er,mn)=>Er.set(mn,_e.setParams[mn]),zn)),new Ve(le,nt,Zt,{params:zn,headers:Ot,context:ln,reportProgress:Gt,responseType:ot,withCredentials:on})}}var Ue=(()=>((Ue=Ue||{})[Ue.Sent=0]="Sent",Ue[Ue.UploadProgress=1]="UploadProgress",Ue[Ue.ResponseHeader=2]="ResponseHeader",Ue[Ue.DownloadProgress=3]="DownloadProgress",Ue[Ue.Response=4]="Response",Ue[Ue.User=5]="User",Ue))();class be{constructor(_e,le=200,nt="OK"){this.headers=_e.headers||new ee,this.status=void 0!==_e.status?_e.status:le,this.statusText=_e.statusText||nt,this.url=_e.url||null,this.ok=this.status>=200&&this.status<300}}class Se extends be{constructor(_e={}){super(_e),this.type=Ue.ResponseHeader}clone(_e={}){return new Se({headers:_e.headers||this.headers,status:void 0!==_e.status?_e.status:this.status,statusText:_e.statusText||this.statusText,url:_e.url||this.url||void 0})}}class He extends be{constructor(_e={}){super(_e),this.type=Ue.Response,this.body=void 0!==_e.body?_e.body:null}clone(_e={}){return new He({body:void 0!==_e.body?_e.body:this.body,headers:_e.headers||this.headers,status:void 0!==_e.status?_e.status:this.status,statusText:_e.statusText||this.statusText,url:_e.url||this.url||void 0})}}class Le extends be{constructor(_e){super(_e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${_e.url||"(unknown url)"}`:`Http failure response for ${_e.url||"(unknown url)"}: ${_e.status} ${_e.statusText}`,this.error=_e.error||null}}function dt(at,_e){return{body:_e,headers:at.headers,context:at.context,observe:at.observe,params:at.params,reportProgress:at.reportProgress,responseType:at.responseType,withCredentials:at.withCredentials}}let It=(()=>{class at{constructor(le){this.handler=le}request(le,nt,ot={}){let Zt;if(le instanceof Ve)Zt=le;else{let Ot,zn;Ot=ot.headers instanceof ee?ot.headers:new ee(ot.headers),ot.params&&(zn=ot.params instanceof Ke?ot.params:new Ke({fromObject:ot.params})),Zt=new Ve(le,nt,void 0!==ot.body?ot.body:null,{headers:Ot,context:ot.context,params:zn,reportProgress:ot.reportProgress,responseType:ot.responseType||"json",withCredentials:ot.withCredentials})}const on=(0,H.of)(Zt).pipe((0,de.b)(Ot=>this.handler.handle(Ot)));if(le instanceof Ve||"events"===ot.observe)return on;const Gt=on.pipe((0,Ce.h)(Ot=>Ot instanceof He));switch(ot.observe||"body"){case"body":switch(Zt.responseType){case"arraybuffer":return Gt.pipe((0,Ae.U)(Ot=>{if(null!==Ot.body&&!(Ot.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Ot.body}));case"blob":return Gt.pipe((0,Ae.U)(Ot=>{if(null!==Ot.body&&!(Ot.body instanceof Blob))throw new Error("Response is not a Blob.");return Ot.body}));case"text":return Gt.pipe((0,Ae.U)(Ot=>{if(null!==Ot.body&&"string"!=typeof Ot.body)throw new Error("Response is not a string.");return Ot.body}));default:return Gt.pipe((0,Ae.U)(Ot=>Ot.body))}case"response":return Gt;default:throw new Error(`Unreachable: unhandled observe type ${ot.observe}}`)}}delete(le,nt={}){return this.request("DELETE",le,nt)}get(le,nt={}){return this.request("GET",le,nt)}head(le,nt={}){return this.request("HEAD",le,nt)}jsonp(le,nt){return this.request("JSONP",le,{params:(new Ke).append(nt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(le,nt={}){return this.request("OPTIONS",le,nt)}patch(le,nt,ot={}){return this.request("PATCH",le,dt(ot,nt))}post(le,nt,ot={}){return this.request("POST",le,dt(ot,nt))}put(le,nt,ot={}){return this.request("PUT",le,dt(ot,nt))}}return at.\u0275fac=function(le){return new(le||at)(k.LFG(se))},at.\u0275prov=k.Yz7({token:at,factory:at.\u0275fac}),at})();class St{constructor(_e,le){this.next=_e,this.interceptor=le}handle(_e){return this.interceptor.intercept(_e,this.next)}}const Kt=new k.OlP("HTTP_INTERCEPTORS");let zt=(()=>{class at{intercept(le,nt){return nt.handle(le)}}return at.\u0275fac=function(le){return new(le||at)},at.\u0275prov=k.Yz7({token:at,factory:at.\u0275fac}),at})();const In=/^\)\]\}',?\n/;let cr=(()=>{class at{constructor(le){this.xhrFactory=le}handle(le){if("JSONP"===le.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ce.y(nt=>{const ot=this.xhrFactory.build();if(ot.open(le.method,le.urlWithParams),le.withCredentials&&(ot.withCredentials=!0),le.headers.forEach((Ee,he)=>ot.setRequestHeader(Ee,he.join(","))),le.headers.has("Accept")||ot.setRequestHeader("Accept","application/json, text/plain, */*"),!le.headers.has("Content-Type")){const Ee=le.detectContentTypeHeader();null!==Ee&&ot.setRequestHeader("Content-Type",Ee)}if(le.responseType){const Ee=le.responseType.toLowerCase();ot.responseType="json"!==Ee?Ee:"text"}const Zt=le.serializeBody();let on=null;const Gt=()=>{if(null!==on)return on;const Ee=ot.statusText||"OK",he=new ee(ot.getAllResponseHeaders()),q=function xn(at){return"responseURL"in at&&at.responseURL?at.responseURL:/^X-Request-URL:/m.test(at.getAllResponseHeaders())?at.getResponseHeader("X-Request-URL"):null}(ot)||le.url;return on=new Se({headers:he,status:ot.status,statusText:Ee,url:q}),on},Ot=()=>{let{headers:Ee,status:he,statusText:q,url:N}=Gt(),j=null;204!==he&&(j=typeof ot.response>"u"?ot.responseText:ot.response),0===he&&(he=j?200:0);let fe=he>=200&&he<300;if("json"===le.responseType&&"string"==typeof j){const We=j;j=j.replace(In,"");try{j=""!==j?JSON.parse(j):null}catch(Pt){j=We,fe&&(fe=!1,j={error:Pt,text:j})}}fe?(nt.next(new He({body:j,headers:Ee,status:he,statusText:q,url:N||void 0})),nt.complete()):nt.error(new Le({error:j,headers:Ee,status:he,statusText:q,url:N||void 0}))},zn=Ee=>{const{url:he}=Gt(),q=new Le({error:Ee,status:ot.status||0,statusText:ot.statusText||"Unknown Error",url:he||void 0});nt.error(q)};let ln=!1;const Er=Ee=>{ln||(nt.next(Gt()),ln=!0);let he={type:Ue.DownloadProgress,loaded:Ee.loaded};Ee.lengthComputable&&(he.total=Ee.total),"text"===le.responseType&&!!ot.responseText&&(he.partialText=ot.responseText),nt.next(he)},mn=Ee=>{let he={type:Ue.UploadProgress,loaded:Ee.loaded};Ee.lengthComputable&&(he.total=Ee.total),nt.next(he)};return ot.addEventListener("load",Ot),ot.addEventListener("error",zn),ot.addEventListener("timeout",zn),ot.addEventListener("abort",zn),le.reportProgress&&(ot.addEventListener("progress",Er),null!==Zt&&ot.upload&&ot.upload.addEventListener("progress",mn)),ot.send(Zt),nt.next({type:Ue.Sent}),()=>{ot.removeEventListener("error",zn),ot.removeEventListener("abort",zn),ot.removeEventListener("load",Ot),ot.removeEventListener("timeout",zn),le.reportProgress&&(ot.removeEventListener("progress",Er),null!==Zt&&ot.upload&&ot.upload.removeEventListener("progress",mn)),ot.readyState!==ot.DONE&&ot.abort()}})}}return at.\u0275fac=function(le){return new(le||at)(k.LFG(h.JF))},at.\u0275prov=k.Yz7({token:at,factory:at.\u0275fac}),at})();const kn=new k.OlP("XSRF_COOKIE_NAME"),Un=new k.OlP("XSRF_HEADER_NAME");class Ln{}let ar=(()=>{class at{constructor(le,nt,ot){this.doc=le,this.platform=nt,this.cookieName=ot,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const le=this.doc.cookie||"";return le!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,h.Mx)(le,this.cookieName),this.lastCookieString=le),this.lastToken}}return at.\u0275fac=function(le){return new(le||at)(k.LFG(h.K0),k.LFG(k.Lbi),k.LFG(kn))},at.\u0275prov=k.Yz7({token:at,factory:at.\u0275fac}),at})(),Zn=(()=>{class at{constructor(le,nt){this.tokenService=le,this.headerName=nt}intercept(le,nt){const ot=le.url.toLowerCase();if("GET"===le.method||"HEAD"===le.method||ot.startsWith("http://")||ot.startsWith("https://"))return nt.handle(le);const Zt=this.tokenService.getToken();return null!==Zt&&!le.headers.has(this.headerName)&&(le=le.clone({headers:le.headers.set(this.headerName,Zt)})),nt.handle(le)}}return at.\u0275fac=function(le){return new(le||at)(k.LFG(Ln),k.LFG(Un))},at.\u0275prov=k.Yz7({token:at,factory:at.\u0275fac}),at})(),_t=(()=>{class at{constructor(le,nt){this.backend=le,this.injector=nt,this.chain=null}handle(le){if(null===this.chain){const nt=this.injector.get(Kt,[]);this.chain=nt.reduceRight((ot,Zt)=>new St(ot,Zt),this.backend)}return this.chain.handle(le)}}return at.\u0275fac=function(le){return new(le||at)(k.LFG(Be),k.LFG(k.zs3))},at.\u0275prov=k.Yz7({token:at,factory:at.\u0275fac}),at})(),Fn=(()=>{class at{static disable(){return{ngModule:at,providers:[{provide:Zn,useClass:zt}]}}static withOptions(le={}){return{ngModule:at,providers:[le.cookieName?{provide:kn,useValue:le.cookieName}:[],le.headerName?{provide:Un,useValue:le.headerName}:[]]}}}return at.\u0275fac=function(le){return new(le||at)},at.\u0275mod=k.oAB({type:at}),at.\u0275inj=k.cJS({providers:[Zn,{provide:Kt,useExisting:Zn,multi:!0},{provide:Ln,useClass:ar},{provide:kn,useValue:"XSRF-TOKEN"},{provide:Un,useValue:"X-XSRF-TOKEN"}]}),at})(),mr=(()=>{class at{}return at.\u0275fac=function(le){return new(le||at)},at.\u0275mod=k.oAB({type:at}),at.\u0275inj=k.cJS({providers:[It,{provide:se,useClass:_t},cr,{provide:Be,useExisting:cr}],imports:[Fn.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),at})()},4650:($t,qe,F)=>{F.d(qe,{$8M:()=>fa,$Z:()=>gg,AFp:()=>H0,ALo:()=>u0,AaK:()=>se,AsE:()=>An,BQk:()=>du,CHM:()=>us,CRH:()=>_0,CZH:()=>Dm,CqO:()=>qg,D6c:()=>ND,EJc:()=>KI,EiD:()=>wu,EpF:()=>sc,F$t:()=>em,F4k:()=>Kg,FYo:()=>Vh,FiY:()=>wt,G48:()=>pD,Gf:()=>y0,GfV:()=>Uh,Gpc:()=>ae,Hsn:()=>tm,Ikx:()=>Wy,JOm:()=>hs,JVY:()=>ad,Jf7:()=>Gp,KtG:()=>Bi,L6k:()=>Uu,LAX:()=>ud,LFG:()=>Mr,LSH:()=>Na,Lbi:()=>HI,Lck:()=>Vw,MAs:()=>ch,MMx:()=>nv,NdJ:()=>hh,OlP:()=>vr,Oqu:()=>At,PXZ:()=>uD,Q6J:()=>Kc,QGY:()=>Pu,QP$:()=>Ut,QbO:()=>GI,Qsj:()=>iu,R0b:()=>pu,RDi:()=>id,Rgc:()=>Dp,SBq:()=>jl,Sil:()=>ZI,Suo:()=>v0,TTD:()=>is,TgZ:()=>Al,Tol:()=>fm,Udp:()=>Yc,W1O:()=>D0,X6Q:()=>fD,XFs:()=>_t,Xpm:()=>N,Xts:()=>Vl,Y36:()=>_l,YKP:()=>K_,YNc:()=>ap,Yjl:()=>$e,Yz7:()=>pt,Z0I:()=>wn,ZZ4:()=>Sv,_Bn:()=>W_,_UZ:()=>Ml,_Vd:()=>Ic,_c5:()=>xD,_uU:()=>Dt,aQg:()=>Av,c2e:()=>zI,cJS:()=>ve,cg1:()=>qy,d8E:()=>Ky,dDg:()=>iD,dqk:()=>ot,eBb:()=>Eu,eFA:()=>nE,ekj:()=>mp,eoX:()=>X0,f3M:()=>Qa,g9A:()=>z0,h0i:()=>vh,hGG:()=>RD,hij:()=>rn,iGM:()=>m0,ifc:()=>nt,ip1:()=>$0,jDz:()=>Z_,kL8:()=>v_,lG2:()=>On,lcZ:()=>l0,lqb:()=>ja,lri:()=>Q0,mCW:()=>Ye,n5z:()=>Yt,oAB:()=>Pt,oJD:()=>Ll,oxw:()=>Jg,pB0:()=>I,q3G:()=>Cs,q4F:()=>Pp,qLn:()=>cl,qOj:()=>oh,qZA:()=>qc,qzn:()=>_u,rWj:()=>J0,s9C:()=>fh,sBO:()=>gD,sIi:()=>ec,s_b:()=>Em,soG:()=>Cm,tb:()=>W0,tp0:()=>Jt,uIk:()=>cu,vHH:()=>Ge,vpe:()=>il,wAp:()=>qn,xi3:()=>c0,xp6:()=>Pd,ynx:()=>xl,z2F:()=>bm,z3N:()=>sa,zSh:()=>fd,zs3:()=>Ku});var h=F(7579),k=F(727),H=F(9751),ce=F(6451),de=F(3099);function Ce(t){for(let r in t)if(t[r]===Ce)return r;throw Error("Could not find renamed property on target object.")}function Ae(t,r){for(const s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(t[s]=r[s])}function se(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(se).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const r=t.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Be(t,r){return null==t||""===t?null===r?"":r:null==r||""===r?t:t+" "+r}const ee=Ce({__forward_ref__:Ce});function ae(t){return t.__forward_ref__=ae,t.toString=function(){return se(this())},t}function De(t){return Qe(t)?t():t}function Qe(t){return"function"==typeof t&&t.hasOwnProperty(ee)&&t.__forward_ref__===ae}class Ge extends Error{constructor(r,s){super(function Mt(t,r){return`NG0${Math.abs(t)}${r?": "+r.trim():""}`}(r,s)),this.code=r}}function Ze(t){return"string"==typeof t?t:null==t?"":String(t)}function pe(t,r){throw new Ge(-201,!1)}function zt(t,r){null==t&&function ft(t,r,s,a){throw new Error(`ASSERTION ERROR: ${t}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,t,null,"!=")}function pt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ve(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ft(t){return In(t,Un)||In(t,ar)}function wn(t){return null!==Ft(t)}function In(t,r){return t.hasOwnProperty(r)?t[r]:null}function kn(t){return t&&(t.hasOwnProperty(Ln)||t.hasOwnProperty(Zn))?t[Ln]:null}const Un=Ce({\u0275prov:Ce}),Ln=Ce({\u0275inj:Ce}),ar=Ce({ngInjectableDef:Ce}),Zn=Ce({ngInjectorDef:Ce});var _t=(()=>((_t=_t||{})[_t.Default=0]="Default",_t[_t.Host=1]="Host",_t[_t.Self=2]="Self",_t[_t.SkipSelf=4]="SkipSelf",_t[_t.Optional=8]="Optional",_t))();let Nn;function Fn(t){const r=Nn;return Nn=t,r}function mr(t,r,s){const a=Ft(t);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&_t.Optional?null:void 0!==r?r:void pe(se(t))}function Mn(t){return{toString:t}.toString()}var at=(()=>((at=at||{})[at.OnPush=0]="OnPush",at[at.Default=1]="Default",at))(),nt=(()=>{return(t=nt||(nt={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",nt;var t})();const ot=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Gt={},Ot=[],zn=Ce({\u0275cmp:Ce}),ln=Ce({\u0275dir:Ce}),Er=Ce({\u0275pipe:Ce}),mn=Ce({\u0275mod:Ce}),Ee=Ce({\u0275fac:Ce}),he=Ce({__NG_ELEMENT_ID__:Ce});let q=0;function N(t){return Mn(()=>{const s=!0===t.standalone,a={},d={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===at.OnPush,directiveDefs:null,pipeDefs:null,standalone:s,dependencies:s&&t.dependencies||null,getStandaloneInjector:null,selectors:t.selectors||Ot,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||nt.Emulated,id:"c"+q++,styles:t.styles||Ot,_:null,setInput:null,schemas:t.schemas||null,tView:null},g=t.dependencies,w=t.features;return d.inputs=nn(t.inputs,a),d.outputs=nn(t.outputs),w&&w.forEach(D=>D(d)),d.directiveDefs=g?()=>("function"==typeof g?g():g).map(fe).filter(We):null,d.pipeDefs=g?()=>("function"==typeof g?g():g).map(ct).filter(We):null,d})}function fe(t){return me(t)||ye(t)}function We(t){return null!==t}function Pt(t){return Mn(()=>({type:t.type,bootstrap:t.bootstrap||Ot,declarations:t.declarations||Ot,imports:t.imports||Ot,exports:t.exports||Ot,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function nn(t,r){if(null==t)return Gt;const s={};for(const a in t)if(t.hasOwnProperty(a)){let d=t[a],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),s[d]=a,r&&(r[d]=g)}return s}const On=N;function $e(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function me(t){return t[zn]||null}function ye(t){return t[ln]||null}function ct(t){return t[Er]||null}function Ut(t){const r=me(t)||ye(t)||ct(t);return null!==r&&r.standalone}function cn(t,r){const s=t[mn]||null;if(!s&&!0===r)throw new Error(`Type ${se(t)} does not have '\u0275mod' property.`);return s}function Ct(t){return Array.isArray(t)&&"object"==typeof t[1]}function Wt(t){return Array.isArray(t)&&!0===t[1]}function Bn(t){return 0!=(8&t.flags)}function Sr(t){return 2==(2&t.flags)}function Kn(t){return 1==(1&t.flags)}function Ir(t){return null!==t.template}function rs(t){return 0!=(256&t[2])}function Dr(t,r){return t.hasOwnProperty(Ee)?t[Ee]:null}class Li{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function is(){return bi}function bi(t){return t.type.prototype.ngOnChanges&&(t.setInput=Zi),ss}function ss(){const t=gs(this),r=t?.current;if(r){const s=t.previous;if(s===Gt)t.previous=r;else for(let a in r)s[a]=r[a];t.current=null,this.ngOnChanges(r)}}function Zi(t,r,s,a){const d=gs(t)||function Co(t,r){return t[Yi]=r}(t,{previous:Gt,current:null}),g=d.current||(d.current={}),w=d.previous,D=this.declaredInputs[s],A=w[D];g[D]=new Li(A&&A.currentValue,r,w===Gt),t[a]=r}is.ngInherit=!0;const Yi="__ngSimpleChanges__";function gs(t){return t[Yi]||null}function kr(t){for(;Array.isArray(t);)t=t[0];return t}function ui(t,r){return kr(r[t])}function xr(t,r){return kr(r[t.index])}function Zs(t,r){return t.data[r]}function Ai(t,r){return t[r]}function jn(t,r){const s=r[t];return Ct(s)?s:s[0]}function Vi(t){return 4==(4&t[2])}function os(t){return 64==(64&t[2])}function Fr(t,r){return null==r?null:t[r]}function Xr(t){t[18]=0}function Rr(t,r){t[5]+=r;let s=t,a=t[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const Tn={lFrame:Po(null),bindingsEnabled:!0};function Ji(){return Tn.bindingsEnabled}function bt(){return Tn.lFrame.lView}function Vn(){return Tn.lFrame.tView}function us(t){return Tn.lFrame.contextLView=t,t[8]}function Bi(t){return Tn.lFrame.contextLView=null,t}function Nr(){let t=xs();for(;null!==t&&64===t.type;)t=t.parent;return t}function xs(){return Tn.lFrame.currentTNode}function vi(t,r){const s=Tn.lFrame;s.currentTNode=t,s.isParent=r}function rr(){return Tn.lFrame.isParent}function Qs(){Tn.lFrame.isParent=!1}function M(){const t=Tn.lFrame;let r=t.bindingRootIndex;return-1===r&&(r=t.bindingRootIndex=t.tView.bindingStartIndex),r}function qt(){return Tn.lFrame.bindingIndex++}function ur(t){const r=Tn.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+t,s}function ys(t,r){const s=Tn.lFrame;s.bindingIndex=s.bindingRootIndex=t,ji(r)}function ji(t){Tn.lFrame.currentDirectiveIndex=t}function co(t){const r=Tn.lFrame.currentDirectiveIndex;return-1===r?null:t[r]}function bo(){return Tn.lFrame.currentQueryIndex}function ks(t){Tn.lFrame.currentQueryIndex=t}function ho(t){const r=t[1];return 2===r.type?r.declTNode:1===r.type?t[6]:null}function Oo(t,r,s){if(s&_t.SkipSelf){let d=r,g=t;for(;!(d=d.parent,null!==d||s&_t.Host||(d=ho(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;r=d,t=g}const a=Tn.lFrame=Fa();return a.currentTNode=r,a.lView=t,!0}function vs(t){const r=Fa(),s=t[1];Tn.lFrame=r,r.currentTNode=s.firstChild,r.lView=t,r.tView=s,r.contextLView=t,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Fa(){const t=Tn.lFrame,r=null===t?null:t.child;return null===r?Po(t):r}function Po(t){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=r),r}function Wo(){const t=Tn.lFrame;return Tn.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const x=Wo;function G(){const t=Wo();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ge(){return Tn.lFrame.selectedIndex}function rt(t){Tn.lFrame.selectedIndex=t}function mt(){const t=Tn.lFrame;return Zs(t.tView,t.selectedIndex)}function dr(t,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const g=t.data[s].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:D,ngAfterViewInit:A,ngAfterViewChecked:B,ngOnDestroy:Q}=g;w&&(t.contentHooks||(t.contentHooks=[])).push(-s,w),D&&((t.contentHooks||(t.contentHooks=[])).push(s,D),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(s,D)),A&&(t.viewHooks||(t.viewHooks=[])).push(-s,A),B&&((t.viewHooks||(t.viewHooks=[])).push(s,B),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(s,B)),null!=Q&&(t.destroyHooks||(t.destroyHooks=[])).push(s,Q)}}function Jn(t,r,s){xi(t,r,3,s)}function Xs(t,r,s,a){(3&t[2])===s&&xi(t,r,s,a)}function _s(t,r){let s=t[2];(3&s)===r&&(s&=2047,s+=1,t[2]=s)}function xi(t,r,s,a){const g=a??-1,w=r.length-1;let D=0;for(let A=void 0!==a?65535&t[18]:0;A<w;A++)if("number"==typeof r[A+1]){if(D=r[A],null!=a&&D>=a)break}else r[A]<0&&(t[18]+=65536),(D<g||-1==g)&&(ko(t,s,r,A),t[18]=(4294901760&t[18])+A+2),A++}function ko(t,r,s,a){const d=s[a]<0,g=s[a+1],D=t[d?-s[a]:s[a]];if(d){if(t[2]>>11<t[18]>>16&&(3&t[2])===r){t[2]+=2048;try{g.call(D)}finally{}}}else try{g.call(D)}finally{}}class Xi{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Fs(t,r,s){let a=0;for(;a<s.length;){const d=s[a];if("number"==typeof d){if(0!==d)break;a++;const g=s[a++],w=s[a++],D=s[a++];t.setAttribute(r,w,D,g)}else{const g=d,w=s[++a];wa(g)?t.setProperty(r,g,w):t.setAttribute(r,g,w),a++}}return a}function Ls(t){return 3===t||4===t||6===t}function wa(t){return 64===t.charCodeAt(0)}function Ia(t,r){if(null!==r&&0!==r.length)if(null===t||0===t.length)t=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const d=r[a];"number"==typeof d?s=d:0===s||Lt(t,s,d,null,-1===s||2===s?r[++a]:null)}}return t}function Lt(t,r,s,a,d){let g=0,w=t.length;if(-1===r)w=-1;else for(;g<t.length;){const D=t[g++];if("number"==typeof D){if(D===r){w=-1;break}if(D>r){w=g-1;break}}}for(;g<t.length;){const D=t[g];if("number"==typeof D)break;if(D===s){if(null===a)return void(null!==d&&(t[g+1]=d));if(a===t[g+1])return void(t[g+2]=d)}g++,null!==a&&g++,null!==d&&g++}-1!==w&&(t.splice(w,0,r),g=w+1),t.splice(g++,0,s),null!==a&&t.splice(g++,0,a),null!==d&&t.splice(g++,0,d)}function ni(t){return-1!==t}function Lr(t){return 32767&t}function en(t,r){let s=function la(t){return t>>16}(t),a=r;for(;s>0;)a=a[15],s--;return a}let Rn=!0;function Da(t){const r=Rn;return Rn=t,r}let _i=0;const Ri={};function Ns(t,r){const s=ca(t,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(t.injectorIndex=r.length,To(a.data,t),To(r,null),To(a.blueprint,null));const d=da(t,r),g=t.injectorIndex;if(ni(d)){const w=Lr(d),D=en(d,r),A=D[1].data;for(let B=0;B<8;B++)r[g+B]=D[w+B]|A[w+B]}return r[g+8]=d,g}function To(t,r){t.push(0,0,0,0,0,0,0,0,r)}function ca(t,r){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===r[t.injectorIndex+8]?-1:t.injectorIndex}function da(t,r){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let s=0,a=null,d=r;for(;null!==d;){if(a=po(d),null===a)return-1;if(s++,d=d[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function fo(t,r,s){!function Es(t,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(he)&&(a=s[he]),null==a&&(a=s[he]=_i++);const d=255&a;r.data[t+(d>>5)]|=1<<d}(t,r,s)}function Ca(t,r,s){if(s&_t.Optional)return t;pe()}function na(t,r,s,a){if(s&_t.Optional&&void 0===a&&(a=null),0==(s&(_t.Self|_t.Host))){const d=t[9],g=Fn(void 0);try{return d?d.get(r,a,s&_t.Optional):mr(r,a,s&_t.Optional)}finally{Fn(g)}}return Ca(a,0,s)}function eo(t,r,s,a=_t.Default,d){if(null!==t){if(1024&r[2]){const w=function ha(t,r,s,a,d){let g=t,w=r;for(;null!==g&&null!==w&&1024&w[2]&&!(256&w[2]);){const D=$n(g,w,s,a|_t.Self,Ri);if(D!==Ri)return D;let A=g.parent;if(!A){const B=w[21];if(B){const Q=B.get(s,Ri,a);if(Q!==Ri)return Q}A=po(w),w=w[15]}g=A}return d}(t,r,s,a,Ri);if(w!==Ri)return w}const g=$n(t,r,s,a,Ri);if(g!==Ri)return g}return na(r,s,a,d)}function $n(t,r,s,a,d){const g=function gn(t){if("string"==typeof t)return t.charCodeAt(0)||0;const r=t.hasOwnProperty(he)?t[he]:void 0;return"number"==typeof r?r>=0?255&r:zr:r}(s);if("function"==typeof g){if(!Oo(r,t,a))return a&_t.Host?Ca(d,0,a):na(r,s,a,d);try{const w=g(a);if(null!=w||a&_t.Optional)return w;pe()}finally{x()}}else if("number"==typeof g){let w=null,D=ca(t,r),A=-1,B=a&_t.Host?r[16][6]:null;for((-1===D||a&_t.SkipSelf)&&(A=-1===D?da(t,r):r[D+8],-1!==A&&Xn(a,!1)?(w=r[1],D=Lr(A),r=en(A,r)):D=-1);-1!==D;){const Q=r[1];if(Ni(g,D,Q.data)){const ie=Vs(D,r,s,w,a,B);if(ie!==Ri)return ie}A=r[D+8],-1!==A&&Xn(a,r[1].data[D+8]===B)&&Ni(g,D,r)?(w=Q,D=Lr(A),r=en(A,r)):D=-1}}return d}function Vs(t,r,s,a,d,g){const w=r[1],D=w.data[t+8],Q=Gr(D,w,s,null==a?Sr(D)&&Rn:a!=w&&0!=(3&D.type),d&_t.Host&&g===D);return null!==Q?pr(r,w,Q,D):Ri}function Gr(t,r,s,a,d){const g=t.providerIndexes,w=r.data,D=1048575&g,A=t.directiveStart,Q=g>>20,Ne=d?D+Q:t.directiveEnd;for(let tt=a?D:D+Q;tt<Ne;tt++){const Rt=w[tt];if(tt<A&&s===Rt||tt>=A&&Rt.type===s)return tt}if(d){const tt=w[A];if(tt&&Ir(tt)&&tt.type===s)return A}return null}function pr(t,r,s,a){let d=t[s];const g=r.data;if(function Xo(t){return t instanceof Xi}(d)){const w=d;w.resolving&&function Me(t,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${t}`:"";throw new Ge(-200,`Circular dependency in DI detected for ${t}${s}`)}(function Ke(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Ze(t)}(g[s]));const D=Da(w.canSeeViewProviders);w.resolving=!0;const A=w.injectImpl?Fn(w.injectImpl):null;Oo(t,a,_t.Default);try{d=t[s]=w.factory(void 0,g,t,a),r.firstCreatePass&&s>=a.directiveStart&&function Hr(t,r,s){const{ngOnChanges:a,ngOnInit:d,ngDoCheck:g}=r.type.prototype;if(a){const w=bi(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(t,w),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,w)}d&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-t,d),g&&((s.preOrderHooks||(s.preOrderHooks=[])).push(t,g),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(t,g))}(s,g[s],r)}finally{null!==A&&Fn(A),Da(D),w.resolving=!1,x()}}return d}function Ni(t,r,s){return!!(s[r+(t>>5)]&1<<t)}function Xn(t,r){return!(t&_t.Self||t&_t.Host&&r)}class qo{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return eo(this._tNode,this._lView,r,a,s)}}function zr(){return new qo(Nr(),bt())}function Yt(t){return Mn(()=>{const r=t.prototype.constructor,s=r[Ee]||So(r),a=Object.prototype;let d=Object.getPrototypeOf(t.prototype).constructor;for(;d&&d!==a;){const g=d[Ee]||So(d);if(g&&g!==s)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function So(t){return Qe(t)?()=>{const r=So(De(t));return r&&r()}:Dr(t)}function po(t){const r=t[1],s=r.type;return 2===s?r.declTNode:1===s?t[6]:null}function fa(t){return function ta(t,r){if("class"===r)return t.classes;if("style"===r)return t.styles;const s=t.attrs;if(s){const a=s.length;let d=0;for(;d<a;){const g=s[d];if(Ls(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<a&&"string"==typeof s[d];)d++;else{if(g===r)return s[d+1];d+=2}}}return null}(Nr(),t)}const go="__parameters__";function ri(t,r,s){return Mn(()=>{const a=function mo(t){return function(...s){if(t){const a=t(...s);for(const d in a)this[d]=a[d]}}}(r);function d(...g){if(this instanceof d)return a.apply(this,g),this;const w=new d(...g);return D.annotation=w,D;function D(A,B,Q){const ie=A.hasOwnProperty(go)?A[go]:Object.defineProperty(A,go,{value:[]})[go];for(;ie.length<=Q;)ie.push(null);return(ie[Q]=ie[Q]||[]).push(w),A}}return s&&(d.prototype=Object.create(s.prototype)),d.prototype.ngMetadataName=t,d.annotationCls=d,d})}class vr{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=pt({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function cs(t,r){void 0===r&&(r=t);for(let s=0;s<t.length;s++){let a=t[s];Array.isArray(a)?(r===t&&(r=t.slice(0,s)),cs(a,r)):r!==t&&r.push(a)}return r}function ds(t,r){t.forEach(s=>Array.isArray(s)?ds(s,r):r(s))}function pa(t,r,s){r>=t.length?t.push(s):t.splice(r,0,s)}function Tr(t,r){return r>=t.length-1?t.pop():t.splice(r,1)[0]}function vo(t,r){const s=[];for(let a=0;a<t;a++)s.push(r);return s}function C(t,r,s){let a=$(t,r);return a>=0?t[1|a]=s:(a=~a,function c(t,r,s,a){let d=t.length;if(d==r)t.push(s,a);else if(1===d)t.push(a,t[0]),t[0]=s;else{for(d--,t.push(t[d-1],t[d]);d>r;)t[d]=t[d-2],d--;t[r]=s,t[r+1]=a}}(t,a,r,s)),a}function U(t,r){const s=$(t,r);if(s>=0)return t[1|s]}function $(t,r){return function xe(t,r,s){let a=0,d=t.length>>s;for(;d!==a;){const g=a+(d-a>>1),w=t[g<<s];if(r===w)return g<<s;w>r?d=g:a=g+1}return~(d<<s)}(t,r,1)}const Or={},Wr="__NG_DI_FLAG__",Oi="ngTempTokenPath",Ar=/\n/gm,di="__source";let Os;function no(t){const r=Os;return Os=t,r}function ia(t,r=_t.Default){if(void 0===Os)throw new Ge(-203,!1);return null===Os?mr(t,void 0,r):Os.get(t,r&_t.Optional?null:void 0,r)}function Mr(t,r=_t.Default){return(function vn(){return Nn}()||ia)(De(t),r)}function Qa(t,r=_t.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),Mr(t,r)}function S(t){const r=[];for(let s=0;s<t.length;s++){const a=De(t[s]);if(Array.isArray(a)){if(0===a.length)throw new Ge(900,!1);let d,g=_t.Default;for(let w=0;w<a.length;w++){const D=a[w],A=W(D);"number"==typeof A?-1===A?d=D.token:g|=A:d=D}r.push(Mr(d,g))}else r.push(Mr(a))}return r}function O(t,r){return t[Wr]=r,t.prototype[Wr]=r,t}function W(t){return t[Wr]}const wt=O(ri("Optional"),8),Jt=O(ri("SkipSelf"),4);let ga,sl,yu;function id(t){ga=t}function Xa(t){return function ol(){if(void 0===sl&&(sl=null,ot.trustedTypes))try{sl=ot.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return sl}()?.createHTML(t)||t}function hc(t){return function vu(){if(void 0===yu&&(yu=null,ot.trustedTypes))try{yu=ot.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return yu}()?.createHTML(t)||t}class eu{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class kl extends eu{getTypeName(){return"HTML"}}class Dh extends eu{getTypeName(){return"Style"}}class fc extends eu{getTypeName(){return"Script"}}class sd extends eu{getTypeName(){return"URL"}}class Fl extends eu{getTypeName(){return"ResourceURL"}}function sa(t){return t instanceof eu?t.changingThisBreaksApplicationSecurity:t}function _u(t,r){const s=function od(t){return t instanceof eu&&t.getTypeName()||null}(t);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}function ad(t){return new kl(t)}function Uu(t){return new Dh(t)}function Eu(t){return new fc(t)}function ud(t){return new sd(t)}function I(t){return new Fl(t)}class v{constructor(r){this.inertDocumentHelper=r}getInertBodyElement(r){r="<body><remove></remove>"+r;try{const s=(new window.DOMParser).parseFromString(Xa(r),"text/html").body;return null===s?this.inertDocumentHelper.getInertBodyElement(r):(s.removeChild(s.firstChild),s)}catch{return null}}}class T{constructor(r){if(this.defaultDoc=r,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const s=this.inertDocument.createElement("html");this.inertDocument.appendChild(s);const a=this.inertDocument.createElement("body");s.appendChild(a)}}getInertBodyElement(r){const s=this.inertDocument.createElement("template");if("content"in s)return s.innerHTML=Xa(r),s;const a=this.inertDocument.createElement("body");return a.innerHTML=Xa(r),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(a),a}stripCustomNsAttrs(r){const s=r.attributes;for(let d=s.length-1;0<d;d--){const w=s.item(d).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&r.removeAttribute(w)}let a=r.firstChild;for(;a;)a.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(a),a=a.nextSibling}}const te=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function Ye(t){return(t=String(t)).match(te)?t:"unsafe:"+t}function Vt(t){const r={};for(const s of t.split(","))r[s]=!0;return r}function Cn(...t){const r={};for(const s of t)for(const a in s)s.hasOwnProperty(a)&&(r[a]=!0);return r}const sr=Vt("area,br,col,hr,img,wbr"),hi=Vt("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ma=Vt("rp,rt"),Ra=Cn(sr,Cn(hi,Vt("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cn(ma,Vt("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Cn(ma,hi)),oa=Vt("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),al=Vt("srcset"),tu=Cn(oa,al,Vt("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Vt("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ul=Vt("script,style,template");class dd{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(r){let s=r.firstChild,a=!0;for(;s;)if(s.nodeType===Node.ELEMENT_NODE?a=this.startElement(s):s.nodeType===Node.TEXT_NODE?this.chars(s.nodeValue):this.sanitizedSomething=!0,a&&s.firstChild)s=s.firstChild;else for(;s;){s.nodeType===Node.ELEMENT_NODE&&this.endElement(s);let d=this.checkClobberedElement(s,s.nextSibling);if(d){s=d;break}s=this.checkClobberedElement(s,s.parentNode)}return this.buf.join("")}startElement(r){const s=r.nodeName.toLowerCase();if(!Ra.hasOwnProperty(s))return this.sanitizedSomething=!0,!ul.hasOwnProperty(s);this.buf.push("<"),this.buf.push(s);const a=r.attributes;for(let d=0;d<a.length;d++){const g=a.item(d),w=g.name,D=w.toLowerCase();if(!tu.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let A=g.value;oa[D]&&(A=Ye(A)),al[D]&&(t=A,A=(t=String(t)).split(",").map(r=>Ye(r.trim())).join(", ")),this.buf.push(" ",w,'="',mc(A),'"')}var t;return this.buf.push(">"),!0}endElement(r){const s=r.nodeName.toLowerCase();Ra.hasOwnProperty(s)&&!sr.hasOwnProperty(s)&&(this.buf.push("</"),this.buf.push(s),this.buf.push(">"))}chars(r){this.buf.push(mc(r))}checkClobberedElement(r,s){if(s&&(r.compareDocumentPosition(s)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${r.outerHTML}`);return s}}const Ds=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,br=/([^\#-~ |!])/g;function mc(t){return t.replace(/&/g,"&amp;").replace(Ds,function(r){return"&#"+(1024*(r.charCodeAt(0)-55296)+(r.charCodeAt(1)-56320)+65536)+";"}).replace(br,function(r){return"&#"+r.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let yc;function wu(t,r){let s=null;try{yc=yc||function y(t){const r=new T(t);return function K(){try{return!!(new window.DOMParser).parseFromString(Xa(""),"text/html")}catch{return!1}}()?new v(r):r}(t);let a=r?String(r):"";s=yc.getInertBodyElement(a);let d=5,g=a;do{if(0===d)throw new Error("Failed to sanitize html because the input is unstable");d--,a=g,g=s.innerHTML,s=yc.getInertBodyElement(a)}while(a!==g);return Xa((new dd).sanitizeChildren(Ch(s)||s))}finally{if(s){const a=Ch(s)||s;for(;a.firstChild;)a.removeChild(a.firstChild)}}}function Ch(t){return"content"in t&&function aa(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var Cs=(()=>((Cs=Cs||{})[Cs.NONE=0]="NONE",Cs[Cs.HTML=1]="HTML",Cs[Cs.STYLE=2]="STYLE",Cs[Cs.SCRIPT=3]="SCRIPT",Cs[Cs.URL=4]="URL",Cs[Cs.RESOURCE_URL=5]="RESOURCE_URL",Cs))();function Ll(t){const r=Iu();return r?hc(r.sanitize(Cs.HTML,t)||""):_u(t,"HTML")?hc(sa(t)):wu(function Ba(){return void 0!==ga?ga:typeof document<"u"?document:void 0}(),Ze(t))}function Na(t){const r=Iu();return r?r.sanitize(Cs.URL,t)||"":_u(t,"URL")?sa(t):Ye(Ze(t))}function Iu(){const t=bt();return t&&t[12]}const Vl=new vr("ENVIRONMENT_INITIALIZER"),Sh=new vr("INJECTOR",-1),Ah=new vr("INJECTOR_DEF_TYPES");class Mh{get(r,s=Or){if(s===Or){const a=new Error(`NullInjectorError: No provider for ${se(r)}!`);throw a.name="NullInjectorError",a}return s}}function Nm(...t){return{\u0275providers:xh(0,t)}}function xh(t,...r){const s=[],a=new Set;let d;return ds(r,g=>{const w=g;Nh(w,s,[],a)&&(d||(d=[]),d.push(w))}),void 0!==d&&Rh(d,s),s}function Rh(t,r){for(let s=0;s<t.length;s++){const{providers:d}=t[s];ds(d,g=>{r.push(g)})}}function Nh(t,r,s,a){if(!(t=De(t)))return!1;let d=null,g=kn(t);const w=!g&&me(t);if(g||w){if(w&&!w.standalone)return!1;d=t}else{const A=t.ngModule;if(g=kn(A),!g)return!1;d=A}const D=a.has(d);if(w){if(D)return!1;if(a.add(d),w.dependencies){const A="function"==typeof w.dependencies?w.dependencies():w.dependencies;for(const B of A)Nh(B,r,s,a)}}else{if(!g)return!1;{if(null!=g.imports&&!D){let B;a.add(d);try{ds(g.imports,Q=>{Nh(Q,r,s,a)&&(B||(B=[]),B.push(Q))})}finally{}void 0!==B&&Rh(B,r)}if(!D){const B=Dr(d)||(()=>new d);r.push({provide:d,useFactory:B,deps:Ot},{provide:Ah,useValue:d,multi:!0},{provide:Vl,useValue:()=>Mr(d),multi:!0})}const A=g.providers;null==A||D||ds(A,Q=>{r.push(Q)})}}return d!==t&&void 0!==t.providers}const Om=Ce({provide:String,useValue:Ce});function ll(t){return null!==t&&"object"==typeof t&&Om in t}function ts(t){return"function"==typeof t}const fd=new vr("Set Injector scope."),Bu={},nu={};let _c;function Ec(){return void 0===_c&&(_c=new Mh),_c}class ja{}class kh extends ja{constructor(r,s,a,d){super(),this.parent=s,this.source=a,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gd(r,w=>this.processProvider(w)),this.records.set(Sh,ru(void 0,this)),d.has("environment")&&this.records.set(ja,ru(void 0,this));const g=this.records.get(fd);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Ah.multi,Ot,_t.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const s=no(this),a=Fn(void 0);try{return r()}finally{no(s),Fn(a)}}get(r,s=Or,a=_t.Default){this.assertNotDestroyed();const d=no(this),g=Fn(void 0);try{if(!(a&_t.SkipSelf)){let D=this.records.get(r);if(void 0===D){const A=function xp(t){return"function"==typeof t||"object"==typeof t&&t instanceof vr}(r)&&Ft(r);D=A&&this.injectableDefInScope(A)?ru(pd(r),Bu):null,this.records.set(r,D)}if(null!=D)return this.hydrate(r,D)}return(a&_t.Self?Ec():this.parent).get(r,s=a&_t.Optional&&s===Or?null:s)}catch(w){if("NullInjectorError"===w.name){if((w[Oi]=w[Oi]||[]).unshift(se(r)),d)throw w;return function re(t,r,s,a){const d=t[Oi];throw r[di]&&d.unshift(r[di]),t.message=function Fe(t,r,s,a=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let d=se(r);if(Array.isArray(r))d=r.map(se).join(" -> ");else if("object"==typeof r){let g=[];for(let w in r)if(r.hasOwnProperty(w)){let D=r[w];g.push(w+":"+("string"==typeof D?JSON.stringify(D):se(D)))}d=`{${g.join(", ")}}`}return`${s}${a?"("+a+")":""}[${d}]: ${t.replace(Ar,"\n  ")}`}("\n"+t.message,d,s,a),t.ngTokenPath=d,t[Oi]=null,t}(w,r,"R3InjectorError",this.source)}throw w}finally{Fn(g),no(d)}}resolveInjectorInitializers(){const r=no(this),s=Fn(void 0);try{const a=this.get(Vl.multi,Ot,_t.Self);for(const d of a)d()}finally{no(r),Fn(s)}}toString(){const r=[],s=this.records;for(const a of s.keys())r.push(se(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ge(205,!1)}processProvider(r){let s=ts(r=De(r))?r:De(r&&r.provide);const a=function Pm(t){return ll(t)?ru(void 0,t.useValue):ru(Mp(t),Bu)}(r);if(ts(r)||!0!==r.multi)this.records.get(s);else{let d=this.records.get(s);d||(d=ru(void 0,Bu,!0),d.factory=()=>S(d.multi),this.records.set(s,d)),s=r,d.multi.push(r)}this.records.set(s,a)}hydrate(r,s){return s.value===Bu&&(s.value=nu,s.value=s.factory()),"object"==typeof s.value&&s.value&&function km(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(s.value)&&this._ngOnDestroyHooks.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=De(r.providedIn);return"string"==typeof s?"any"===s||this.scopes.has(s):this.injectorDefTypes.has(s)}}function pd(t){const r=Ft(t),s=null!==r?r.factory:Dr(t);if(null!==s)return s;if(t instanceof vr)throw new Ge(204,!1);if(t instanceof Function)return function Ap(t){const r=t.length;if(r>0)throw vo(r,"?"),new Ge(204,!1);const s=function xn(t){const r=t&&(t[Un]||t[ar]);if(r){const s=function cr(t){if(t.hasOwnProperty("name"))return t.name;const r=(""+t).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(t);return null!==s?()=>s.factory(t):()=>new t}(t);throw new Ge(204,!1)}function Mp(t,r,s){let a;if(ts(t)){const d=De(t);return Dr(d)||pd(d)}if(ll(t))a=()=>De(t.useValue);else if(function Sp(t){return!(!t||!t.useFactory)}(t))a=()=>t.useFactory(...S(t.deps||[]));else if(function Oh(t){return!(!t||!t.useExisting)}(t))a=()=>Mr(De(t.useExisting));else{const d=De(t&&(t.useClass||t.provide));if(!function Fh(t){return!!t.deps}(t))return Dr(d)||pd(d);a=()=>new d(...S(t.deps))}return a}function ru(t,r,s=!1){return{factory:t,value:r,multi:s?[]:void 0}}function Rp(t){return!!t.\u0275providers}function gd(t,r){for(const s of t)Array.isArray(s)?gd(s,r):Rp(s)?gd(s.\u0275providers,r):r(s)}class Lh{}class Ul{resolveComponentFactory(r){throw function Lm(t){const r=Error(`No component factory found for ${se(t)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=t,r}(r)}}let Ic=(()=>{class t{}return t.NULL=new Ul,t})();function Vm(){return Bl(Nr(),bt())}function Bl(t,r){return new jl(xr(t,r))}let jl=(()=>{class t{constructor(s){this.nativeElement=s}}return t.__NG_ELEMENT_ID__=Vm,t})();function Yo(t){return t instanceof jl?t.nativeElement:t}class Vh{}let iu=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function Op(){const t=bt(),s=jn(Nr().index,t);return(Ct(s)?s:t)[11]}(),t})(),md=(()=>{class t{}return t.\u0275prov=pt({token:t,providedIn:"root",factory:()=>null}),t})();class Uh{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const Pp=new Uh("14.2.0"),Bh={};function js(t){return t.ngOriginalError}class cl{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r);this._console.error("ERROR",r),s&&this._console.error("ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&js(r);for(;s&&js(s);)s=js(s);return s||null}}const Du=new Map;let hl=0;const Ed="__ngContext__";function io(t,r){Ct(r)?(t[Ed]=r[20],function Vp(t){Du.set(t[20],t)}(r)):t[Ed]=r}function Cu(t){const r=t[Ed];return"number"==typeof r?function _d(t){return Du.get(t)||null}(r):r||null}function bu(t){const r=Cu(t);return r?Ct(r)?r:r.lView:null}function Gp(t){return t.ownerDocument.defaultView}function Su(t){return t instanceof Function?t():t}var hs=(()=>((hs=hs||{})[hs.Important=1]="Important",hs[hs.DashCase=2]="DashCase",hs))();function $l(t,r){return undefined(t,r)}function su(t){const r=t[3];return Wt(r)?r[3]:r}function rf(t){return sf(t[13])}function Gu(t){return sf(t[4])}function sf(t){for(;null!==t&&!Wt(t);)t=t[4];return t}function ml(t,r,s,a,d){if(null!=a){let g,w=!1;Wt(a)?g=a:Ct(a)&&(w=!0,a=a[0]);const D=kr(a);0===t&&null!==s?null==d?so(r,s,D):Au(r,s,D,d||null,!0):1===t&&null!==s?Au(r,s,D,d||null,!0):2===t?function Md(t,r,s){const a=Td(t,r);a&&function Qm(t,r,s,a){t.removeChild(r,s,a)}(t,a,r,s)}(r,D,w):3===t&&r.destroyNode(D),null!=g&&function df(t,r,s,a,d){const g=s[7];g!==kr(s)&&ml(r,t,a,g,d);for(let D=10;D<s.length;D++){const A=s[D];Mc(A[1],A,t,r,a,g)}}(r,t,g,s,d)}}function uf(t,r,s){return t.createElement(r,s)}function zu(t,r){const s=t[9],a=s.indexOf(r),d=r[3];512&r[2]&&(r[2]&=-513,Rr(d,-1)),s.splice(a,1)}function yl(t,r){if(t.length<=10)return;const s=10+r,a=t[s];if(a){const d=a[17];null!==d&&d!==t&&zu(d,a),r>0&&(t[s-1][4]=a[4]);const g=Tr(t,10+r);!function Cd(t,r){Mc(t,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const w=g[19];null!==w&&w.detachView(g[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function lf(t,r){if(!(128&r[2])){const s=r[11];s.destroyNode&&Mc(t,r,s,3,null,null),function Zp(t){let r=t[13];if(!r)return bd(t[1],t);for(;r;){let s=null;if(Ct(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==t;)Ct(r)&&bd(r[1],r),r=r[3];null===r&&(r=t),Ct(r)&&bd(r[1],r),s=r&&r[4]}r=s}}(r)}}function bd(t,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function Qp(t,r){let s;if(null!=t&&null!=(s=t.destroyHooks))for(let a=0;a<s.length;a+=2){const d=r[s[a]];if(!(d instanceof Xi)){const g=s[a+1];if(Array.isArray(g))for(let w=0;w<g.length;w+=2){const D=d[g[w]],A=g[w+1];try{A.call(D)}finally{}}else try{g.call(d)}finally{}}}}(t,r),function Ym(t,r){const s=t.cleanup,a=r[7];let d=-1;if(null!==s)for(let g=0;g<s.length-1;g+=2)if("string"==typeof s[g]){const w=s[g+1],D="function"==typeof w?w(r):kr(r[w]),A=a[d=s[g+2]],B=s[g+3];"boolean"==typeof B?D.removeEventListener(s[g],A,B):B>=0?a[d=B]():a[d=-B].unsubscribe(),g+=2}else{const w=a[d=s[g+1]];s[g].call(w)}if(null!==a){for(let g=d+1;g<a.length;g++)(0,a[g])();r[7]=null}}(t,r),1===r[1].type&&r[11].destroy();const s=r[17];if(null!==s&&Wt(r[3])){s!==r[3]&&zu(s,r);const a=r[19];null!==a&&a.detachView(t)}!function Yh(t){Du.delete(t[20])}(r)}}function Jp(t,r,s){return function Xp(t,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const d=t.data[a.directiveStart].encapsulation;if(d===nt.None||d===nt.Emulated)return null}return xr(a,s)}(t,r.parent,s)}function Au(t,r,s,a,d){t.insertBefore(r,s,a,d)}function so(t,r,s){t.appendChild(r,s)}function eg(t,r,s,a,d){null!==a?Au(t,r,s,a,d):so(t,r,s)}function Td(t,r){return t.parentNode(r)}function ng(t,r,s){return rg(t,r,s)}let rg=function Tc(t,r,s){return 40&t.type?xr(t,s):null};function Hl(t,r,s,a){const d=Jp(t,a,r),g=r[11],D=ng(a.parent||r[6],a,r);if(null!=d)if(Array.isArray(s))for(let A=0;A<s.length;A++)eg(g,d,s[A],D,!1);else eg(g,d,s,D,!1)}function Wu(t,r){if(null!==r){const s=r.type;if(3&s)return xr(r,t);if(4&s)return Ac(-1,t[r.index]);if(8&s){const a=r.child;if(null!==a)return Wu(t,a);{const d=t[r.index];return Wt(d)?Ac(-1,d):kr(d)}}if(32&s)return $l(r,t)()||kr(t[r.index]);{const a=Sc(t,r);return null!==a?Array.isArray(a)?a[0]:Wu(su(t[16]),a):Wu(t,r.next)}}return null}function Sc(t,r){return null!==r?t[16][6].projection[r.projection]:null}function Ac(t,r){const s=10+t+1;if(s<r.length){const a=r[s],d=a[1].firstChild;if(null!==d)return Wu(a,d)}return r[7]}function xd(t,r,s,a,d,g,w){for(;null!=s;){const D=a[s.index],A=s.type;if(w&&0===r&&(D&&io(kr(D),a),s.flags|=4),64!=(64&s.flags))if(8&A)xd(t,r,s.child,a,d,g,!1),ml(r,t,d,D,g);else if(32&A){const B=$l(s,a);let Q;for(;Q=B();)ml(r,t,d,Q,g);ml(r,t,d,D,g)}else 16&A?cf(t,r,a,s,d,g):ml(r,t,d,D,g);s=w?s.projectionNext:s.next}}function Mc(t,r,s,a,d,g){xd(s,a,t.firstChild,r,d,g,!1)}function cf(t,r,s,a,d,g){const w=s[16],A=w[6].projection[a.projection];if(Array.isArray(A))for(let B=0;B<A.length;B++)ml(r,t,d,A[B],g);else xd(t,r,A,w[3],d,g,!0)}function hf(t,r,s){t.setAttribute(r,"style",s)}function ff(t,r,s){""===s?t.removeAttribute(r,"class"):t.setAttribute(r,"class",s)}function pf(t,r,s){let a=t.length;for(;;){const d=t.indexOf(r,s);if(-1===d)return d;if(0===d||t.charCodeAt(d-1)<=32){const g=r.length;if(d+g===a||t.charCodeAt(d+g)<=32)return d}s=d+1}}const vl="ng-template";function Gl(t,r,s){let a=0;for(;a<t.length;){let d=t[a++];if(s&&"class"===d){if(d=t[a],-1!==pf(d.toLowerCase(),r,0))return!0}else if(1===d){for(;a<t.length&&"string"==typeof(d=t[a++]);)if(d.toLowerCase()===r)return!0;return!1}}return!1}function Rd(t){return 4===t.type&&t.value!==vl}function Nd(t,r,s){return r===(4!==t.type||s?t.value:vl)}function sg(t,r,s){let a=4;const d=t.attrs||[],g=function Xm(t){for(let r=0;r<t.length;r++)if(Ls(t[r]))return r;return t.length}(d);let w=!1;for(let D=0;D<r.length;D++){const A=r[D];if("number"!=typeof A){if(!w)if(4&a){if(a=2|1&a,""!==A&&!Nd(t,A,s)||""===A&&1===r.length){if(Oa(a))return!1;w=!0}}else{const B=8&a?A:r[++D];if(8&a&&null!==t.attrs){if(!Gl(t.attrs,B,s)){if(Oa(a))return!1;w=!0}continue}const ie=og(8&a?"class":A,d,Rd(t),s);if(-1===ie){if(Oa(a))return!1;w=!0;continue}if(""!==B){let Ne;Ne=ie>g?"":d[ie+1].toLowerCase();const tt=8&a?Ne:null;if(tt&&-1!==pf(tt,B,0)||2&a&&B!==Ne){if(Oa(a))return!1;w=!0}}}}else{if(!w&&!Oa(a)&&!Oa(A))return!1;if(w&&Oa(A))continue;w=!1,a=A|1&a}}return Oa(a)||w}function Oa(t){return 0==(1&t)}function og(t,r,s,a){if(null===r)return-1;let d=0;if(a||!s){let g=!1;for(;d<r.length;){const w=r[d];if(w===t)return d;if(3===w||6===w)g=!0;else{if(1===w||2===w){let D=r[++d];for(;"string"==typeof D;)D=r[++d];continue}if(4===w)break;if(0===w){d+=4;continue}}d+=g?1:2}return-1}return function mf(t,r){let s=t.indexOf(4);if(s>-1)for(s++;s<t.length;){const a=t[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,t)}function ag(t,r,s=!1){for(let a=0;a<r.length;a++)if(sg(t,r[a],s))return!0;return!1}function ug(t,r){e:for(let s=0;s<r.length;s++){const a=r[s];if(t.length===a.length){for(let d=0;d<t.length;d++)if(t[d]!==a[d])continue e;return!0}}return!1}function yf(t,r){return t?":not("+r.trim()+")":r}function vf(t){let r=t[0],s=1,a=2,d="",g=!1;for(;s<t.length;){let w=t[s];if("string"==typeof w)if(2&a){const D=t[++s];d+="["+w+(D.length>0?'="'+D+'"':"")+"]"}else 8&a?d+="."+w:4&a&&(d+=" "+w);else""!==d&&!Oa(w)&&(r+=yf(g,d),d=""),a=w,g=g||!Oa(a);s++}return""!==d&&(r+=yf(g,d)),r}const ir={};function Pd(t){kd(Vn(),bt(),ge()+t,!1)}function kd(t,r,s,a){if(!a)if(3==(3&r[2])){const g=t.preOrderCheckHooks;null!==g&&Jn(r,g,s)}else{const g=t.preOrderHooks;null!==g&&Xs(r,g,0,s)}rt(s)}function zl(t,r=null,s=null,a){const d=Ld(t,r,s,a);return d.resolveInjectorInitializers(),d}function Ld(t,r=null,s=null,a,d=new Set){const g=[s||Ot,Nm(t)];return a=a||("object"==typeof t?void 0:se(t)),new kh(g,r||Ec(),a||null,d)}let Ku=(()=>{class t{static create(s,a){if(Array.isArray(s))return zl({name:""},a,s,"");{const d=s.name??"";return zl({name:d},s.parent,s.providers,d)}}}return t.THROW_IF_NOT_FOUND=Or,t.NULL=new Mh,t.\u0275prov=pt({token:t,providedIn:"any",factory:()=>Mr(Sh)}),t.__NG_ELEMENT_ID__=-1,t})();function _l(t,r=_t.Default){const s=bt();return null===s?Mr(t,r):eo(Nr(),s,De(t),r)}function gg(){throw new Error("invalid")}function zd(t,r){return t<<17|r<<2}function va(t){return t>>17&32767}function xf(t){return 2|t}function $a(t){return(131068&t)>>2}function Wd(t,r){return-131069&t|r<<2}function Nc(t){return 1|t}function bg(t,r){const s=t.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const d=s[a],g=s[a+1];if(-1!==g){const w=t.data[g];ks(d),w.contentQueries(2,r[g],g)}}}function Zl(t,r,s,a,d,g,w,D,A,B,Q){const ie=r.blueprint.slice();return ie[0]=d,ie[2]=76|a,(null!==Q||t&&1024&t[2])&&(ie[2]|=1024),Xr(ie),ie[3]=ie[15]=t,ie[8]=s,ie[10]=w||t&&t[10],ie[11]=D||t&&t[11],ie[12]=A||t&&t[12]||null,ie[9]=B||t&&t[9]||null,ie[6]=g,ie[20]=function Dc(){return hl++}(),ie[21]=Q,ie[16]=2==r.type?t[16]:ie,ie}function el(t,r,s,a,d){let g=t.data[r];if(null===g)g=function kc(t,r,s,a,d){const g=xs(),w=rr(),A=t.data[r]=function wy(t,r,s,a,d,g){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?g:g&&g.parent,s,r,a,d);return null===t.firstChild&&(t.firstChild=A),null!==g&&(w?null==g.child&&null!==A.parent&&(g.child=A):null===g.next&&(g.next=A)),A}(t,r,s,a,d),function $r(){return Tn.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=s,g.value=a,g.attrs=d;const w=function Ys(){const t=Tn.lFrame,r=t.currentTNode;return t.isParent?r:r.parent}();g.injectorIndex=null===w?-1:w.injectorIndex}return vi(g,!0),g}function Ha(t,r,s,a){if(0===s)return-1;const d=r.length;for(let g=0;g<s;g++)r.push(a),t.blueprint.push(a),t.data.push(null);return d}function Fc(t,r,s){vs(r);try{const a=t.viewQuery;null!==a&&np(1,a,s);const d=t.template;null!==d&&Jd(t,r,d,1,s),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&bg(t,r),t.staticViewQueries&&np(2,t.viewQuery,s);const g=t.components;null!==g&&function yy(t,r){for(let s=0;s<r.length;s++)ep(t,r[s])}(r,g)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),a}finally{r[2]&=-5,G()}}function Il(t,r,s,a){const d=r[2];if(128!=(128&d)){vs(r);try{Xr(r),function ut(t){return Tn.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==s&&Jd(t,r,s,2,a);const w=3==(3&d);if(w){const B=t.preOrderCheckHooks;null!==B&&Jn(r,B,null)}else{const B=t.preOrderHooks;null!==B&&Xs(r,B,0,null),_s(r,0)}if(function Jf(t){for(let r=rf(t);null!==r;r=Gu(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const d=s[a],g=d[3];0==(512&d[2])&&Rr(g,1),d[2]|=512}}}(r),function Qf(t){for(let r=rf(t);null!==r;r=Gu(r))for(let s=10;s<r.length;s++){const a=r[s],d=a[1];os(a)&&Il(d,a,d.template,a[8])}}(r),null!==t.contentQueries&&bg(t,r),w){const B=t.contentCheckHooks;null!==B&&Jn(r,B)}else{const B=t.contentHooks;null!==B&&Xs(r,B,1),_s(r,1)}!function Vf(t,r){const s=t.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const d=s[a];if(d<0)rt(~d);else{const g=d,w=s[++a],D=s[++a];ys(w,g),D(2,r[g])}}}finally{rt(-1)}}(t,r);const D=t.components;null!==D&&function Uf(t,r){for(let s=0;s<r.length;s++)Xf(t,r[s])}(r,D);const A=t.viewQuery;if(null!==A&&np(2,A,a),w){const B=t.viewCheckHooks;null!==B&&Jn(r,B)}else{const B=t.viewHooks;null!==B&&Xs(r,B,2),_s(r,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Rr(r[3],-1))}finally{G()}}}function vy(t,r,s,a){const d=r[10],w=Vi(r);try{!w&&d.begin&&d.begin(),w&&Fc(t,r,a),Il(t,r,s,a)}finally{!w&&d.end&&d.end()}}function Jd(t,r,s,a,d){const g=ge(),w=2&a;try{rt(-1),w&&r.length>22&&kd(t,r,22,!1),s(a,d)}finally{rt(g)}}function au(t,r,s){if(Bn(r)){const d=r.directiveEnd;for(let g=r.directiveStart;g<d;g++){const w=t.data[g];w.contentQueries&&w.contentQueries(1,s[g],g)}}}function Lc(t,r,s){!Ji()||(function Gf(t,r,s,a){const d=s.directiveStart,g=s.directiveEnd;t.firstCreatePass||Ns(s,r),io(a,r);const w=s.initialInputs;for(let D=d;D<g;D++){const A=t.data[D],B=Ir(A);B&&Cy(r,s,A);const Q=pr(r,t,D,s);io(Q,r),null!==w&&by(0,D-d,Q,A,0,w),B&&(jn(s.index,r)[8]=Q)}}(t,r,s,xr(s,r)),128==(128&s.flags)&&function zf(t,r,s){const a=s.directiveStart,d=s.directiveEnd,g=s.index,w=function Rs(){return Tn.lFrame.currentDirectiveIndex}();try{rt(g);for(let D=a;D<d;D++){const A=t.data[D],B=r[D];ji(D),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&xg(A,B)}}finally{rt(-1),ji(w)}}(t,r,s))}function Bf(t,r,s=xr){const a=r.localNames;if(null!==a){let d=r.index+1;for(let g=0;g<a.length;g+=2){const w=a[g+1],D=-1===w?s(r,t):t[w];t[d++]=D}}}function Xd(t){const r=t.tView;return null===r||r.incompleteFirstPass?t.tView=jf(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):r}function jf(t,r,s,a,d,g,w,D,A,B){const Q=22+a,ie=Q+d,Ne=function _y(t,r){const s=[];for(let a=0;a<r;a++)s.push(a<t?null:ir);return s}(Q,ie),tt="function"==typeof B?B():B;return Ne[1]={type:t,blueprint:Ne,template:s,queries:null,viewQuery:D,declTNode:r,data:Ne.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:ie,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:A,consts:tt,incompleteFirstPass:!1}}function eh(t,r,s,a){const d=kg(r);null===s?d.push(a):(d.push(s),t.firstCreatePass&&rp(t).push(a,d.length-1))}function th(t,r,s){for(let a in t)if(t.hasOwnProperty(a)){const d=t[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,d):s[a]=[r,d]}return s}function Sg(t,r){const a=r.directiveEnd,d=t.data,g=r.attrs,w=[];let D=null,A=null;for(let B=r.directiveStart;B<a;B++){const Q=d[B],ie=Q.inputs,Ne=null===g||Rd(r)?null:Ng(ie,g);w.push(Ne),D=th(ie,B,D),A=th(Q.outputs,B,A)}null!==D&&(D.hasOwnProperty("class")&&(r.flags|=16),D.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=w,r.inputs=D,r.outputs=A}function ua(t,r,s,a,d,g,w,D){const A=xr(r,s);let Q,B=r.inputs;!D&&null!=B&&(Q=B[a])?(ip(t,s,Q,a,d),Sr(r)&&nh(s,r.index)):3&r.type&&(a=function $f(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(a),d=null!=w?w(d,r.value||"",a):d,g.setProperty(A,a,d))}function nh(t,r){const s=jn(r,t);16&s[2]||(s[2]|=32)}function Vc(t,r,s,a){let d=!1;if(Ji()){const g=function Rg(t,r,s){const a=t.directiveRegistry;let d=null;if(a)for(let g=0;g<a.length;g++){const w=a[g];ag(s,w.selectors,!1)&&(d||(d=[]),fo(Ns(s,r),t,w.type),Ir(w)?(Wf(t,s),d.unshift(w)):d.push(w))}return d}(t,r,s),w=null===a?null:{"":-1};if(null!==g){d=!0,qf(s,t.data.length,g.length);for(let Q=0;Q<g.length;Q++){const ie=g[Q];ie.providersResolver&&ie.providersResolver(ie)}let D=!1,A=!1,B=Ha(t,r,g.length,null);for(let Q=0;Q<g.length;Q++){const ie=g[Q];s.mergedAttrs=Ia(s.mergedAttrs,ie.hostAttrs),Uc(t,s,r,B,ie),Kf(B,ie,w),null!==ie.contentQueries&&(s.flags|=8),(null!==ie.hostBindings||null!==ie.hostAttrs||0!==ie.hostVars)&&(s.flags|=128);const Ne=ie.type.prototype;!D&&(Ne.ngOnChanges||Ne.ngOnInit||Ne.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(s.index),D=!0),!A&&(Ne.ngOnChanges||Ne.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(s.index),A=!0),B++}Sg(t,s)}w&&function Dy(t,r,s){if(r){const a=t.localNames=[];for(let d=0;d<r.length;d+=2){const g=s[r[d+1]];if(null==g)throw new Ge(-301,!1);a.push(r[d],g)}}}(s,a,w)}return s.mergedAttrs=Ia(s.mergedAttrs,s.attrs),d}function Mg(t,r,s,a,d,g){const w=g.hostBindings;if(w){let D=t.hostBindingOpCodes;null===D&&(D=t.hostBindingOpCodes=[]);const A=~r.index;(function Hf(t){let r=t.length;for(;r>0;){const s=t[--r];if("number"==typeof s&&s<0)return s}return 0})(D)!=A&&D.push(A),D.push(a,d,w)}}function xg(t,r){null!==t.hostBindings&&t.hostBindings(1,r)}function Wf(t,r){r.flags|=2,(t.components||(t.components=[])).push(r.index)}function Kf(t,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=t;Ir(r)&&(s[""]=t)}}function qf(t,r,s){t.flags|=1,t.directiveStart=r,t.directiveEnd=r+s,t.providerIndexes=r}function Uc(t,r,s,a,d){t.data[a]=d;const g=d.factory||(d.factory=Dr(d.type)),w=new Xi(g,Ir(d),_l);t.blueprint[a]=w,s[a]=w,Mg(t,r,0,a,Ha(t,s,d.hostVars,ir),d)}function Cy(t,r,s){const a=xr(r,t),d=Xd(s),g=t[10],w=Dl(t,Zl(t,d,null,s.onPush?32:16,a,r,g,g.createRenderer(a,s),null,null,null));t[r.index]=w}function uu(t,r,s,a,d,g){const w=xr(t,r);!function Zf(t,r,s,a,d,g,w){if(null==g)t.removeAttribute(r,d,s);else{const D=null==w?Ze(g):w(g,a||"",d);t.setAttribute(r,d,D,s)}}(r[11],w,g,t.value,s,a,d)}function by(t,r,s,a,d,g){const w=g[r];if(null!==w){const D=a.setInput;for(let A=0;A<w.length;){const B=w[A++],Q=w[A++],ie=w[A++];null!==D?a.setInput(s,ie,B,Q):s[Q]=ie}}}function Ng(t,r){let s=null,a=0;for(;a<r.length;){const d=r[a];if(0!==d)if(5!==d){if("number"==typeof d)break;t.hasOwnProperty(d)&&(null===s&&(s=[]),s.push(d,t[d],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Yf(t,r,s,a){return new Array(t,!0,!1,r,null,0,a,s,null,null)}function Xf(t,r){const s=jn(r,t);if(os(s)){const a=s[1];48&s[2]?Il(a,s,a.template,s[8]):s[5]>0&&Yl(s)}}function Yl(t){for(let a=rf(t);null!==a;a=Gu(a))for(let d=10;d<a.length;d++){const g=a[d];if(os(g))if(512&g[2]){const w=g[1];Il(w,g,w.template,g[8])}else g[5]>0&&Yl(g)}const s=t[1].components;if(null!==s)for(let a=0;a<s.length;a++){const d=jn(s[a],t);os(d)&&d[5]>0&&Yl(d)}}function ep(t,r){const s=jn(r,t),a=s[1];(function Pg(t,r){for(let s=r.length;s<t.blueprint.length;s++)r.push(t.blueprint[s])})(a,s),Fc(a,s,s[8])}function Dl(t,r){return t[13]?t[14][4]=r:t[13]=r,t[14]=r,r}function rh(t){for(;t;){t[2]|=32;const r=su(t);if(rs(t)&&!r)return t;t=r}return null}function np(t,r,s){ks(0),r(t,s)}function kg(t){return t[7]||(t[7]=[])}function rp(t){return t.cleanup||(t.cleanup=[])}function Lg(t,r){const s=t[9],a=s?s.get(cl,null):null;a&&a.handleError(r)}function ip(t,r,s,a,d){for(let g=0;g<s.length;){const w=s[g++],D=s[g++],A=r[w],B=t.data[w];null!==B.setInput?B.setInput(A,d,a,D):A[D]=d}}function xu(t,r,s){const a=ui(r,t);!function Kp(t,r,s){t.setValue(r,s)}(t[11],a,s)}function Bc(t,r,s){let a=s?t.styles:null,d=s?t.classes:null,g=0;if(null!==r)for(let w=0;w<r.length;w++){const D=r[w];"number"==typeof D?g=D:1==g?d=Be(d,D):2==g&&(a=Be(a,D+": "+r[++w]+";"))}s?t.styles=a:t.stylesWithoutHost=a,s?t.classes=d:t.classesWithoutHost=d}function Ql(t,r,s,a,d=!1){for(;null!==s;){const g=r[s.index];if(null!==g&&a.push(kr(g)),Wt(g))for(let D=10;D<g.length;D++){const A=g[D],B=A[1].firstChild;null!==B&&Ql(A[1],A,B,a)}const w=s.type;if(8&w)Ql(t,r,s.child,a);else if(32&w){const D=$l(s,r);let A;for(;A=D();)a.push(A)}else if(16&w){const D=Sc(r,s);if(Array.isArray(D))a.push(...D);else{const A=su(r[16]);Ql(A[1],A,D,a,!0)}}s=d?s.projectionNext:s.next}return a}class Jl{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Ql(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Wt(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(yl(r,a),Tr(s,a))}this._attachedToViewContainer=!1}lf(this._lView[1],this._lView)}onDestroy(r){eh(this._lView[1],this._lView,null,r)}markForCheck(){rh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function tl(t,r,s){const a=r[10];a.begin&&a.begin();try{Il(t,r,t.template,s)}catch(d){throw Lg(r,d),d}finally{a.end&&a.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ge(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qm(t,r){Mc(t,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Ge(902,!1);this._appRef=r}}class Vg extends Jl{constructor(r){super(r),this._view=r}detectChanges(){!function ih(t){!function tp(t){for(let r=0;r<t.components.length;r++){const s=t.components[r],a=bu(s);if(null!==a){const d=a[1];vy(d,a,d.template,s)}}}(t[8])}(this._view)}checkNoChanges(){}get context(){return null}}class sh extends Ic{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=me(r);return new Xl(s,this.ngModule)}}function jc(t){const r=[];for(let s in t)t.hasOwnProperty(s)&&r.push({propName:t[s],templateName:s});return r}class Ug{constructor(r,s){this.injector=r,this.parentInjector=s}get(r,s,a){const d=this.injector.get(r,Bh,a);return d!==Bh||s===Bh?d:this.parentInjector.get(r,s,a)}}class Xl extends Lh{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function Od(t){return t.map(vf).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return jc(this.componentDef.inputs)}get outputs(){return jc(this.componentDef.outputs)}create(r,s,a,d){let g=(d=d||this.ngModule)instanceof ja?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const w=g?new Ug(r,g):r,D=w.get(Vh,null);if(null===D)throw new Ge(407,!1);const A=w.get(md,null),B=D.createRenderer(null,this.componentDef),Q=this.componentDef.selectors[0][0]||"div",ie=a?function Ey(t,r,s){return t.selectRootElement(r,s===nt.ShadowDom)}(B,a,this.componentDef.encapsulation):uf(D.createRenderer(null,this.componentDef),Q,function Pr(t){const r=t.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(Q)),Ne=this.componentDef.onPush?288:272,tt={components:[]},Rt=jf(0,null,null,1,0,null,null,null,null,null),Ht=Zl(null,Rt,tt,Ne,null,null,D,B,A,w,null);let un,bn;vs(Ht);try{const er=function lu(t,r,s,a,d,g){const w=s[1];s[22]=t;const A=el(w,22,2,"#host",null),B=A.mergedAttrs=r.hostAttrs;null!==B&&(Bc(A,B,!0),null!==t&&(Fs(d,t,B),null!==A.classes&&ff(d,t,A.classes),null!==A.styles&&hf(d,t,A.styles)));const Q=a.createRenderer(t,r),ie=Zl(s,Xd(r),null,r.onPush?32:16,s[22],A,a,Q,g||null,null,null);return w.firstCreatePass&&(fo(Ns(A,s),w,r.type),Wf(w,A),qf(A,s.length,1)),Dl(s,ie),s[22]=ie}(ie,this.componentDef,Ht,D,B);if(ie)if(a)Fs(B,ie,["ng-version",Pp.full]);else{const{attrs:Bt,classes:Gn}=function xc(t){const r=[],s=[];let a=1,d=2;for(;a<t.length;){let g=t[a];if("string"==typeof g)2===d?""!==g&&r.push(g,t[++a]):8===d&&s.push(g);else{if(!Oa(d))break;d=g}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);Bt&&Fs(B,ie,Bt),Gn&&Gn.length>0&&ff(B,ie,Gn.join(" "))}if(bn=Zs(Rt,22),void 0!==s){const Bt=bn.projection=[];for(let Gn=0;Gn<this.ngContentSelectors.length;Gn++){const Vr=s[Gn];Bt.push(null!=Vr?Array.from(Vr):null)}}un=function Sy(t,r,s,a,d){const g=s[1],w=function Iy(t,r,s){const a=Nr();t.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),Uc(t,a,r,Ha(t,r,1,null),s),Sg(t,a));const d=pr(r,t,a.directiveStart,a);io(d,r);const g=xr(a,r);return g&&io(g,r),d}(g,s,r);if(a.components.push(w),t[8]=w,null!==d)for(const A of d)A(w,r);if(r.contentQueries){const A=Nr();r.contentQueries(1,w,A.directiveStart)}const D=Nr();return!g.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(rt(D.index),Mg(s[1],D,0,D.directiveStart,D.directiveEnd,r),xg(r,w)),w}(er,this.componentDef,Ht,tt,[Bg]),Fc(Rt,Ht,null)}finally{G()}return new bs(this.componentType,un,Bl(bn,Ht),Ht,bn)}}class bs extends class Fm{}{constructor(r,s,a,d,g){super(),this.location=a,this._rootLView=d,this._tNode=g,this.instance=s,this.hostView=this.changeDetectorRef=new Vg(d),this.componentType=r}setInput(r,s){const a=this._tNode.inputs;let d;if(null!==a&&(d=a[r])){const g=this._rootLView;ip(g[1],g,d,r,s),nh(g,this._tNode.index)}}get injector(){return new qo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function Bg(){const t=Nr();dr(bt()[1],t)}function oh(t){let r=function jg(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),s=!0;const a=[t];for(;r;){let d;if(Ir(t))d=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Ge(903,!1);d=r.\u0275dir}if(d){if(s){a.push(d);const w=t;w.inputs=Hc(t.inputs),w.declaredInputs=Hc(t.declaredInputs),w.outputs=Hc(t.outputs);const D=d.hostBindings;D&&ns(t,D);const A=d.viewQuery,B=d.contentQueries;if(A&&xy(t,A),B&&Ry(t,B),Ae(t.inputs,d.inputs),Ae(t.declaredInputs,d.declaredInputs),Ae(t.outputs,d.outputs),Ir(d)&&d.data.animation){const Q=t.data;Q.animation=(Q.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let w=0;w<g.length;w++){const D=g[w];D&&D.ngInherit&&D(t),D===oh&&(s=!1)}}r=Object.getPrototypeOf(r)}!function My(t){let r=0,s=null;for(let a=t.length-1;a>=0;a--){const d=t[a];d.hostVars=r+=d.hostVars,d.hostAttrs=Ia(d.hostAttrs,s=Ia(s,d.hostAttrs))}}(a)}function Hc(t){return t===Gt?{}:t===Ot?[]:t}function xy(t,r){const s=t.viewQuery;t.viewQuery=s?(a,d)=>{r(a,d),s(a,d)}:r}function Ry(t,r){const s=t.contentQueries;t.contentQueries=s?(a,d,g)=>{r(a,d,g),s(a,d,g)}:r}function ns(t,r){const s=t.hostBindings;t.hostBindings=s?(a,d)=>{r(a,d),s(a,d)}:r}let Gc=null;function Cl(){if(!Gc){const t=ot.Symbol;if(t&&t.iterator)Gc=t.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Gc=a)}}}return Gc}function ec(t){return!!sp(t)&&(Array.isArray(t)||!(t instanceof Map)&&Cl()in t)}function sp(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Ru(t,r,s){return t[r]=s}function $o(t,r,s){return!Object.is(t[r],s)&&(t[r]=s,!0)}function nl(t,r,s,a){const d=$o(t,r,s);return $o(t,r+1,a)||d}function cu(t,r,s,a){const d=bt();return $o(d,qt(),r)&&(Vn(),uu(mt(),d,t,r,s,a)),cu}function Nu(t,r,s,a){return $o(t,qt(),s)?r+Ze(s)+a:ir}function tc(t,r,s,a,d,g){const D=nl(t,function Y(){return Tn.lFrame.bindingIndex}(),s,d);return ur(2),D?r+Ze(s)+a+Ze(d)+g:ir}function ap(t,r,s,a,d,g,w,D){const A=bt(),B=Vn(),Q=t+22,ie=B.firstCreatePass?function Sl(t,r,s,a,d,g,w,D,A){const B=r.consts,Q=el(r,t,4,w||null,Fr(B,D));Vc(r,s,Q,Fr(B,A)),dr(r,Q);const ie=Q.tViews=jf(2,Q,a,d,g,r.directiveRegistry,r.pipeRegistry,null,r.schemas,B);return null!==r.queries&&(r.queries.template(r,Q),ie.queries=r.queries.embeddedTView(Q)),Q}(Q,B,A,r,s,a,d,g,w):B.data[Q];vi(ie,!1);const Ne=A[11].createComment("");Hl(B,A,Ne,ie),io(Ne,A),Dl(A,A[Q]=Yf(Ne,A,Ne,ie)),Kn(ie)&&Lc(B,A,ie),null!=w&&Bf(A,ie,D)}function ch(t){return Ai(function Js(){return Tn.lFrame.contextLView}(),22+t)}function Kc(t,r,s){const a=bt();return $o(a,qt(),r)&&ua(Vn(),mt(),a,t,r,a[11],s,!1),Kc}function up(t,r,s,a,d){const w=d?"class":"style";ip(t,s,r.inputs[w],w,a)}function Al(t,r,s,a){const d=bt(),g=Vn(),w=22+t,D=d[11],A=d[w]=uf(D,r,function or(){return Tn.lFrame.currentNamespace}()),B=g.firstCreatePass?function dh(t,r,s,a,d,g,w){const D=r.consts,B=el(r,t,2,d,Fr(D,g));return Vc(r,s,B,Fr(D,w)),null!==B.attrs&&Bc(B,B.attrs,!1),null!==B.mergedAttrs&&Bc(B,B.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,B),B}(w,g,d,0,r,s,a):g.data[w];vi(B,!0);const Q=B.mergedAttrs;null!==Q&&Fs(D,A,Q);const ie=B.classes;null!==ie&&ff(D,A,ie);const Ne=B.styles;return null!==Ne&&hf(D,A,Ne),64!=(64&B.flags)&&Hl(g,d,A,B),0===function Ps(){return Tn.lFrame.elementDepthCount}()&&io(A,d),function li(){Tn.lFrame.elementDepthCount++}(),Kn(B)&&(Lc(g,d,B),au(g,B,d)),null!==a&&Bf(d,B),Al}function qc(){let t=Nr();rr()?Qs():(t=t.parent,vi(t,!1));const r=t;!function Ui(){Tn.lFrame.elementDepthCount--}();const s=Vn();return s.firstCreatePass&&(dr(s,t),Bn(t)&&s.queries.elementEnd(t)),null!=r.classesWithoutHost&&function ea(t){return 0!=(16&t.flags)}(r)&&up(s,r,bt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Va(t){return 0!=(32&t.flags)}(r)&&up(s,r,bt(),r.stylesWithoutHost,!1),qc}function Ml(t,r,s,a){return Al(t,r,s,a),qc(),Ml}function xl(t,r,s){const a=bt(),d=Vn(),g=t+22,w=d.firstCreatePass?function Fy(t,r,s,a,d){const g=r.consts,w=Fr(g,a),D=el(r,t,8,"ng-container",w);return null!==w&&Bc(D,w,!0),Vc(r,s,D,Fr(g,d)),null!==r.queries&&r.queries.elementStart(r,D),D}(g,d,a,r,s):d.data[g];vi(w,!0);const D=a[g]=a[11].createComment("");return Hl(d,a,D,w),io(D,a),Kn(w)&&(Lc(d,a,w),au(d,w,a)),null!=s&&Bf(a,w),xl}function du(){let t=Nr();const r=Vn();return rr()?Qs():(t=t.parent,vi(t,!1)),r.firstCreatePass&&(dr(r,t),Bn(t)&&r.queries.elementEnd(t)),du}function sc(){return bt()}function Pu(t){return!!t&&"function"==typeof t.then}function Kg(t){return!!t&&"function"==typeof t.subscribe}const qg=Kg;function hh(t,r,s,a){const d=bt(),g=Vn(),w=Nr();return function Zg(t,r,s,a,d,g,w,D){const A=Kn(a),Q=t.firstCreatePass&&rp(t),ie=r[8],Ne=kg(r);let tt=!0;if(3&a.type||D){const un=xr(a,r),bn=D?D(un):un,er=Ne.length,Bt=D?Vr=>D(kr(Vr[a.index])):a.index;let Gn=null;if(!D&&A&&(Gn=function Ly(t,r,s,a){const d=t.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const w=d[g];if(w===s&&d[g+1]===a){const D=r[7],A=d[g+2];return D.length>A?D[A]:null}"string"==typeof w&&(g+=2)}return null}(t,r,d,a.index)),null!==Gn)(Gn.__ngLastListenerFn__||Gn).__ngNextListenerFn__=g,Gn.__ngLastListenerFn__=g,tt=!1;else{g=Qg(a,r,ie,g,!1);const Vr=s.listen(bn,d,g);Ne.push(g,Vr),Q&&Q.push(d,Bt,er,er+1)}}else g=Qg(a,r,ie,g,!1);const Rt=a.outputs;let Ht;if(tt&&null!==Rt&&(Ht=Rt[d])){const un=Ht.length;if(un)for(let bn=0;bn<un;bn+=2){const fs=r[Ht[bn]][Ht[bn+1]].subscribe(g),ed=Ne.length;Ne.push(g,fs),Q&&Q.push(d,a.index,ed,-(ed+1))}}}(g,d,d[11],w,t,r,0,a),hh}function Yg(t,r,s,a){try{return!1!==s(a)}catch(d){return Lg(t,d),!1}}function Qg(t,r,s,a,d){return function g(w){if(w===Function)return a;rh(2&t.flags?jn(t.index,r):r);let A=Yg(r,0,a,w),B=g.__ngNextListenerFn__;for(;B;)A=Yg(r,0,B,w)&&A,B=B.__ngNextListenerFn__;return d&&!1===A&&(w.preventDefault(),w.returnValue=!1),A}}function Jg(t=1){return function R(t){return(Tn.lFrame.contextLView=function Z(t,r){for(;t>0;)r=r[15],t--;return r}(t,Tn.lFrame.contextLView))[8]}(t)}function Xg(t,r){let s=null;const a=function gf(t){const r=t.attrs;if(null!=r){const s=r.indexOf(5);if(0==(1&s))return r[s+1]}return null}(t);for(let d=0;d<r.length;d++){const g=r[d];if("*"!==g){if(null===a?ag(t,g,!0):ug(a,g))return d}else s=d}return s}function em(t){const r=bt()[16][6];if(!r.projection){const a=r.projection=vo(t?t.length:1,null),d=a.slice();let g=r.child;for(;null!==g;){const w=t?Xg(g,t):0;null!==w&&(d[w]?d[w].projectionNext=g:a[w]=g,d[w]=g),g=g.next}}}function tm(t,r=0,s){const a=bt(),d=Vn(),g=el(d,22+t,16,null,s||null);null===g.projection&&(g.projection=r),Qs(),64!=(64&g.flags)&&function ig(t,r,s){cf(r[11],0,r,s,Jp(t,s,r),ng(s.parent||r[6],s,r))}(d,a,g)}function fh(t,r,s){return lp(t,"",r,"",s),fh}function lp(t,r,s,a,d){const g=bt(),w=Nu(g,r,s,a);return w!==ir&&ua(Vn(),mt(),g,t,w,g[11],d,!1),lp}function sm(t,r,s,a,d){const g=t[s+1],w=null===r;let D=a?va(g):$a(g),A=!1;for(;0!==D&&(!1===A||w);){const Q=t[D+1];om(t[D],r)&&(A=!0,t[D+1]=a?Nc(Q):xf(Q)),D=a?va(Q):$a(Q)}A&&(t[s+1]=a?xf(g):Nc(g))}function om(t,r){return null===t||null==r||(Array.isArray(t)?t[1]:t)===r||!(!Array.isArray(t)||"string"!=typeof r)&&$(t,r)>=0}const Pi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function am(t){return t.substring(Pi.key,Pi.keyEnd)}function um(t,r){const s=Pi.textEnd;return s===r?-1:(r=Pi.keyEnd=function By(t,r,s){for(;r<s&&t.charCodeAt(r)>32;)r++;return r}(t,Pi.key=r,s),ac(t,r,s))}function ac(t,r,s){for(;r<s&&t.charCodeAt(r)<=32;)r++;return r}function Yc(t,r,s){return Wa(t,r,s,!1),Yc}function mp(t,r){return Wa(t,r,null,!0),mp}function fm(t){!function Ka(t,r,s,a){const d=Vn(),g=ur(2);d.firstUpdatePass&&zy(d,null,g,a);const w=bt();if(s!==ir&&$o(w,g,s)){const D=d.data[ge()];if(st(D,a)&&!Gy(d,g)){let A=a?D.classesWithoutHost:D.stylesWithoutHost;null!==A&&(s=Be(A,s||"")),up(d,D,w,s,a)}else!function b(t,r,s,a,d,g,w,D){d===ir&&(d=Ot);let A=0,B=0,Q=0<d.length?d[0]:null,ie=0<g.length?g[0]:null;for(;null!==Q||null!==ie;){const Ne=A<d.length?d[A+1]:void 0,tt=B<g.length?g[B+1]:void 0;let Ht,Rt=null;Q===ie?(A+=2,B+=2,Ne!==tt&&(Rt=ie,Ht=tt)):null===ie||null!==Q&&Q<ie?(A+=2,Rt=Q):(B+=2,Rt=ie,Ht=tt),null!==Rt&&V(t,r,s,a,Rt,Ht,w,D),Q=A<d.length?d[A]:null,ie=B<g.length?g[B]:null}}(d,D,w,w[11],w[g+1],w[g+1]=function p(t,r,s){if(null==s||""===s)return Ot;const a=[],d=sa(s);if(Array.isArray(d))for(let g=0;g<d.length;g++)t(a,d[g],!0);else if("object"==typeof d)for(const g in d)d.hasOwnProperty(g)&&t(a,g,d[g]);else"string"==typeof d&&r(a,d);return a}(t,r,s),a,g)}}(C,fu,t,!0)}function fu(t,r){for(let s=function Vy(t){return function cm(t){Pi.key=0,Pi.keyEnd=0,Pi.value=0,Pi.valueEnd=0,Pi.textEnd=t.length}(t),um(t,ac(t,0,Pi.textEnd))}(r);s>=0;s=um(r,s))C(t,am(r),!0)}function Wa(t,r,s,a){const d=bt(),g=Vn(),w=ur(2);g.firstUpdatePass&&zy(g,t,w,a),r!==ir&&$o(d,w,r)&&V(g,g.data[ge()],d,d[11],t,d[w+1]=function we(t,r){return null==t||("string"==typeof r?t+=r:"object"==typeof t&&(t=se(sa(t)))),t}(r,s),a,w)}function Gy(t,r){return r>=t.expandoStartIndex}function zy(t,r,s,a){const d=t.data;if(null===d[s+1]){const g=d[ge()],w=Gy(t,s);st(g,a)&&null===r&&!w&&(r=!1),r=function pm(t,r,s,a){const d=co(t);let g=a?r.residualClasses:r.residualStyles;if(null===d)0===(a?r.classBindings:r.styleBindings)&&(s=u(s=o(null,t,r,s,a),r.attrs,a),g=null);else{const w=r.directiveStylingLast;if(-1===w||t[w]!==d)if(s=o(d,t,r,s,a),null===g){let A=function i(t,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==$a(a))return t[va(a)]}(t,r,a);void 0!==A&&Array.isArray(A)&&(A=o(null,t,r,A[1],a),A=u(A,r.attrs,a),function e(t,r,s,a){t[va(s?r.classBindings:r.styleBindings)]=a}(t,r,a,A))}else g=function n(t,r,s){let a;const d=r.directiveEnd;for(let g=1+r.directiveStylingLast;g<d;g++)a=u(a,t[g].hostAttrs,s);return u(a,r.attrs,s)}(t,r,a)}return void 0!==g&&(a?r.residualClasses=g:r.residualStyles=g),s}(d,g,r,a),function gp(t,r,s,a,d,g){let w=g?r.classBindings:r.styleBindings,D=va(w),A=$a(w);t[a]=s;let Q,B=!1;if(Array.isArray(s)){const ie=s;Q=ie[1],(null===Q||$(ie,Q)>0)&&(B=!0)}else Q=s;if(d)if(0!==A){const Ne=va(t[D+1]);t[a+1]=zd(Ne,D),0!==Ne&&(t[Ne+1]=Wd(t[Ne+1],a)),t[D+1]=function Mf(t,r){return 131071&t|r<<17}(t[D+1],a)}else t[a+1]=zd(D,0),0!==D&&(t[D+1]=Wd(t[D+1],a)),D=a;else t[a+1]=zd(A,0),0===D?D=a:t[A+1]=Wd(t[A+1],a),A=a;B&&(t[a+1]=xf(t[a+1])),sm(t,Q,a,!0),sm(t,Q,a,!1),function ph(t,r,s,a,d){const g=d?t.residualClasses:t.residualStyles;null!=g&&"string"==typeof r&&$(g,r)>=0&&(s[a+1]=Nc(s[a+1]))}(r,Q,t,a,g),w=zd(D,A),g?r.classBindings=w:r.styleBindings=w}(d,g,r,s,w,a)}}function o(t,r,s,a,d){let g=null;const w=s.directiveEnd;let D=s.directiveStylingLast;for(-1===D?D=s.directiveStart:D++;D<w&&(g=r[D],a=u(a,g.hostAttrs,d),g!==t);)D++;return null!==t&&(s.directiveStylingLast=D),a}function u(t,r,s){const a=s?1:2;let d=-1;if(null!==r)for(let g=0;g<r.length;g++){const w=r[g];"number"==typeof w?d=w:d===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),C(t,w,!!s||r[++g]))}return void 0===t?null:t}function V(t,r,s,a,d,g,w,D){if(!(3&r.type))return;const A=t.data,B=A[D+1];J(function Kd(t){return 1==(1&t)}(B)?z(A,r,s,d,$a(B),w):void 0)||(J(g)||function mg(t){return 2==(2&t)}(B)&&(g=z(A,null,s,d,D,w)),function Jm(t,r,s,a,d){if(r)d?t.addClass(s,a):t.removeClass(s,a);else{let g=-1===a.indexOf("-")?void 0:hs.DashCase;null==d?t.removeStyle(s,a,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=hs.Important),t.setStyle(s,a,d,g))}}(a,w,ui(ge(),s),d,g))}function z(t,r,s,a,d,g){const w=null===r;let D;for(;d>0;){const A=t[d],B=Array.isArray(A),Q=B?A[1]:A,ie=null===Q;let Ne=s[d+1];Ne===ir&&(Ne=ie?Ot:void 0);let tt=ie?U(Ne,a):Q===a?Ne:void 0;if(B&&!J(tt)&&(tt=U(A,a)),J(tt)&&(D=tt,w))return D;const Rt=t[d+1];d=w?va(Rt):$a(Rt)}if(null!==r){let A=g?r.residualClasses:r.residualStyles;null!=A&&(D=U(A,a))}return D}function J(t){return void 0!==t}function st(t,r){return 0!=(t.flags&(r?16:32))}function Dt(t,r=""){const s=bt(),a=Vn(),d=t+22,g=a.firstCreatePass?el(a,d,1,r,null):a.data[d],w=s[d]=function af(t,r){return t.createText(r)}(s[11],r);Hl(a,s,w,g),vi(g,!1)}function At(t){return rn("",t,""),At}function rn(t,r,s){const a=bt(),d=Nu(a,t,r,s);return d!==ir&&xu(a,ge(),d),rn}function An(t,r,s,a,d){const g=bt(),w=tc(g,t,r,s,a,d);return w!==ir&&xu(g,ge(),w),An}function Wy(t,r,s){const a=bt();return $o(a,qt(),r)&&ua(Vn(),mt(),a,t,r,a[11],s,!0),Wy}function Ky(t,r,s){const a=bt();if($o(a,qt(),r)){const g=Vn(),w=mt();ua(g,w,a,t,r,function Fg(t,r,s){return(null===t||Ir(t))&&(s=function Ro(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(s[r.index])),s[11]}(co(g.data),w,a),s,!0)}return Ky}const Jc=void 0;var UE=["en",[["a","p"],["AM","PM"],Jc],[["AM","PM"],Jc,Jc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Jc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Jc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Jc,"{1} 'at' {0}",Jc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function VE(t){const s=Math.floor(Math.abs(t)),a=t.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let gh={};function qy(t){const r=function BE(t){return t.toLowerCase().replace(/_/g,"-")}(t);let s=__(r);if(s)return s;const a=r.split("-")[0];if(s=__(a),s)return s;if("en"===a)return UE;throw new Ge(701,!1)}function v_(t){return qy(t)[qn.PluralCase]}function __(t){return t in gh||(gh[t]=ot.ng&&ot.ng.common&&ot.ng.common.locales&&ot.ng.common.locales[t]),gh[t]}var qn=(()=>((qn=qn||{})[qn.LocaleId=0]="LocaleId",qn[qn.DayPeriodsFormat=1]="DayPeriodsFormat",qn[qn.DayPeriodsStandalone=2]="DayPeriodsStandalone",qn[qn.DaysFormat=3]="DaysFormat",qn[qn.DaysStandalone=4]="DaysStandalone",qn[qn.MonthsFormat=5]="MonthsFormat",qn[qn.MonthsStandalone=6]="MonthsStandalone",qn[qn.Eras=7]="Eras",qn[qn.FirstDayOfWeek=8]="FirstDayOfWeek",qn[qn.WeekendRange=9]="WeekendRange",qn[qn.DateFormat=10]="DateFormat",qn[qn.TimeFormat=11]="TimeFormat",qn[qn.DateTimeFormat=12]="DateTimeFormat",qn[qn.NumberSymbols=13]="NumberSymbols",qn[qn.NumberFormats=14]="NumberFormats",qn[qn.CurrencyCode=15]="CurrencyCode",qn[qn.CurrencySymbol=16]="CurrencySymbol",qn[qn.CurrencyName=17]="CurrencyName",qn[qn.Currencies=18]="Currencies",qn[qn.Directionality=19]="Directionality",qn[qn.PluralCase=20]="PluralCase",qn[qn.ExtraData=21]="ExtraData",qn))();const mh="en-US";let E_=mh;function Qy(t,r,s,a,d){if(t=De(t),Array.isArray(t))for(let g=0;g<t.length;g++)Qy(t[g],r,s,a,d);else{const g=Vn(),w=bt();let D=ts(t)?t:De(t.provide),A=Mp(t);const B=Nr(),Q=1048575&B.providerIndexes,ie=B.directiveStart,Ne=B.providerIndexes>>20;if(ts(t)||!t.multi){const tt=new Xi(A,d,_l),Rt=Xy(D,r,d?Q:Q+Ne,ie);-1===Rt?(fo(Ns(B,w),g,D),Jy(g,t,r.length),r.push(D),B.directiveStart++,B.directiveEnd++,d&&(B.providerIndexes+=1048576),s.push(tt),w.push(tt)):(s[Rt]=tt,w[Rt]=tt)}else{const tt=Xy(D,r,Q+Ne,ie),Rt=Xy(D,r,Q,Q+Ne),Ht=tt>=0&&s[tt],un=Rt>=0&&s[Rt];if(d&&!un||!d&&!Ht){fo(Ns(B,w),g,D);const bn=function Lw(t,r,s,a,d){const g=new Xi(t,s,_l);return g.multi=[],g.index=r,g.componentProviders=0,z_(g,d,a&&!s),g}(d?Fw:kw,s.length,d,a,A);!d&&un&&(s[Rt].providerFactory=bn),Jy(g,t,r.length,0),r.push(D),B.directiveStart++,B.directiveEnd++,d&&(B.providerIndexes+=1048576),s.push(bn),w.push(bn)}else Jy(g,t,tt>-1?tt:Rt,z_(s[d?Rt:tt],A,!d&&a));!d&&a&&un&&s[Rt].componentProviders++}}}function Jy(t,r,s,a){const d=ts(r),g=function Ph(t){return!!t.useClass}(r);if(d||g){const A=(g?De(r.useClass):r).prototype.ngOnDestroy;if(A){const B=t.destroyHooks||(t.destroyHooks=[]);if(!d&&r.multi){const Q=B.indexOf(s);-1===Q?B.push(s,[a,A]):B[Q+1].push(a,A)}else B.push(s,A)}}}function z_(t,r,s){return s&&t.componentProviders++,t.multi.push(r)-1}function Xy(t,r,s,a){for(let d=s;d<a;d++)if(r[d]===t)return d;return-1}function kw(t,r,s,a){return ev(this.multi,[])}function Fw(t,r,s,a){const d=this.multi;let g;if(this.providerFactory){const w=this.providerFactory.componentProviders,D=pr(s,s[1],this.providerFactory.index,a);g=D.slice(0,w),ev(d,g);for(let A=w;A<D.length;A++)g.push(D[A])}else g=[],ev(d,g);return g}function ev(t,r){for(let s=0;s<t.length;s++)r.push((0,t[s])());return r}function W_(t,r=[]){return s=>{s.providersResolver=(a,d)=>function Pw(t,r,s){const a=Vn();if(a.firstCreatePass){const d=Ir(t);Qy(s,a.data,a.blueprint,d,!0),Qy(r,a.data,a.blueprint,d,!1)}}(a,d?d(t):t,r)}}class vh{}class K_{}function Vw(t,r){return new q_(t,r??null)}class q_ extends vh{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new sh(this);const a=cn(r);this._bootstrapComponents=Su(a.bootstrap),this._r3Injector=Ld(r,s,[{provide:vh,useValue:this},{provide:Ic,useValue:this.componentFactoryResolver}],se(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class tv extends K_{constructor(r){super(),this.moduleType=r}create(r){return new q_(this.moduleType,r)}}class Uw extends vh{constructor(r,s,a){super(),this.componentFactoryResolver=new sh(this),this.instance=null;const d=new kh([...r,{provide:vh,useValue:this},{provide:Ic,useValue:this.componentFactoryResolver}],s||Ec(),a,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function nv(t,r,s=null){return new Uw(t,r,s).injector}let Bw=(()=>{class t{constructor(s){this._injector=s,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(s){if(!s.standalone)return null;if(!this.cachedInjectors.has(s.id)){const a=xh(0,s.type),d=a.length>0?nv([a],this._injector,`Standalone[${s.type.name}]`):null;this.cachedInjectors.set(s.id,d)}return this.cachedInjectors.get(s.id)}ngOnDestroy(){try{for(const s of this.cachedInjectors.values())null!==s&&s.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=pt({token:t,providedIn:"environment",factory:()=>new t(Mr(ja))}),t})();function Z_(t){t.getStandaloneInjector=r=>r.get(Bw).getOrCreateStandaloneInjector(t)}function wp(t,r){const s=t[r];return s===ir?void 0:s}function u0(t,r){const s=Vn();let a;const d=t+22;s.firstCreatePass?(a=function sI(t,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(t===a.name)return a}}(r,s.pipeRegistry),s.data[d]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(d,a.onDestroy)):a=s.data[d];const g=a.factory||(a.factory=Dr(a.type)),w=Fn(_l);try{const D=Da(!1),A=g();return Da(D),function Wg(t,r,s,a){s>=t.data.length&&(t.data[s]=null,t.blueprint[s]=null),r[s]=a}(s,bt(),d,A),A}finally{Fn(w)}}function l0(t,r,s){const a=t+22,d=bt(),g=Ai(d,a);return Ip(d,a)?function n0(t,r,s,a,d,g){const w=r+s;return $o(t,w,d)?Ru(t,w+1,g?a.call(g,d):a(d)):wp(t,w+1)}(d,M(),r,g.transform,s,g):g.transform(s)}function c0(t,r,s,a){const d=t+22,g=bt(),w=Ai(g,d);return Ip(g,d)?function r0(t,r,s,a,d,g,w){const D=r+s;return nl(t,D,d,g)?Ru(t,D+2,w?a.call(w,d,g):a(d,g)):wp(t,D+2)}(g,M(),r,w.transform,s,a,w):w.transform(s,a)}function Ip(t,r){return t[1].data[r].pure}function iv(t){return r=>{setTimeout(t,void 0,r)}}const il=class lI extends h.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){let d=r,g=s||(()=>null),w=a;if(r&&"object"==typeof r){const A=r;d=A.next?.bind(A),g=A.error?.bind(A),w=A.complete?.bind(A)}this.__isAsync&&(g=iv(g),d&&(d=iv(d)),w&&(w=iv(w)));const D=super.subscribe({next:d,error:g,complete:w});return r instanceof k.w0&&r.add(D),D}};function cI(){return this._results[Cl()]()}class sv{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Cl(),a=sv.prototype;a[s]||(a[s]=cI)}get changes(){return this._changes||(this._changes=new il)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const d=cs(r);(this._changesDetected=!function ws(t,r,s){if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++){let d=t[a],g=r[a];if(s&&(d=s(d),g=s(g)),g!==d)return!1}return!0}(a._results,d,s))&&(a._results=d,a.length=d.length,a.last=d[this.length-1],a.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Dp=(()=>{class t{}return t.__NG_ELEMENT_ID__=fI,t})();const dI=Dp,hI=class extends dI{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r,s){const a=this._declarationTContainer.tViews,d=Zl(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,s||null);d[17]=this._declarationLView[this._declarationTContainer.index];const w=this._declarationLView[19];return null!==w&&(d[19]=w.createEmbeddedView(a)),Fc(a,d,r),new Jl(d)}};function fI(){return _m(Nr(),bt())}function _m(t,r){return 4&t.type?new hI(r,t,Bl(t,r)):null}let Em=(()=>{class t{}return t.__NG_ELEMENT_ID__=pI,t})();function pI(){return f0(Nr(),bt())}const gI=Em,d0=class extends gI{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Bl(this._hostTNode,this._hostLView)}get injector(){return new qo(this._hostTNode,this._hostLView)}get parentInjector(){const r=da(this._hostTNode,this._hostLView);if(ni(r)){const s=en(r,this._hostLView),a=Lr(r);return new qo(s[1].data[a+8],s)}return new qo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=h0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){let d,g;"number"==typeof a?d=a:null!=a&&(d=a.index,g=a.injector);const w=r.createEmbeddedView(s||{},g);return this.insert(w,d),w}createComponent(r,s,a,d,g){const w=r&&!function Ta(t){return"function"==typeof t}(r);let D;if(w)D=s;else{const ie=s||{};D=ie.index,a=ie.injector,d=ie.projectableNodes,g=ie.environmentInjector||ie.ngModuleRef}const A=w?r:new Xl(me(r)),B=a||this.parentInjector;if(!g&&null==A.ngModule){const Ne=(w?B:this.parentInjector).get(ja,null);Ne&&(g=Ne)}const Q=A.create(B,d,void 0,g);return this.insert(Q.hostView,D),Q}insert(r,s){const a=r._lView,d=a[1];if(function zo(t){return Wt(t[3])}(a)){const Q=this.indexOf(r);if(-1!==Q)this.detach(Q);else{const ie=a[3],Ne=new d0(ie,ie[6],ie[3]);Ne.detach(Ne.indexOf(r))}}const g=this._adjustIndex(s),w=this._lContainer;!function Zm(t,r,s,a){const d=10+a,g=s.length;a>0&&(s[d-1][4]=r),a<g-10?(r[4]=s[d],pa(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const w=r[17];null!==w&&s!==w&&function Yp(t,r){const s=t[9];r[16]!==r[3][3][16]&&(t[2]=!0),null===s?t[9]=[r]:s.push(r)}(w,r);const D=r[19];null!==D&&D.insertView(t),r[2]|=64}(d,a,w,g);const D=Ac(g,w),A=a[11],B=Td(A,w[7]);return null!==B&&function qp(t,r,s,a,d,g){a[0]=d,a[6]=r,Mc(t,a,s,1,d,g)}(d,w[6],A,a,B,D),r.attachToViewContainerRef(),pa(ov(w),g,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=h0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=yl(this._lContainer,s);a&&(Tr(ov(this._lContainer),s),lf(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=yl(this._lContainer,s);return a&&null!=Tr(ov(this._lContainer),s)?new Jl(a):null}_adjustIndex(r,s=0){return r??this.length+s}};function h0(t){return t[8]}function ov(t){return t[8]||(t[8]=[])}function f0(t,r){let s;const a=r[t.index];if(Wt(a))s=a;else{let d;if(8&t.type)d=kr(a);else{const g=r[11];d=g.createComment("");const w=xr(t,r);Au(g,Td(g,w),d,function tg(t,r){return t.nextSibling(r)}(g,w),!1)}r[t.index]=s=Yf(a,r,d,t),Dl(r,s)}return new d0(s,t,r)}class av{constructor(r){this.queryList=r,this.matches=null}clone(){return new av(this.queryList)}setDirty(){this.queryList.setDirty()}}class uv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,d=[];for(let g=0;g<a;g++){const w=s.getByIndex(g);d.push(this.queries[w.indexInDeclarationView].clone())}return new uv(d)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==I0(r,s).matches&&this.queries[s].setDirty()}}class p0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class lv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const d=null!==s?s.length:0,g=this.getByIndex(a).embeddedTView(r,d);g&&(g.indexInDeclarationView=a,null!==s?s.push(g):s=[g])}return null!==s?new lv(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class cv{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new cv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let d=0;d<a.length;d++){const g=a[d];this.matchTNodeWithReadOption(r,s,vI(s,g)),this.matchTNodeWithReadOption(r,s,Gr(s,r,g,!1,!1))}else a===Dp?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,Gr(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const d=this.metadata.read;if(null!==d)if(d===jl||d===Em||d===Dp&&4&s.type)this.addMatch(s.index,-2);else{const g=Gr(s,r,d,!1,!1);null!==g&&this.addMatch(s.index,g)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function vI(t,r){const s=t.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function EI(t,r,s,a){return-1===s?function _I(t,r){return 11&t.type?Bl(t,r):4&t.type?_m(t,r):null}(r,t):-2===s?function wI(t,r,s){return s===jl?Bl(r,t):s===Dp?_m(r,t):s===Em?f0(r,t):void 0}(t,r,a):pr(t,t[1],s,r)}function g0(t,r,s,a){const d=r[19].queries[a];if(null===d.matches){const g=t.data,w=s.matches,D=[];for(let A=0;A<w.length;A+=2){const B=w[A];D.push(B<0?null:EI(r,g[B],w[A+1],s.metadata.read))}d.matches=D}return d.matches}function dv(t,r,s,a){const d=t.queries.getByIndex(s),g=d.matches;if(null!==g){const w=g0(t,r,d,s);for(let D=0;D<g.length;D+=2){const A=g[D];if(A>0)a.push(w[D/2]);else{const B=g[D+1],Q=r[-A];for(let ie=10;ie<Q.length;ie++){const Ne=Q[ie];Ne[17]===Ne[3]&&dv(Ne[1],Ne,B,a)}if(null!==Q[9]){const ie=Q[9];for(let Ne=0;Ne<ie.length;Ne++){const tt=ie[Ne];dv(tt[1],tt,B,a)}}}}}return a}function m0(t){const r=bt(),s=Vn(),a=bo();ks(a+1);const d=I0(s,a);if(t.dirty&&Vi(r)===(2==(2&d.metadata.flags))){if(null===d.matches)t.reset([]);else{const g=d.crossesNgTemplate?dv(s,r,a,[]):g0(s,r,d,a);t.reset(g,Yo),t.notifyOnChanges()}return!0}return!1}function y0(t,r,s){const a=Vn();a.firstCreatePass&&(w0(a,new p0(t,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),E0(a,bt(),r)}function v0(t,r,s,a){const d=Vn();if(d.firstCreatePass){const g=Nr();w0(d,new p0(r,s,a),g.index),function DI(t,r){const s=t.contentQueries||(t.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(t.queries.length-1,r)}(d,t),2==(2&s)&&(d.staticContentQueries=!0)}E0(d,bt(),s)}function _0(){return function II(t,r){return t[19].queries[r].queryList}(bt(),bo())}function E0(t,r,s){const a=new sv(4==(4&s));eh(t,r,a,a.destroy),null===r[19]&&(r[19]=new uv),r[19].queries.push(new av(a))}function w0(t,r,s){null===t.queries&&(t.queries=new lv),t.queries.track(new cv(r,s))}function I0(t,r){return t.queries.getByIndex(r)}function D0(t,r){return _m(t,r)}function Im(...t){}const $0=new vr("Application Initializer");let Dm=(()=>{class t{constructor(s){this.appInits=s,this.resolve=Im,this.reject=Im,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,d)=>{this.resolve=a,this.reject=d})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(Pu(g))s.push(g);else if(qg(g)){const w=new Promise((D,A)=>{g.subscribe({complete:D,error:A})});s.push(w)}}Promise.all(s).then(()=>{a()}).catch(d=>{this.reject(d)}),0===s.length&&a(),this.initialized=!0}}return t.\u0275fac=function(s){return new(s||t)(Mr($0,8))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const H0=new vr("AppId",{providedIn:"root",factory:function G0(){return`${mv()}${mv()}${mv()}`}});function mv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const z0=new vr("Platform Initializer"),HI=new vr("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),W0=new vr("appBootstrapListener"),GI=new vr("AnimationModuleType");let zI=(()=>{class t{log(s){console.log(s)}warn(s){console.warn(s)}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Cm=new vr("LocaleId",{providedIn:"root",factory:()=>Qa(Cm,_t.Optional|_t.SkipSelf)||function WI(){return typeof $localize<"u"&&$localize.locale||mh}()}),KI=new vr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class qI{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let ZI=(()=>{class t{compileModuleSync(s){return new tv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),g=Su(cn(s).declarations).reduce((w,D)=>{const A=me(D);return A&&w.push(new Xl(A)),w},[]);return new qI(a,g)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const JI=(()=>Promise.resolve(0))();function yv(t){typeof Zone>"u"?JI.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class pu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new il(!1),this.onMicrotaskEmpty=new il(!1),this.onStable=new il(!1),this.onError=new il(!1),typeof Zone>"u")throw new Ge(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!a&&s,d.shouldCoalesceRunChangeDetection=a,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function XI(){let t=ot.requestAnimationFrame,r=ot.cancelAnimationFrame;if(typeof Zone<"u"&&t&&r){const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function nD(t){const r=()=>{!function tD(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ot,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,_v(t),t.isCheckStableRunning=!0,vv(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),_v(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,d,g,w,D)=>{try{return Z0(t),s.invokeTask(d,g,w,D)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||t.shouldCoalesceRunChangeDetection)&&r(),Y0(t)}},onInvoke:(s,a,d,g,w,D,A)=>{try{return Z0(t),s.invoke(d,g,w,D,A)}finally{t.shouldCoalesceRunChangeDetection&&r(),Y0(t)}},onHasTask:(s,a,d,g)=>{s.hasTask(d,g),a===d&&("microTask"==g.change?(t._hasPendingMicrotasks=g.microTask,_v(t),vv(t)):"macroTask"==g.change&&(t.hasPendingMacrotasks=g.macroTask))},onHandleError:(s,a,d,g)=>(s.handleError(d,g),t.runOutsideAngular(()=>t.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pu.isInAngularZone())throw new Ge(909,!1)}static assertNotInAngularZone(){if(pu.isInAngularZone())throw new Ge(909,!1)}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,d){const g=this._inner,w=g.scheduleEventTask("NgZoneEvent: "+d,r,eD,Im,Im);try{return g.runTask(w,s,a)}finally{g.cancelTask(w)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const eD={};function vv(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function _v(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Z0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Y0(t){t._nesting--,vv(t)}class rD{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new il,this.onMicrotaskEmpty=new il,this.onStable=new il,this.onError=new il}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,d){return r.apply(s,a)}}const Q0=new vr(""),J0=new vr("");let Ev,iD=(()=>{class t{constructor(s,a,d){this._ngZone=s,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Ev||(function sD(t){Ev=t}(d),d.addToWindow(a)),this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pu.assertNotInAngularZone(),yv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,d){let g=-1;a&&a>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==g),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:g,updateCb:d})}whenStable(s,a,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(s){this.registry.registerApplication(s,this)}unregisterApplication(s){this.registry.unregisterApplication(s)}findProviders(s,a,d){return[]}}return t.\u0275fac=function(s){return new(s||t)(Mr(pu),Mr(X0),Mr(J0))},t.\u0275prov=pt({token:t,factory:t.\u0275fac}),t})(),X0=(()=>{class t{constructor(){this._applications=new Map}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Ev?.findTestabilityInTree(this,s,a)??null}}return t.\u0275fac=function(s){return new(s||t)},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})(),uc=null;const eE=new vr("AllowMultipleToken"),wv=new vr("PlatformDestroyListeners");class uD{constructor(r,s){this.name=r,this.token=s}}function nE(t,r,s=[]){const a=`Platform: ${r}`,d=new vr(a);return(g=[])=>{let w=Iv();if(!w||w.injector.get(eE,!1)){const D=[...s,...g,{provide:d,useValue:!0}];t?t(D):function lD(t){if(uc&&!uc.get(eE,!1))throw new Ge(400,!1);uc=t;const r=t.get(iE);(function tE(t){const r=t.get(z0,null);r&&r.forEach(s=>s())})(t)}(function rE(t=[],r){return Ku.create({name:r,providers:[{provide:fd,useValue:"platform"},{provide:wv,useValue:new Set([()=>uc=null])},...t]})}(D,a))}return function dD(t){const r=Iv();if(!r)throw new Ge(401,!1);return r}()}}function Iv(){return uc?.get(iE)??null}let iE=(()=>{class t{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const d=function oE(t,r){let s;return s="noop"===t?new rD:("zone.js"===t?void 0:t)||new pu(r),s}(a?.ngZone,function sE(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(a)),g=[{provide:pu,useValue:d}];return d.run(()=>{const w=Ku.create({providers:g,parent:this.injector,name:s.moduleType.name}),D=s.create(w),A=D.injector.get(cl,null);if(!A)throw new Ge(402,!1);return d.runOutsideAngular(()=>{const B=d.onError.subscribe({next:Q=>{A.handleError(Q)}});D.onDestroy(()=>{Tm(this._modules,D),B.unsubscribe()})}),function aE(t,r,s){try{const a=s();return Pu(a)?a.catch(d=>{throw r.runOutsideAngular(()=>t.handleError(d)),d}):a}catch(a){throw r.runOutsideAngular(()=>t.handleError(a)),a}}(A,d,()=>{const B=D.injector.get(Dm);return B.runInitializers(),B.donePromise.then(()=>(function w_(t){zt(t,"Expected localeId to be defined"),"string"==typeof t&&(E_=t.toLowerCase().replace(/_/g,"-"))}(D.injector.get(Cm,mh)||mh),this._moduleDoBootstrap(D),D))})})}bootstrapModule(s,a=[]){const d=uE({},a);return function oD(t,r,s){const a=new tv(s);return Promise.resolve(a)}(0,0,s).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(s){const a=s.injector.get(bm);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(d=>a.bootstrap(d));else{if(!s.instance.ngDoBootstrap)throw new Ge(403,!1);s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ge(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const s=this._injector.get(wv,null);s&&(s.forEach(a=>a()),s.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(s){return new(s||t)(Mr(Ku))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function uE(t,r){return Array.isArray(r)?r.reduce(uE,t):{...t,...r}}let bm=(()=>{class t{constructor(s,a,d){this._zone=s,this._injector=a,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new H.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),w=new H.y(D=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{pu.assertNotInAngularZone(),yv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const B=this._zone.onUnstable.subscribe(()=>{pu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{A.unsubscribe(),B.unsubscribe()}});this.isStable=(0,ce.T)(g,w.pipe((0,de.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(s,a){const d=s instanceof Lh;if(!this._injector.get(Dm).done)throw!d&&Ut(s),new Ge(405,false);let w;w=d?s:this._injector.get(Ic).resolveComponentFactory(s),this.componentTypes.push(w.componentType);const D=function aD(t){return t.isBoundToModule}(w)?void 0:this._injector.get(vh),B=w.create(Ku.NULL,[],a||w.selector,D),Q=B.location.nativeElement,ie=B.injector.get(Q0,null);return ie?.registerApplication(Q),B.onDestroy(()=>{this.detachView(B.hostView),Tm(this.components,B),ie?.unregisterApplication(Q)}),this._loadComponent(B),B}tick(){if(this._runningTick)throw new Ge(101,!1);try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Tm(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(W0,[]).concat(this._bootstrapListeners).forEach(d=>d(s))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(s=>s()),this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(s){return this._destroyListeners.push(s),()=>Tm(this._destroyListeners,s)}destroy(){if(this._destroyed)throw new Ge(406,!1);const s=this._injector;s.destroy&&!s.destroyed&&s.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(s){return new(s||t)(Mr(pu),Mr(ja),Mr(cl))},t.\u0275prov=pt({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Tm(t,r){const s=t.indexOf(r);s>-1&&t.splice(s,1)}let cE=!0,dE=!1;function fD(){return dE=!0,cE}function pD(){if(dE)throw new Error("Cannot enable prod mode after platform setup.");cE=!1}let gD=(()=>{class t{}return t.__NG_ELEMENT_ID__=mD,t})();function mD(t){return function yD(t,r,s){if(Sr(t)&&!s){const a=jn(t.index,r);return new Jl(a,a)}return 47&t.type?new Jl(r[16],r):null}(Nr(),bt(),16==(16&t))}class gE{constructor(){}supports(r){return ec(r)}create(r){return new DD(r)}}const ID=(t,r)=>r;class DD{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||ID}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,d=0,g=null;for(;s||a;){const w=!a||s&&s.currentIndex<yE(a,d,g)?s:a,D=yE(w,d,g),A=w.currentIndex;if(w===a)d--,a=a._nextRemoved;else if(s=s._next,null==w.previousIndex)d++;else{g||(g=[]);const B=D-d,Q=A-d;if(B!=Q){for(let Ne=0;Ne<B;Ne++){const tt=Ne<g.length?g[Ne]:g[Ne]=0,Rt=tt+Ne;Q<=Rt&&Rt<B&&(g[Ne]=tt+1)}g[w.previousIndex]=Q-B}}D!==A&&r(w,D,A)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!ec(r))throw new Ge(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let d,g,w,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let D=0;D<this.length;D++)g=r[D],w=this._trackByFn(D,g),null!==s&&Object.is(s.trackById,w)?(a&&(s=this._verifyReinsertion(s,g,w,D)),Object.is(s.item,g)||this._addIdentityChange(s,g)):(s=this._mismatch(s,g,w,D),a=!0),s=s._next}else d=0,function Py(t,r){if(Array.isArray(t))for(let s=0;s<t.length;s++)r(t[s]);else{const s=t[Cl()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,D=>{w=this._trackByFn(d,D),null!==s&&Object.is(s.trackById,w)?(a&&(s=this._verifyReinsertion(s,D,w,d)),Object.is(s.item,D)||this._addIdentityChange(s,D)):(s=this._mismatch(s,D,w,d),a=!0),s=s._next,d++}),this.length=d;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,d){let g;return null===r?g=this._itTail:(g=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,g,d)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,d))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,g,d)):r=this._addAfter(new CD(s,a),g,d),r}_verifyReinsertion(r,s,a,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==g?r=this._reinsertAfter(g,r._prev,d):r.currentIndex!=d&&(r.currentIndex=d,this._addToMoves(r,d)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const d=r._prevRemoved,g=r._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const d=null===s?this._itHead:s._next;return r._next=d,r._prev=s,null===d?this._itTail=r:d._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new mE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new mE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class CD{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bD{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class mE{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new bD,this.map.set(s,a)),a.add(r)}get(r,s){const d=this.map.get(r);return d?d.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yE(t,r,s){const a=t.previousIndex;if(null===a)return a;let d=0;return s&&a<s.length&&(d=s[a]),a+r+d}class vE{constructor(){}supports(r){return r instanceof Map||sp(r)}create(){return new TD}}class TD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||sp(r)))throw new Ge(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,d)=>{if(s&&s.key===d)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const g=this._getOrCreateRecordForKey(d,a);s=this._insertBeforeOrAppend(s,g)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const d=this._records.get(r);this._maybeAddToChanges(d,s);const g=d._prev,w=d._next;return g&&(g._next=w),w&&(w._prev=g),d._next=null,d._prev=null,d}const a=new SD(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class SD{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _E(){return new Sv([new gE])}let Sv=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(null!=a){const d=a.factories.slice();s=s.concat(d)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||_E()),deps:[[t,new Jt,new wt]]}}find(s){const a=this.factories.find(d=>d.supports(s));if(null!=a)return a;throw new Ge(901,!1)}}return t.\u0275prov=pt({token:t,providedIn:"root",factory:_E}),t})();function EE(){return new Av([new vE])}let Av=(()=>{class t{constructor(s){this.factories=s}static create(s,a){if(a){const d=a.factories.slice();s=s.concat(d)}return new t(s)}static extend(s){return{provide:t,useFactory:a=>t.create(s,a||EE()),deps:[[t,new Jt,new wt]]}}find(s){const a=this.factories.find(d=>d.supports(s));if(a)return a;throw new Ge(901,!1)}}return t.\u0275prov=pt({token:t,providedIn:"root",factory:EE}),t})();const xD=nE(null,"core",[]);let RD=(()=>{class t{constructor(s){}}return t.\u0275fac=function(s){return new(s||t)(Mr(bm))},t.\u0275mod=Pt({type:t}),t.\u0275inj=ve({}),t})();function ND(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}},433:($t,qe,F)=>{F.d(qe,{Fj:()=>Re,qu:()=>rr,u:()=>Co,sg:()=>Li,u5:()=>us,Fd:()=>Ai,qQ:()=>Vi,a5:()=>Fn,JJ:()=>at,JL:()=>_e,F:()=>Ct,On:()=>Io,YN:()=>ai,wV:()=>ps,_:()=>mi,UX:()=>Bi,Q7:()=>Fr,EJ:()=>Qi,kI:()=>be,_Y:()=>xo,Kr:()=>lo});var h=F(4650),k=F(6895),H=F(8996),ce=F(9751),de=F(4742),Ce=F(8421),Ae=F(7669),se=F(5403),Be=F(3268),ee=F(1810),De=F(4004);let Qe=(()=>{class L{constructor(M,Y){this._renderer=M,this._elementRef=Y,this.onChange=ut=>{},this.onTouched=()=>{}}setProperty(M,Y){this._renderer.setProperty(this._elementRef.nativeElement,M,Y)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}}return L.\u0275fac=function(M){return new(M||L)(h.Y36(h.Qsj),h.Y36(h.SBq))},L.\u0275dir=h.lG2({type:L}),L})(),Je=(()=>{class L extends Qe{}return L.\u0275fac=function(){let P;return function(Y){return(P||(P=h.n5z(L)))(Y||L)}}(),L.\u0275dir=h.lG2({type:L,features:[h.qOj]}),L})();const Ge=new h.OlP("NgValueAccessor"),Ke={provide:Ge,useExisting:(0,h.Gpc)(()=>Re),multi:!0},xt=new h.OlP("CompositionEventMode");let Re=(()=>{class L extends Qe{constructor(M,Y,ut){super(M,Y),this._compositionMode=ut,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Me(){const L=(0,k.q)()?(0,k.q)().getUserAgent():"";return/android (\d+)/.test(L.toLowerCase())}())}writeValue(M){this.setProperty("value",M??"")}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}}return L.\u0275fac=function(M){return new(M||L)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(xt,8))},L.\u0275dir=h.lG2({type:L,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,Y){1&M&&h.NdJ("input",function(qt){return Y._handleInput(qt.target.value)})("blur",function(){return Y.onTouched()})("compositionstart",function(){return Y._compositionStart()})("compositionend",function(qt){return Y._compositionEnd(qt.target.value)})},features:[h._Bn([Ke]),h.qOj]}),L})();function je(L){return null==L||("string"==typeof L||Array.isArray(L))&&0===L.length}function vt(L){return null!=L&&"number"==typeof L.length}const Te=new h.OlP("NgValidators"),Ve=new h.OlP("NgAsyncValidators"),Ue=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class be{static min(P){return Se(P)}static max(P){return He(P)}static required(P){return Le(P)}static requiredTrue(P){return function dt(L){return!0===L.value?null:{required:!0}}(P)}static email(P){return function It(L){return je(L.value)||Ue.test(L.value)?null:{email:!0}}(P)}static minLength(P){return function St(L){return P=>je(P.value)||!vt(P.value)?null:P.value.length<L?{minlength:{requiredLength:L,actualLength:P.value.length}}:null}(P)}static maxLength(P){return function Kt(L){return P=>vt(P.value)&&P.value.length>L?{maxlength:{requiredLength:L,actualLength:P.value.length}}:null}(P)}static pattern(P){return function zt(L){if(!L)return ft;let P,M;return"string"==typeof L?(M="","^"!==L.charAt(0)&&(M+="^"),M+=L,"$"!==L.charAt(L.length-1)&&(M+="$"),P=new RegExp(M)):(M=L.toString(),P=L),Y=>{if(je(Y.value))return null;const ut=Y.value;return P.test(ut)?null:{pattern:{requiredPattern:M,actualValue:ut}}}}(P)}static nullValidator(P){return null}static compose(P){return Ft(P)}static composeAsync(P){return In(P)}}function Se(L){return P=>{if(je(P.value)||je(L))return null;const M=parseFloat(P.value);return!isNaN(M)&&M<L?{min:{min:L,actual:P.value}}:null}}function He(L){return P=>{if(je(P.value)||je(L))return null;const M=parseFloat(P.value);return!isNaN(M)&&M>L?{max:{max:L,actual:P.value}}:null}}function Le(L){return je(L.value)?{required:!0}:null}function ft(L){return null}function tn(L){return null!=L}function En(L){return(0,h.QGY)(L)?(0,H.D)(L):L}function et(L){let P={};return L.forEach(M=>{P=null!=M?{...P,...M}:P}),0===Object.keys(P).length?null:P}function pt(L,P){return P.map(M=>M(L))}function ve(L){return L.map(P=>function Ie(L){return!L.validate}(P)?P:M=>P.validate(M))}function Ft(L){if(!L)return null;const P=L.filter(tn);return 0==P.length?null:function(M){return et(pt(M,P))}}function wn(L){return null!=L?Ft(ve(L)):null}function In(L){if(!L)return null;const P=L.filter(tn);return 0==P.length?null:function(M){return function ae(...L){const P=(0,Ae.jO)(L),{args:M,keys:Y}=(0,de.D)(L),ut=new ce.y(qt=>{const{length:ur}=M;if(!ur)return void qt.complete();const $r=new Array(ur);let ms=ur,ys=ur;for(let Rs=0;Rs<ur;Rs++){let ji=!1;(0,Ce.Xf)(M[Rs]).subscribe((0,se.x)(qt,co=>{ji||(ji=!0,ys--),$r[Rs]=co},()=>ms--,void 0,()=>{(!ms||!ji)&&(ys||qt.next(Y?(0,ee.n)(Y,$r):$r),qt.complete())}))}});return P?ut.pipe((0,Be.Z)(P)):ut}(pt(M,P).map(En)).pipe((0,De.U)(et))}}function xn(L){return null!=L?In(ve(L)):null}function cr(L,P){return null===L?[P]:Array.isArray(L)?[...L,P]:[L,P]}function kn(L){return L._rawValidators}function Un(L){return L._rawAsyncValidators}function Ln(L){return L?Array.isArray(L)?L:[L]:[]}function ar(L,P){return Array.isArray(L)?L.includes(P):L===P}function Zn(L,P){const M=Ln(P);return Ln(L).forEach(ut=>{ar(M,ut)||M.push(ut)}),M}function _t(L,P){return Ln(P).filter(M=>!ar(L,M))}class Nn{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(P){this._rawValidators=P||[],this._composedValidatorFn=wn(this._rawValidators)}_setAsyncValidators(P){this._rawAsyncValidators=P||[],this._composedAsyncValidatorFn=xn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(P){this._onDestroyCallbacks.push(P)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(P=>P()),this._onDestroyCallbacks=[]}reset(P){this.control&&this.control.reset(P)}hasError(P,M){return!!this.control&&this.control.hasError(P,M)}getError(P,M){return this.control?this.control.getError(P,M):null}}class vn extends Nn{get formDirective(){return null}get path(){return null}}class Fn extends Nn{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class mr{constructor(P){this._cd=P}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let at=(()=>{class L extends mr{constructor(M){super(M)}}return L.\u0275fac=function(M){return new(M||L)(h.Y36(Fn,2))},L.\u0275dir=h.lG2({type:L,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,Y){2&M&&h.ekj("ng-untouched",Y.isUntouched)("ng-touched",Y.isTouched)("ng-pristine",Y.isPristine)("ng-dirty",Y.isDirty)("ng-valid",Y.isValid)("ng-invalid",Y.isInvalid)("ng-pending",Y.isPending)},features:[h.qOj]}),L})(),_e=(()=>{class L extends mr{constructor(M){super(M)}}return L.\u0275fac=function(M){return new(M||L)(h.Y36(vn,10))},L.\u0275dir=h.lG2({type:L,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(M,Y){2&M&&h.ekj("ng-untouched",Y.isUntouched)("ng-touched",Y.isTouched)("ng-pristine",Y.isPristine)("ng-dirty",Y.isDirty)("ng-valid",Y.isValid)("ng-invalid",Y.isInvalid)("ng-pending",Y.isPending)("ng-submitted",Y.isSubmitted)},features:[h.qOj]}),L})();const Pt="VALID",yn="INVALID",nn="PENDING",On="DISABLED";function $e(L){return(Ut(L)?L.validators:L)||null}function me(L){return Array.isArray(L)?wn(L):L||null}function ye(L,P){return(Ut(P)?P.asyncValidators:L)||null}function ct(L){return Array.isArray(L)?xn(L):L||null}function Ut(L){return null!=L&&!Array.isArray(L)&&"object"==typeof L}function cn(L,P,M){const Y=L.controls;if(!(P?Object.keys(Y):Y).length)throw new h.vHH(1e3,"");if(!Y[M])throw new h.vHH(1001,"")}function pn(L,P,M){L._forEachChild((Y,ut)=>{if(void 0===M[ut])throw new h.vHH(1002,"")})}class oe{constructor(P,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=P,this._rawAsyncValidators=M,this._composedValidatorFn=me(this._rawValidators),this._composedAsyncValidatorFn=ct(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(P){this._rawValidators=this._composedValidatorFn=P}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(P){this._rawAsyncValidators=this._composedAsyncValidatorFn=P}get parent(){return this._parent}get valid(){return this.status===Pt}get invalid(){return this.status===yn}get pending(){return this.status==nn}get disabled(){return this.status===On}get enabled(){return this.status!==On}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(P){this._rawValidators=P,this._composedValidatorFn=me(P)}setAsyncValidators(P){this._rawAsyncValidators=P,this._composedAsyncValidatorFn=ct(P)}addValidators(P){this.setValidators(Zn(P,this._rawValidators))}addAsyncValidators(P){this.setAsyncValidators(Zn(P,this._rawAsyncValidators))}removeValidators(P){this.setValidators(_t(P,this._rawValidators))}removeAsyncValidators(P){this.setAsyncValidators(_t(P,this._rawAsyncValidators))}hasValidator(P){return ar(this._rawValidators,P)}hasAsyncValidator(P){return ar(this._rawAsyncValidators,P)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(P={}){this.touched=!0,this._parent&&!P.onlySelf&&this._parent.markAsTouched(P)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(P=>P.markAllAsTouched())}markAsUntouched(P={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}markAsDirty(P={}){this.pristine=!1,this._parent&&!P.onlySelf&&this._parent.markAsDirty(P)}markAsPristine(P={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}markAsPending(P={}){this.status=nn,!1!==P.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!P.onlySelf&&this._parent.markAsPending(P)}disable(P={}){const M=this._parentMarkedDirty(P.onlySelf);this.status=On,this.errors=null,this._forEachChild(Y=>{Y.disable({...P,onlySelf:!0})}),this._updateValue(),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...P,skipPristineCheck:M}),this._onDisabledChange.forEach(Y=>Y(!0))}enable(P={}){const M=this._parentMarkedDirty(P.onlySelf);this.status=Pt,this._forEachChild(Y=>{Y.enable({...P,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent}),this._updateAncestors({...P,skipPristineCheck:M}),this._onDisabledChange.forEach(Y=>Y(!1))}_updateAncestors(P){this._parent&&!P.onlySelf&&(this._parent.updateValueAndValidity(P),P.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(P){this._parent=P}getRawValue(){return this.value}updateValueAndValidity(P={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pt||this.status===nn)&&this._runAsyncValidator(P.emitEvent)),!1!==P.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!P.onlySelf&&this._parent.updateValueAndValidity(P)}_updateTreeValidity(P={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(P)),this.updateValueAndValidity({onlySelf:!0,emitEvent:P.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?On:Pt}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(P){if(this.asyncValidator){this.status=nn,this._hasOwnPendingAsyncValidator=!0;const M=En(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(Y=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(Y,{emitEvent:P})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(P,M={}){this.errors=P,this._updateControlsErrors(!1!==M.emitEvent)}get(P){let M=P;return null==M||(Array.isArray(M)||(M=M.split(".")),0===M.length)?null:M.reduce((Y,ut)=>Y&&Y._find(ut),this)}getError(P,M){const Y=M?this.get(M):this;return Y&&Y.errors?Y.errors[P]:null}hasError(P,M){return!!this.getError(P,M)}get root(){let P=this;for(;P._parent;)P=P._parent;return P}_updateControlsErrors(P){this.status=this._calculateStatus(),P&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(P)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?On:this.errors?yn:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(nn)?nn:this._anyControlsHaveStatus(yn)?yn:Pt}_anyControlsHaveStatus(P){return this._anyControls(M=>M.status===P)}_anyControlsDirty(){return this._anyControls(P=>P.dirty)}_anyControlsTouched(){return this._anyControls(P=>P.touched)}_updatePristine(P={}){this.pristine=!this._anyControlsDirty(),this._parent&&!P.onlySelf&&this._parent._updatePristine(P)}_updateTouched(P={}){this.touched=this._anyControlsTouched(),this._parent&&!P.onlySelf&&this._parent._updateTouched(P)}_registerOnCollectionChange(P){this._onCollectionChange=P}_setUpdateStrategy(P){Ut(P)&&null!=P.updateOn&&(this._updateOn=P.updateOn)}_parentMarkedDirty(P){return!P&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(P){return null}}class ue extends oe{constructor(P,M,Y){super($e(M),ye(Y,M)),this.controls=P,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(P,M){return this.controls[P]?this.controls[P]:(this.controls[P]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(P,M,Y={}){this.registerControl(P,M),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}removeControl(P,M={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(P,M,Y={}){this.controls[P]&&this.controls[P]._registerOnCollectionChange(()=>{}),delete this.controls[P],M&&this.registerControl(P,M),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}contains(P){return this.controls.hasOwnProperty(P)&&this.controls[P].enabled}setValue(P,M={}){pn(this,0,P),Object.keys(P).forEach(Y=>{cn(this,!0,Y),this.controls[Y].setValue(P[Y],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(P,M={}){null!=P&&(Object.keys(P).forEach(Y=>{const ut=this.controls[Y];ut&&ut.patchValue(P[Y],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(P={},M={}){this._forEachChild((Y,ut)=>{Y.reset(P[ut],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(P,M,Y)=>(P[Y]=M.getRawValue(),P))}_syncPendingControls(){let P=this._reduceChildren(!1,(M,Y)=>!!Y._syncPendingControls()||M);return P&&this.updateValueAndValidity({onlySelf:!0}),P}_forEachChild(P){Object.keys(this.controls).forEach(M=>{const Y=this.controls[M];Y&&P(Y,M)})}_setUpControls(){this._forEachChild(P=>{P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(P){for(const[M,Y]of Object.entries(this.controls))if(this.contains(M)&&P(Y))return!0;return!1}_reduceValue(){return this._reduceChildren({},(M,Y,ut)=>((Y.enabled||this.disabled)&&(M[ut]=Y.value),M))}_reduceChildren(P,M){let Y=P;return this._forEachChild((ut,qt)=>{Y=M(Y,ut,qt)}),Y}_allControlsDisabled(){for(const P of Object.keys(this.controls))if(this.controls[P].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(P){return this.controls.hasOwnProperty(P)?this.controls[P]:null}}class Xe extends ue{}function _n(L,P){return[...P.path,L]}function Pn(L,P){qr(L,P),P.valueAccessor.writeValue(L.value),L.disabled&&P.valueAccessor.setDisabledState?.(!0),function ki(L,P){P.valueAccessor.registerOnChange(M=>{L._pendingValue=M,L._pendingChange=!0,L._pendingDirty=!0,"change"===L.updateOn&&yr(L,P)})}(L,P),function Ts(L,P){const M=(Y,ut)=>{P.valueAccessor.writeValue(Y),ut&&P.viewToModelUpdate(Y)};L.registerOnChange(M),P._registerOnDestroy(()=>{L._unregisterOnChange(M)})}(L,P),function Fi(L,P){P.valueAccessor.registerOnTouched(()=>{L._pendingTouched=!0,"blur"===L.updateOn&&L._pendingChange&&yr(L,P),"submit"!==L.updateOn&&L.markAsTouched()})}(L,P),function hn(L,P){if(P.valueAccessor.setDisabledState){const M=Y=>{P.valueAccessor.setDisabledState(Y)};L.registerOnDisabledChange(M),P._registerOnDestroy(()=>{L._unregisterOnDisabledChange(M)})}}(L,P)}function wr(L,P,M=!0){const Y=()=>{};P.valueAccessor&&(P.valueAccessor.registerOnChange(Y),P.valueAccessor.registerOnTouched(Y)),Wn(L,P),L&&(P._invokeOnDestroyCallbacks(),L._registerOnCollectionChange(()=>{}))}function oi(L,P){L.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(P)})}function qr(L,P){const M=kn(L);null!==P.validator?L.setValidators(cr(M,P.validator)):"function"==typeof M&&L.setValidators([M]);const Y=Un(L);null!==P.asyncValidator?L.setAsyncValidators(cr(Y,P.asyncValidator)):"function"==typeof Y&&L.setAsyncValidators([Y]);const ut=()=>L.updateValueAndValidity();oi(P._rawValidators,ut),oi(P._rawAsyncValidators,ut)}function Wn(L,P){let M=!1;if(null!==L){if(null!==P.validator){const ut=kn(L);if(Array.isArray(ut)&&ut.length>0){const qt=ut.filter(ur=>ur!==P.validator);qt.length!==ut.length&&(M=!0,L.setValidators(qt))}}if(null!==P.asyncValidator){const ut=Un(L);if(Array.isArray(ut)&&ut.length>0){const qt=ut.filter(ur=>ur!==P.asyncValidator);qt.length!==ut.length&&(M=!0,L.setAsyncValidators(qt))}}}const Y=()=>{};return oi(P._rawValidators,Y),oi(P._rawAsyncValidators,Y),M}function yr(L,P){L._pendingDirty&&L.markAsDirty(),L.setValue(L._pendingValue,{emitModelToViewChange:!1}),P.viewToModelUpdate(L._pendingValue),L._pendingChange=!1}function Ur(L,P){qr(L,P)}function pi(L,P){if(!L.hasOwnProperty("model"))return!1;const M=L.model;return!!M.isFirstChange()||!Object.is(P,M.currentValue)}function Ii(L,P){L._syncPendingControls(),P.forEach(M=>{const Y=M.control;"submit"===Y.updateOn&&Y._pendingChange&&(M.viewToModelUpdate(Y._pendingValue),Y._pendingChange=!1)})}function Gi(L,P){if(!P)return null;let M,Y,ut;return Array.isArray(P),P.forEach(qt=>{qt.constructor===Re?M=qt:function zs(L){return Object.getPrototypeOf(L.constructor)===Je}(qt)?Y=qt:ut=qt}),ut||Y||M||null}const ze={provide:vn,useExisting:(0,h.Gpc)(()=>Ct)},yt=(()=>Promise.resolve(null))();let Ct=(()=>{class L extends vn{constructor(M,Y){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new h.vpe,this.form=new ue({},wn(M),xn(Y))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(M){yt.then(()=>{const Y=this._findContainer(M.path);M.control=Y.registerControl(M.name,M.control),Pn(M.control,M),M.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(M)})}getControl(M){return this.form.get(M.path)}removeControl(M){yt.then(()=>{const Y=this._findContainer(M.path);Y&&Y.removeControl(M.name),this._directives.delete(M)})}addFormGroup(M){yt.then(()=>{const Y=this._findContainer(M.path),ut=new ue({});Ur(ut,M),Y.registerControl(M.name,ut),ut.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(M){yt.then(()=>{const Y=this._findContainer(M.path);Y&&Y.removeControl(M.name)})}getFormGroup(M){return this.form.get(M.path)}updateModel(M,Y){yt.then(()=>{this.form.get(M.path).setValue(Y)})}setValue(M){this.control.setValue(M)}onSubmit(M){return this.submitted=!0,Ii(this.form,this._directives),this.ngSubmit.emit(M),!1}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(M){return M.pop(),M.length?this.form.get(M):this.form}}return L.\u0275fac=function(M){return new(M||L)(h.Y36(Te,10),h.Y36(Ve,10))},L.\u0275dir=h.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(M,Y){1&M&&h.NdJ("submit",function(qt){return Y.onSubmit(qt)})("reset",function(){return Y.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([ze]),h.qOj]}),L})();function Wt(L,P){const M=L.indexOf(P);M>-1&&L.splice(M,1)}function Bn(L){return"object"==typeof L&&null!==L&&2===Object.keys(L).length&&"value"in L&&"disabled"in L}const Sr=class extends oe{constructor(P=null,M,Y){super($e(M),ye(Y,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(P),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ut(M)&&(M.nonNullable||M.initialValueIsDefault)&&(this.defaultValue=Bn(P)?P.value:P)}setValue(P,M={}){this.value=this._pendingValue=P,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(Y=>Y(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(P,M={}){this.setValue(P,M)}reset(P=this.defaultValue,M={}){this._applyFormState(P),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(P){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(P){this._onChange.push(P)}_unregisterOnChange(P){Wt(this._onChange,P)}registerOnDisabledChange(P){this._onDisabledChange.push(P)}_unregisterOnDisabledChange(P){Wt(this._onDisabledChange,P)}_forEachChild(P){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(P){Bn(P)?(this.value=this._pendingValue=P.value,P.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=P}},Wi={provide:Fn,useExisting:(0,h.Gpc)(()=>Io)},Mo=(()=>Promise.resolve(null))();let Io=(()=>{class L extends Fn{constructor(M,Y,ut,qt,ur){super(),this._changeDetectorRef=ur,this.control=new Sr,this._registered=!1,this.update=new h.vpe,this._parent=M,this._setValidators(Y),this._setAsyncValidators(ut),this.valueAccessor=Gi(0,qt)}ngOnChanges(M){if(this._checkForErrors(),!this._registered||"name"in M){if(this._registered&&(this._checkName(),this.formDirective)){const Y=M.name.previousValue;this.formDirective.removeControl({name:Y,path:this._getPath(Y)})}this._setUpControl()}"isDisabled"in M&&this._updateDisabled(M),pi(M,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Pn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(M){Mo.then(()=>{this.control.setValue(M,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(M){const Y=M.isDisabled.currentValue,ut=0!==Y&&(0,h.D6c)(Y);Mo.then(()=>{ut&&!this.control.disabled?this.control.disable():!ut&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(M){return this._parent?_n(M,this._parent):[M]}}return L.\u0275fac=function(M){return new(M||L)(h.Y36(vn,9),h.Y36(Te,10),h.Y36(Ve,10),h.Y36(Ge,10),h.Y36(h.sBO,8))},L.\u0275dir=h.lG2({type:L,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[h._Bn([Wi]),h.qOj,h.TTD]}),L})(),xo=(()=>{class L{}return L.\u0275fac=function(M){return new(M||L)},L.\u0275dir=h.lG2({type:L,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),L})();const Ks={provide:Ge,useExisting:(0,h.Gpc)(()=>ps),multi:!0};let ps=(()=>{class L extends Je{writeValue(M){this.setProperty("value",M??"")}registerOnChange(M){this.onChange=Y=>{M(""==Y?null:parseFloat(Y))}}}return L.\u0275fac=function(){let P;return function(Y){return(P||(P=h.n5z(L)))(Y||L)}}(),L.\u0275dir=h.lG2({type:L,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(M,Y){1&M&&h.NdJ("input",function(qt){return Y.onChange(qt.target.value)})("blur",function(){return Y.onTouched()})},features:[h._Bn([Ks]),h.qOj]}),L})();const Di={provide:Ge,useExisting:(0,h.Gpc)(()=>mi),multi:!0};let qs=(()=>{class L{}return L.\u0275fac=function(M){return new(M||L)},L.\u0275mod=h.oAB({type:L}),L.\u0275inj=h.cJS({}),L})(),Ci=(()=>{class L{constructor(){this._accessors=[]}add(M,Y){this._accessors.push([M,Y])}remove(M){for(let Y=this._accessors.length-1;Y>=0;--Y)if(this._accessors[Y][1]===M)return void this._accessors.splice(Y,1)}select(M){this._accessors.forEach(Y=>{this._isSameGroup(Y,M)&&Y[1]!==M&&Y[1].fireUncheck(M.value)})}_isSameGroup(M,Y){return!!M[0].control&&M[0]._parent===Y._control._parent&&M[1].name===Y.name}}return L.\u0275fac=function(M){return new(M||L)},L.\u0275prov=h.Yz7({token:L,factory:L.\u0275fac,providedIn:qs}),L})(),mi=(()=>{class L extends Je{constructor(M,Y,ut,qt){super(M,Y),this._registry=ut,this._injector=qt,this.onChange=()=>{}}ngOnInit(){this._control=this._injector.get(Fn),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(M){this._state=M===this.value,this.setProperty("checked",this._state)}registerOnChange(M){this._fn=M,this.onChange=()=>{M(this.value),this._registry.select(this)}}fireUncheck(M){this.writeValue(M)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return L.\u0275fac=function(M){return new(M||L)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Ci),h.Y36(h.zs3))},L.\u0275dir=h.lG2({type:L,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(M,Y){1&M&&h.NdJ("change",function(){return Y.onChange()})("blur",function(){return Y.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[h._Bn([Di]),h.qOj]}),L})();const qi=new h.OlP("NgModelWithFormControlWarning"),Dr={provide:vn,useExisting:(0,h.Gpc)(()=>Li)};let Li=(()=>{class L extends vn{constructor(M,Y){super(),this.validators=M,this.asyncValidators=Y,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(M),this._setAsyncValidators(Y)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Wn(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const Y=this.form.get(M.path);return Pn(Y,M),Y.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),Y}getControl(M){return this.form.get(M.path)}removeControl(M){wr(M.control||null,M,!1),function Pe(L,P){const M=L.indexOf(P);M>-1&&L.splice(M,1)}(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,Y){this.form.get(M.path).setValue(Y)}onSubmit(M){return this.submitted=!0,Ii(this.form,this.directives),this.ngSubmit.emit(M),!1}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const Y=M.control,ut=this.form.get(M.path);Y!==ut&&(wr(Y||null,M),(L=>L instanceof Sr)(ut)&&(Pn(ut,M),M.control=ut))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const Y=this.form.get(M.path);Ur(Y,M),Y.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const Y=this.form.get(M.path);Y&&function Zr(L,P){return Wn(L,P)}(Y,M)&&Y.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){qr(this.form,this),this._oldForm&&Wn(this._oldForm,this)}_checkFormPresent(){}}return L.\u0275fac=function(M){return new(M||L)(h.Y36(Te,10),h.Y36(Ve,10))},L.\u0275dir=h.lG2({type:L,selectors:[["","formGroup",""]],hostBindings:function(M,Y){1&M&&h.NdJ("submit",function(qt){return Y.onSubmit(qt)})("reset",function(){return Y.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([Dr]),h.qOj,h.TTD]}),L})();const gs={provide:Fn,useExisting:(0,h.Gpc)(()=>Co)};let Co=(()=>{class L extends Fn{constructor(M,Y,ut,qt,ur){super(),this._ngModelWarningConfig=ur,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=M,this._setValidators(Y),this._setAsyncValidators(ut),this.valueAccessor=Gi(0,qt)}set isDisabled(M){}ngOnChanges(M){this._added||this._setUpControl(),pi(M,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}get path(){return _n(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return L._ngModelWarningSentOnce=!1,L.\u0275fac=function(M){return new(M||L)(h.Y36(vn,13),h.Y36(Te,10),h.Y36(Ve,10),h.Y36(Ge,10),h.Y36(qi,8))},L.\u0275dir=h.lG2({type:L,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([gs]),h.qOj,h.TTD]}),L})();const nr={provide:Ge,useExisting:(0,h.Gpc)(()=>Qi),multi:!0};function Ti(L,P){return null==L?`${P}`:(P&&"object"==typeof P&&(P="Object"),`${L}: ${P}`.slice(0,50))}let Qi=(()=>{class L extends Je{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){this.value=M;const ut=Ti(this._getOptionId(M),M);this.setProperty("value",ut)}registerOnChange(M){this.onChange=Y=>{this.value=this._getOptionValue(Y),M(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(M){for(const Y of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Y),M))return Y;return null}_getOptionValue(M){const Y=function yi(L){return L.split(":")[0]}(M);return this._optionMap.has(Y)?this._optionMap.get(Y):M}}return L.\u0275fac=function(){let P;return function(Y){return(P||(P=h.n5z(L)))(Y||L)}}(),L.\u0275dir=h.lG2({type:L,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(M,Y){1&M&&h.NdJ("change",function(qt){return Y.onChange(qt.target.value)})("blur",function(){return Y.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([nr]),h.qOj]}),L})(),ai=(()=>{class L{constructor(M,Y,ut){this._element=M,this._renderer=Y,this._select=ut,this._select&&(this.id=this._select._registerOption())}set ngValue(M){null!=this._select&&(this._select._optionMap.set(this.id,M),this._setElementValue(Ti(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._setElementValue(M),this._select&&this._select.writeValue(this._select.value)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return L.\u0275fac=function(M){return new(M||L)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(Qi,9))},L.\u0275dir=h.lG2({type:L,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),L})();const Si={provide:Ge,useExisting:(0,h.Gpc)(()=>Ro),multi:!0};function ao(L,P){return null==L?`${P}`:("string"==typeof P&&(P=`'${P}'`),P&&"object"==typeof P&&(P="Object"),`${L}: ${P}`.slice(0,50))}let Ro=(()=>{class L extends Je{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){let Y;if(this.value=M,Array.isArray(M)){const ut=M.map(qt=>this._getOptionId(qt));Y=(qt,ur)=>{qt._setSelected(ut.indexOf(ur.toString())>-1)}}else Y=(ut,qt)=>{ut._setSelected(!1)};this._optionMap.forEach(Y)}registerOnChange(M){this.onChange=Y=>{const ut=[],qt=Y.selectedOptions;if(void 0!==qt){const ur=qt;for(let $r=0;$r<ur.length;$r++){const ys=this._getOptionValue(ur[$r].value);ut.push(ys)}}else{const ur=Y.options;for(let $r=0;$r<ur.length;$r++){const ms=ur[$r];if(ms.selected){const ys=this._getOptionValue(ms.value);ut.push(ys)}}}this.value=ut,M(ut)}}_registerOption(M){const Y=(this._idCounter++).toString();return this._optionMap.set(Y,M),Y}_getOptionId(M){for(const Y of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(Y)._value,M))return Y;return null}_getOptionValue(M){const Y=function uo(L){return L.split(":")[0]}(M);return this._optionMap.has(Y)?this._optionMap.get(Y)._value:M}}return L.\u0275fac=function(){let P;return function(Y){return(P||(P=h.n5z(L)))(Y||L)}}(),L.\u0275dir=h.lG2({type:L,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(M,Y){1&M&&h.NdJ("change",function(qt){return Y.onChange(qt.target)})("blur",function(){return Y.onTouched()})},inputs:{compareWith:"compareWith"},features:[h._Bn([Si]),h.qOj]}),L})(),lo=(()=>{class L{constructor(M,Y,ut){this._element=M,this._renderer=Y,this._select=ut,this._select&&(this.id=this._select._registerOption(this))}set ngValue(M){null!=this._select&&(this._value=M,this._setElementValue(ao(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._select?(this._value=M,this._setElementValue(ao(this.id,M)),this._select.writeValue(this._select.value)):this._setElementValue(M)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}_setSelected(M){this._renderer.setProperty(this._element.nativeElement,"selected",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return L.\u0275fac=function(M){return new(M||L)(h.Y36(h.SBq),h.Y36(h.Qsj),h.Y36(Ro,9))},L.\u0275dir=h.lG2({type:L,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),L})();function xr(L){return"number"==typeof L?L:parseFloat(L)}let Qr=(()=>{class L{constructor(){this._validator=ft}ngOnChanges(M){if(this.inputName in M){const Y=this.normalizeInput(M[this.inputName].currentValue);this._enabled=this.enabled(Y),this._validator=this._enabled?this.createValidator(Y):ft,this._onChange&&this._onChange()}}validate(M){return this._validator(M)}registerOnValidatorChange(M){this._onChange=M}enabled(M){return null!=M}}return L.\u0275fac=function(M){return new(M||L)},L.\u0275dir=h.lG2({type:L,features:[h.TTD]}),L})();const Zs={provide:Te,useExisting:(0,h.Gpc)(()=>Ai),multi:!0};let Ai=(()=>{class L extends Qr{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=M=>xr(M),this.createValidator=M=>He(M)}}return L.\u0275fac=function(){let P;return function(Y){return(P||(P=h.n5z(L)))(Y||L)}}(),L.\u0275dir=h.lG2({type:L,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(M,Y){2&M&&h.uIk("max",Y._enabled?Y.max:null)},inputs:{max:"max"},features:[h._Bn([Zs]),h.qOj]}),L})();const jn={provide:Te,useExisting:(0,h.Gpc)(()=>Vi),multi:!0};let Vi=(()=>{class L extends Qr{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=M=>xr(M),this.createValidator=M=>Se(M)}}return L.\u0275fac=function(){let P;return function(Y){return(P||(P=h.n5z(L)))(Y||L)}}(),L.\u0275dir=h.lG2({type:L,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(M,Y){2&M&&h.uIk("min",Y._enabled?Y.min:null)},inputs:{min:"min"},features:[h._Bn([jn]),h.qOj]}),L})();const os={provide:Te,useExisting:(0,h.Gpc)(()=>Fr),multi:!0};let Fr=(()=>{class L extends Qr{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=h.D6c,this.createValidator=M=>Le}enabled(M){return M}}return L.\u0275fac=function(){let P;return function(Y){return(P||(P=h.n5z(L)))(Y||L)}}(),L.\u0275dir=h.lG2({type:L,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(M,Y){2&M&&h.uIk("required",Y._enabled?"":null)},inputs:{required:"required"},features:[h._Bn([os]),h.qOj]}),L})(),Vn=(()=>{class L{}return L.\u0275fac=function(M){return new(M||L)},L.\u0275mod=h.oAB({type:L}),L.\u0275inj=h.cJS({imports:[qs]}),L})(),us=(()=>{class L{}return L.\u0275fac=function(M){return new(M||L)},L.\u0275mod=h.oAB({type:L}),L.\u0275inj=h.cJS({imports:[Vn]}),L})(),Bi=(()=>{class L{static withConfig(M){return{ngModule:L,providers:[{provide:qi,useValue:M.warnOnNgModelWithFormControl}]}}}return L.\u0275fac=function(M){return new(M||L)},L.\u0275mod=h.oAB({type:L}),L.\u0275inj=h.cJS({imports:[Vn]}),L})();class Nr extends oe{constructor(P,M,Y){super($e(M),ye(Y,M)),this.controls=P,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(P){return this.controls[this._adjustIndex(P)]}push(P,M={}){this.controls.push(P),this._registerControl(P),this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}insert(P,M,Y={}){this.controls.splice(P,0,M),this._registerControl(M),this.updateValueAndValidity({emitEvent:Y.emitEvent})}removeAt(P,M={}){let Y=this._adjustIndex(P);Y<0&&(Y=0),this.controls[Y]&&this.controls[Y]._registerOnCollectionChange(()=>{}),this.controls.splice(Y,1),this.updateValueAndValidity({emitEvent:M.emitEvent})}setControl(P,M,Y={}){let ut=this._adjustIndex(P);ut<0&&(ut=0),this.controls[ut]&&this.controls[ut]._registerOnCollectionChange(()=>{}),this.controls.splice(ut,1),M&&(this.controls.splice(ut,0,M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:Y.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(P,M={}){pn(this,0,P),P.forEach((Y,ut)=>{cn(this,!1,ut),this.at(ut).setValue(Y,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(P,M={}){null!=P&&(P.forEach((Y,ut)=>{this.at(ut)&&this.at(ut).patchValue(Y,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(P=[],M={}){this._forEachChild((Y,ut)=>{Y.reset(P[ut],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this.controls.map(P=>P.getRawValue())}clear(P={}){this.controls.length<1||(this._forEachChild(M=>M._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:P.emitEvent}))}_adjustIndex(P){return P<0?P+this.length:P}_syncPendingControls(){let P=this.controls.reduce((M,Y)=>!!Y._syncPendingControls()||M,!1);return P&&this.updateValueAndValidity({onlySelf:!0}),P}_forEachChild(P){this.controls.forEach((M,Y)=>{P(M,Y)})}_updateValue(){this.value=this.controls.filter(P=>P.enabled||this.disabled).map(P=>P.value)}_anyControls(P){return this.controls.some(M=>M.enabled&&P(M))}_setUpControls(){this._forEachChild(P=>this._registerControl(P))}_allControlsDisabled(){for(const P of this.controls)if(P.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(P){P.setParent(this),P._registerOnCollectionChange(this._onCollectionChange)}_find(P){return this.at(P)??null}}function vi(L){return!!L&&(void 0!==L.asyncValidators||void 0!==L.validators||void 0!==L.updateOn)}let rr=(()=>{class L{constructor(){this.useNonNullable=!1}get nonNullable(){const M=new L;return M.useNonNullable=!0,M}group(M,Y=null){const ut=this._reduceControls(M);let qt={};return vi(Y)?qt=Y:null!==Y&&(qt.validators=Y.validator,qt.asyncValidators=Y.asyncValidator),new ue(ut,qt)}record(M,Y=null){const ut=this._reduceControls(M);return new Xe(ut,Y)}control(M,Y,ut){let qt={};return this.useNonNullable?(vi(Y)?qt=Y:(qt.validators=Y,qt.asyncValidators=ut),new Sr(M,{...qt,nonNullable:!0})):new Sr(M,Y,ut)}array(M,Y,ut){const qt=M.map(ur=>this._createControl(ur));return new Nr(qt,Y,ut)}_reduceControls(M){const Y={};return Object.keys(M).forEach(ut=>{Y[ut]=this._createControl(M[ut])}),Y}_createControl(M){return M instanceof Sr||M instanceof oe?M:Array.isArray(M)?this.control(M[0],M.length>1?M[1]:null,M.length>2?M[2]:null):this.control(M)}}return L.\u0275fac=function(M){return new(M||L)},L.\u0275prov=h.Yz7({token:L,factory:L.\u0275fac,providedIn:Bi}),L})()},1481:($t,qe,F)=>{F.d(qe,{Dx:()=>at,H7:()=>ct,b2:()=>vn,q6:()=>ar,se:()=>Le});var h=F(6895),k=F(4650);class H extends h.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ce extends H{static makeCurrent(){(0,h.HT)(new ce)}onAndCancel(ue,ne,Oe){return ue.addEventListener(ne,Oe,!1),()=>{ue.removeEventListener(ne,Oe,!1)}}dispatchEvent(ue,ne){ue.dispatchEvent(ne)}remove(ue){ue.parentNode&&ue.parentNode.removeChild(ue)}createElement(ue,ne){return(ne=ne||this.getDefaultDocument()).createElement(ue)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ue){return ue.nodeType===Node.ELEMENT_NODE}isShadowRoot(ue){return ue instanceof DocumentFragment}getGlobalEventTarget(ue,ne){return"window"===ne?window:"document"===ne?ue:"body"===ne?ue.body:null}getBaseHref(ue){const ne=function Ce(){return de=de||document.querySelector("base"),de?de.getAttribute("href"):null}();return null==ne?null:function se(oe){Ae=Ae||document.createElement("a"),Ae.setAttribute("href",oe);const ue=Ae.pathname;return"/"===ue.charAt(0)?ue:`/${ue}`}(ne)}resetBaseElement(){de=null}getUserAgent(){return window.navigator.userAgent}getCookie(ue){return(0,h.Mx)(document.cookie,ue)}}let Ae,de=null;const Be=new k.OlP("TRANSITION_ID"),ae=[{provide:k.ip1,useFactory:function ee(oe,ue,ne){return()=>{ne.get(k.CZH).donePromise.then(()=>{const Oe=(0,h.q)(),Xe=ue.querySelectorAll(`style[ng-transition="${oe}"]`);for(let jt=0;jt<Xe.length;jt++)Oe.remove(Xe[jt])})}},deps:[Be,h.K0,k.zs3],multi:!0}];let Qe=(()=>{class oe{build(){return new XMLHttpRequest}}return oe.\u0275fac=function(ne){return new(ne||oe)},oe.\u0275prov=k.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const Je=new k.OlP("EventManagerPlugins");let Ge=(()=>{class oe{constructor(ne,Oe){this._zone=Oe,this._eventNameToPlugin=new Map,ne.forEach(Xe=>Xe.manager=this),this._plugins=ne.slice().reverse()}addEventListener(ne,Oe,Xe){return this._findPluginFor(Oe).addEventListener(ne,Oe,Xe)}addGlobalEventListener(ne,Oe,Xe){return this._findPluginFor(Oe).addGlobalEventListener(ne,Oe,Xe)}getZone(){return this._zone}_findPluginFor(ne){const Oe=this._eventNameToPlugin.get(ne);if(Oe)return Oe;const Xe=this._plugins;for(let jt=0;jt<Xe.length;jt++){const _n=Xe[jt];if(_n.supports(ne))return this._eventNameToPlugin.set(ne,_n),_n}throw new Error(`No event manager plugin found for event ${ne}`)}}return oe.\u0275fac=function(ne){return new(ne||oe)(k.LFG(Je),k.LFG(k.R0b))},oe.\u0275prov=k.Yz7({token:oe,factory:oe.\u0275fac}),oe})();class Mt{constructor(ue){this._doc=ue}addGlobalEventListener(ue,ne,Oe){const Xe=(0,h.q)().getGlobalEventTarget(this._doc,ue);if(!Xe)throw new Error(`Unsupported event target ${Xe} for event ${ne}`);return this.addEventListener(Xe,ne,Oe)}}let Ze=(()=>{class oe{constructor(){this._stylesSet=new Set}addStyles(ne){const Oe=new Set;ne.forEach(Xe=>{this._stylesSet.has(Xe)||(this._stylesSet.add(Xe),Oe.add(Xe))}),this.onStylesAdded(Oe)}onStylesAdded(ne){}getAllStyles(){return Array.from(this._stylesSet)}}return oe.\u0275fac=function(ne){return new(ne||oe)},oe.\u0275prov=k.Yz7({token:oe,factory:oe.\u0275fac}),oe})(),Ke=(()=>{class oe extends Ze{constructor(ne){super(),this._doc=ne,this._hostNodes=new Map,this._hostNodes.set(ne.head,[])}_addStylesToHost(ne,Oe,Xe){ne.forEach(jt=>{const _n=this._doc.createElement("style");_n.textContent=jt,Xe.push(Oe.appendChild(_n))})}addHost(ne){const Oe=[];this._addStylesToHost(this._stylesSet,ne,Oe),this._hostNodes.set(ne,Oe)}removeHost(ne){const Oe=this._hostNodes.get(ne);Oe&&Oe.forEach(Me),this._hostNodes.delete(ne)}onStylesAdded(ne){this._hostNodes.forEach((Oe,Xe)=>{this._addStylesToHost(ne,Xe,Oe)})}ngOnDestroy(){this._hostNodes.forEach(ne=>ne.forEach(Me))}}return oe.\u0275fac=function(ne){return new(ne||oe)(k.LFG(h.K0))},oe.\u0275prov=k.Yz7({token:oe,factory:oe.\u0275fac}),oe})();function Me(oe){(0,h.q)().remove(oe)}const xt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Re=/%COMP%/g;function be(oe,ue,ne){for(let Oe=0;Oe<ue.length;Oe++){let Xe=ue[Oe];Array.isArray(Xe)?be(oe,Xe,ne):(Xe=Xe.replace(Re,oe),ne.push(Xe))}return ne}function Se(oe){return ue=>{if("__ngUnwrap__"===ue)return oe;!1===oe(ue)&&(ue.preventDefault(),ue.returnValue=!1)}}let Le=(()=>{class oe{constructor(ne,Oe,Xe){this.eventManager=ne,this.sharedStylesHost=Oe,this.appId=Xe,this.rendererByCompId=new Map,this.defaultRenderer=new dt(ne)}createRenderer(ne,Oe){if(!ne||!Oe)return this.defaultRenderer;switch(Oe.encapsulation){case k.ifc.Emulated:{let Xe=this.rendererByCompId.get(Oe.id);return Xe||(Xe=new zt(this.eventManager,this.sharedStylesHost,Oe,this.appId),this.rendererByCompId.set(Oe.id,Xe)),Xe.applyToHost(ne),Xe}case 1:case k.ifc.ShadowDom:return new ft(this.eventManager,this.sharedStylesHost,ne,Oe);default:if(!this.rendererByCompId.has(Oe.id)){const Xe=be(Oe.id,Oe.styles,[]);this.sharedStylesHost.addStyles(Xe),this.rendererByCompId.set(Oe.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return oe.\u0275fac=function(ne){return new(ne||oe)(k.LFG(Ge),k.LFG(Ke),k.LFG(k.AFp))},oe.\u0275prov=k.Yz7({token:oe,factory:oe.\u0275fac}),oe})();class dt{constructor(ue){this.eventManager=ue,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ue,ne){return ne?document.createElementNS(xt[ne]||ne,ue):document.createElement(ue)}createComment(ue){return document.createComment(ue)}createText(ue){return document.createTextNode(ue)}appendChild(ue,ne){(Kt(ue)?ue.content:ue).appendChild(ne)}insertBefore(ue,ne,Oe){ue&&(Kt(ue)?ue.content:ue).insertBefore(ne,Oe)}removeChild(ue,ne){ue&&ue.removeChild(ne)}selectRootElement(ue,ne){let Oe="string"==typeof ue?document.querySelector(ue):ue;if(!Oe)throw new Error(`The selector "${ue}" did not match any elements`);return ne||(Oe.textContent=""),Oe}parentNode(ue){return ue.parentNode}nextSibling(ue){return ue.nextSibling}setAttribute(ue,ne,Oe,Xe){if(Xe){ne=Xe+":"+ne;const jt=xt[Xe];jt?ue.setAttributeNS(jt,ne,Oe):ue.setAttribute(ne,Oe)}else ue.setAttribute(ne,Oe)}removeAttribute(ue,ne,Oe){if(Oe){const Xe=xt[Oe];Xe?ue.removeAttributeNS(Xe,ne):ue.removeAttribute(`${Oe}:${ne}`)}else ue.removeAttribute(ne)}addClass(ue,ne){ue.classList.add(ne)}removeClass(ue,ne){ue.classList.remove(ne)}setStyle(ue,ne,Oe,Xe){Xe&(k.JOm.DashCase|k.JOm.Important)?ue.style.setProperty(ne,Oe,Xe&k.JOm.Important?"important":""):ue.style[ne]=Oe}removeStyle(ue,ne,Oe){Oe&k.JOm.DashCase?ue.style.removeProperty(ne):ue.style[ne]=""}setProperty(ue,ne,Oe){ue[ne]=Oe}setValue(ue,ne){ue.nodeValue=ne}listen(ue,ne,Oe){return"string"==typeof ue?this.eventManager.addGlobalEventListener(ue,ne,Se(Oe)):this.eventManager.addEventListener(ue,ne,Se(Oe))}}function Kt(oe){return"TEMPLATE"===oe.tagName&&void 0!==oe.content}class zt extends dt{constructor(ue,ne,Oe,Xe){super(ue),this.component=Oe;const jt=be(Xe+"-"+Oe.id,Oe.styles,[]);ne.addStyles(jt),this.contentAttr=function Ve(oe){return"_ngcontent-%COMP%".replace(Re,oe)}(Xe+"-"+Oe.id),this.hostAttr=function Ue(oe){return"_nghost-%COMP%".replace(Re,oe)}(Xe+"-"+Oe.id)}applyToHost(ue){super.setAttribute(ue,this.hostAttr,"")}createElement(ue,ne){const Oe=super.createElement(ue,ne);return super.setAttribute(Oe,this.contentAttr,""),Oe}}class ft extends dt{constructor(ue,ne,Oe,Xe){super(ue),this.sharedStylesHost=ne,this.hostEl=Oe,this.shadowRoot=Oe.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const jt=be(Xe.id,Xe.styles,[]);for(let _n=0;_n<jt.length;_n++){const Pn=document.createElement("style");Pn.textContent=jt[_n],this.shadowRoot.appendChild(Pn)}}nodeOrShadowRoot(ue){return ue===this.hostEl?this.shadowRoot:ue}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ue,ne){return super.appendChild(this.nodeOrShadowRoot(ue),ne)}insertBefore(ue,ne,Oe){return super.insertBefore(this.nodeOrShadowRoot(ue),ne,Oe)}removeChild(ue,ne){return super.removeChild(this.nodeOrShadowRoot(ue),ne)}parentNode(ue){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ue)))}}let tn=(()=>{class oe extends Mt{constructor(ne){super(ne)}supports(ne){return!0}addEventListener(ne,Oe,Xe){return ne.addEventListener(Oe,Xe,!1),()=>this.removeEventListener(ne,Oe,Xe)}removeEventListener(ne,Oe,Xe){return ne.removeEventListener(Oe,Xe)}}return oe.\u0275fac=function(ne){return new(ne||oe)(k.LFG(h.K0))},oe.\u0275prov=k.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const En=["alt","control","meta","shift"],et={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pt={alt:oe=>oe.altKey,control:oe=>oe.ctrlKey,meta:oe=>oe.metaKey,shift:oe=>oe.shiftKey};let Ie=(()=>{class oe extends Mt{constructor(ne){super(ne)}supports(ne){return null!=oe.parseEventName(ne)}addEventListener(ne,Oe,Xe){const jt=oe.parseEventName(Oe),_n=oe.eventCallback(jt.fullKey,Xe,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,h.q)().onAndCancel(ne,jt.domEventName,_n))}static parseEventName(ne){const Oe=ne.toLowerCase().split("."),Xe=Oe.shift();if(0===Oe.length||"keydown"!==Xe&&"keyup"!==Xe)return null;const jt=oe._normalizeKey(Oe.pop());let _n="",Pn=Oe.indexOf("code");if(Pn>-1&&(Oe.splice(Pn,1),_n="code."),En.forEach(oi=>{const hn=Oe.indexOf(oi);hn>-1&&(Oe.splice(hn,1),_n+=oi+".")}),_n+=jt,0!=Oe.length||0===jt.length)return null;const wr={};return wr.domEventName=Xe,wr.fullKey=_n,wr}static matchEventFullKeyCode(ne,Oe){let Xe=et[ne.key]||ne.key,jt="";return Oe.indexOf("code.")>-1&&(Xe=ne.code,jt="code."),!(null==Xe||!Xe)&&(Xe=Xe.toLowerCase()," "===Xe?Xe="space":"."===Xe&&(Xe="dot"),En.forEach(_n=>{_n!==Xe&&(0,pt[_n])(ne)&&(jt+=_n+".")}),jt+=Xe,jt===Oe)}static eventCallback(ne,Oe,Xe){return jt=>{oe.matchEventFullKeyCode(jt,ne)&&Xe.runGuarded(()=>Oe(jt))}}static _normalizeKey(ne){return"esc"===ne?"escape":ne}}return oe.\u0275fac=function(ne){return new(ne||oe)(k.LFG(h.K0))},oe.\u0275prov=k.Yz7({token:oe,factory:oe.\u0275fac}),oe})();const ar=(0,k.eFA)(k._c5,"browser",[{provide:k.Lbi,useValue:h.bD},{provide:k.g9A,useValue:function cr(){ce.makeCurrent()},multi:!0},{provide:h.K0,useFactory:function Un(){return(0,k.RDi)(document),document},deps:[]}]),Zn=new k.OlP(""),_t=[{provide:k.rWj,useClass:class De{addToWindow(ue){k.dqk.getAngularTestability=(Oe,Xe=!0)=>{const jt=ue.findTestabilityInTree(Oe,Xe);if(null==jt)throw new Error("Could not find testability for element.");return jt},k.dqk.getAllAngularTestabilities=()=>ue.getAllTestabilities(),k.dqk.getAllAngularRootElements=()=>ue.getAllRootElements(),k.dqk.frameworkStabilizers||(k.dqk.frameworkStabilizers=[]),k.dqk.frameworkStabilizers.push(Oe=>{const Xe=k.dqk.getAllAngularTestabilities();let jt=Xe.length,_n=!1;const Pn=function(wr){_n=_n||wr,jt--,0==jt&&Oe(_n)};Xe.forEach(function(wr){wr.whenStable(Pn)})})}findTestabilityInTree(ue,ne,Oe){return null==ne?null:ue.getTestability(ne)??(Oe?(0,h.q)().isShadowRoot(ne)?this.findTestabilityInTree(ue,ne.host,!0):this.findTestabilityInTree(ue,ne.parentElement,!0):null)}},deps:[]},{provide:k.lri,useClass:k.dDg,deps:[k.R0b,k.eoX,k.rWj]},{provide:k.dDg,useClass:k.dDg,deps:[k.R0b,k.eoX,k.rWj]}],Nn=[{provide:k.zSh,useValue:"root"},{provide:k.qLn,useFactory:function kn(){return new k.qLn},deps:[]},{provide:Je,useClass:tn,multi:!0,deps:[h.K0,k.R0b,k.Lbi]},{provide:Je,useClass:Ie,multi:!0,deps:[h.K0]},{provide:Le,useClass:Le,deps:[Ge,Ke,k.AFp]},{provide:k.FYo,useExisting:Le},{provide:Ze,useExisting:Ke},{provide:Ke,useClass:Ke,deps:[h.K0]},{provide:Ge,useClass:Ge,deps:[Je,k.R0b]},{provide:h.JF,useClass:Qe,deps:[]},[]];let vn=(()=>{class oe{constructor(ne){}static withServerTransition(ne){return{ngModule:oe,providers:[{provide:k.AFp,useValue:ne.appId},{provide:Be,useExisting:k.AFp},ae]}}}return oe.\u0275fac=function(ne){return new(ne||oe)(k.LFG(Zn,12))},oe.\u0275mod=k.oAB({type:oe}),oe.\u0275inj=k.cJS({providers:[...Nn,..._t],imports:[h.ez,k.hGG]}),oe})(),at=(()=>{class oe{constructor(ne){this._doc=ne}getTitle(){return this._doc.title}setTitle(ne){this._doc.title=ne||""}}return oe.\u0275fac=function(ne){return new(ne||oe)(k.LFG(h.K0))},oe.\u0275prov=k.Yz7({token:oe,factory:function(ne){let Oe=null;return Oe=ne?new ne:function Mn(){return new at((0,k.LFG)(h.K0))}(),Oe},providedIn:"root"}),oe})();typeof window<"u"&&window;let ct=(()=>{class oe{}return oe.\u0275fac=function(ne){return new(ne||oe)},oe.\u0275prov=k.Yz7({token:oe,factory:function(ne){let Oe=null;return Oe=ne?new(ne||oe):k.LFG(cn),Oe},providedIn:"root"}),oe})(),cn=(()=>{class oe extends ct{constructor(ne){super(),this._doc=ne}sanitize(ne,Oe){if(null==Oe)return null;switch(ne){case k.q3G.NONE:return Oe;case k.q3G.HTML:return(0,k.qzn)(Oe,"HTML")?(0,k.z3N)(Oe):(0,k.EiD)(this._doc,String(Oe)).toString();case k.q3G.STYLE:return(0,k.qzn)(Oe,"Style")?(0,k.z3N)(Oe):Oe;case k.q3G.SCRIPT:if((0,k.qzn)(Oe,"Script"))return(0,k.z3N)(Oe);throw new Error("unsafe value used in a script context");case k.q3G.URL:return(0,k.qzn)(Oe,"URL")?(0,k.z3N)(Oe):(0,k.mCW)(String(Oe));case k.q3G.RESOURCE_URL:if((0,k.qzn)(Oe,"ResourceURL"))return(0,k.z3N)(Oe);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${ne} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(ne){return(0,k.JVY)(ne)}bypassSecurityTrustStyle(ne){return(0,k.L6k)(ne)}bypassSecurityTrustScript(ne){return(0,k.eBb)(ne)}bypassSecurityTrustUrl(ne){return(0,k.LAX)(ne)}bypassSecurityTrustResourceUrl(ne){return(0,k.pB0)(ne)}}return oe.\u0275fac=function(ne){return new(ne||oe)(k.LFG(h.K0))},oe.\u0275prov=k.Yz7({token:oe,factory:function(ne){let Oe=null;return Oe=ne?new ne:function Ut(oe){return new cn(oe.get(h.K0))}(k.LFG(k.zs3)),Oe},providedIn:"root"}),oe})()},8860:($t,qe,F)=>{F.d(qe,{F0:()=>Gr,rH:()=>Ni,yS:()=>Xn,Bz:()=>Ta,lC:()=>uo});var h=F(4650),k=F(8996),H=F(9646),ce=F(1135),de=F(6805),Ce=F(9841),Ae=F(7272),se=F(9751),Be=F(8421);function ee(f){return new se.y(c=>{(0,Be.Xf)(f()).subscribe(c)})}var ae=F(9635),De=F(576);function Qe(f,c){const l=(0,De.m)(f)?f:()=>f,m=E=>E.error(l());return new se.y(c?E=>c.schedule(m,0,E):m)}var Je=F(515),Ge=F(727),Mt=F(4482),Ze=F(5403);function Ke(){return(0,Mt.e)((f,c)=>{let l=null;f._refCount++;const m=(0,Ze.x)(c,void 0,void 0,void 0,()=>{if(!f||f._refCount<=0||0<--f._refCount)return void(l=null);const E=f._connection,C=l;l=null,E&&(!C||E===C)&&E.unsubscribe(),c.unsubscribe()});f.subscribe(m),m.closed||(l=f.connect())})}class Me extends se.y{constructor(c,l){super(),this.source=c,this.subjectFactory=l,this._subject=null,this._refCount=0,this._connection=null,(0,Mt.A)(c)&&(this.lift=c.lift)}_subscribe(c){return this.getSubject().subscribe(c)}getSubject(){const c=this._subject;return(!c||c.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:c}=this;this._subject=this._connection=null,c?.unsubscribe()}connect(){let c=this._connection;if(!c){c=this._connection=new Ge.w0;const l=this.getSubject();c.add(this.source.subscribe((0,Ze.x)(l,void 0,()=>{this._teardown(),l.complete()},m=>{this._teardown(),l.error(m)},()=>this._teardown()))),c.closed&&(this._connection=null,c=Ge.w0.EMPTY)}return c}refCount(){return Ke()(this)}}var xt=F(7579),Re=F(6895),pe=F(4004),je=F(3900),vt=F(5698),Te=F(8675),Ve=F(9300),Ue=F(5577),be=F(590),Se=F(4351),He=F(8505);function Le(f){return(0,Mt.e)((c,l)=>{let C,m=null,E=!1;m=c.subscribe((0,Ze.x)(l,void 0,void 0,U=>{C=(0,Be.Xf)(f(U,Le(f)(c))),m?(m.unsubscribe(),m=null,C.subscribe(l)):E=!0})),E&&(m.unsubscribe(),m=null,C.subscribe(l))})}var dt=F(5026);function It(f){return f<=0?()=>Je.E:(0,Mt.e)((c,l)=>{let m=[];c.subscribe((0,Ze.x)(l,E=>{m.push(E),f<m.length&&m.shift()},()=>{for(const E of m)l.next(E);l.complete()},void 0,()=>{m=null}))})}var St=F(8068),Kt=F(6590),zt=F(4671);function ft(f,c){const l=arguments.length>=2;return m=>m.pipe(f?(0,Ve.h)((E,C)=>f(E,C,m)):zt.y,It(1),l?(0,Kt.d)(c):(0,St.T)(()=>new de.K))}function et(f){return(0,Mt.e)((c,l)=>{try{c.subscribe(l)}finally{l.add(f)}})}var pt=F(8189),Ie=F(1481);const ve="primary",Ft=Symbol("RouteTitle");class wn{constructor(c){this.params=c||{}}has(c){return Object.prototype.hasOwnProperty.call(this.params,c)}get(c){if(this.has(c)){const l=this.params[c];return Array.isArray(l)?l[0]:l}return null}getAll(c){if(this.has(c)){const l=this.params[c];return Array.isArray(l)?l:[l]}return[]}get keys(){return Object.keys(this.params)}}function In(f){return new wn(f)}function xn(f,c,l){const m=l.path.split("/");if(m.length>f.length||"full"===l.pathMatch&&(c.hasChildren()||m.length<f.length))return null;const E={};for(let C=0;C<m.length;C++){const U=m[C],$=f[C];if(U.startsWith(":"))E[U.substring(1)]=$;else if(U!==$.path)return null}return{consumed:f.slice(0,m.length),posParams:E}}function kn(f,c){const l=f?Object.keys(f):void 0,m=c?Object.keys(c):void 0;if(!l||!m||l.length!=m.length)return!1;let E;for(let C=0;C<l.length;C++)if(E=l[C],!Un(f[E],c[E]))return!1;return!0}function Un(f,c){if(Array.isArray(f)&&Array.isArray(c)){if(f.length!==c.length)return!1;const l=[...f].sort(),m=[...c].sort();return l.every((E,C)=>m[C]===E)}return f===c}function Ln(f){return Array.prototype.concat.apply([],f)}function ar(f){return f.length>0?f[f.length-1]:null}function _t(f,c){for(const l in f)f.hasOwnProperty(l)&&c(f[l],l)}function Nn(f){return(0,h.CqO)(f)?f:(0,h.QGY)(f)?(0,k.D)(Promise.resolve(f)):(0,H.of)(f)}const mr={exact:function _e(f,c,l){if(!ln(f.segments,c.segments)||!Zt(f.segments,c.segments,l)||f.numberOfChildren!==c.numberOfChildren)return!1;for(const m in c.children)if(!f.children[m]||!_e(f.children[m],c.children[m],l))return!1;return!0},subset:nt},ti={exact:function at(f,c){return kn(f,c)},subset:function le(f,c){return Object.keys(c).length<=Object.keys(f).length&&Object.keys(c).every(l=>Un(f[l],c[l]))},ignored:()=>!0};function Mn(f,c,l){return mr[l.paths](f.root,c.root,l.matrixParams)&&ti[l.queryParams](f.queryParams,c.queryParams)&&!("exact"===l.fragment&&f.fragment!==c.fragment)}function nt(f,c,l){return ot(f,c,c.segments,l)}function ot(f,c,l,m){if(f.segments.length>l.length){const E=f.segments.slice(0,l.length);return!(!ln(E,l)||c.hasChildren()||!Zt(E,l,m))}if(f.segments.length===l.length){if(!ln(f.segments,l)||!Zt(f.segments,l,m))return!1;for(const E in c.children)if(!f.children[E]||!nt(f.children[E],c.children[E],m))return!1;return!0}{const E=l.slice(0,f.segments.length),C=l.slice(f.segments.length);return!!(ln(f.segments,E)&&Zt(f.segments,E,m)&&f.children[ve])&&ot(f.children[ve],c,C,m)}}function Zt(f,c,l){return c.every((m,E)=>ti[l](f[E].parameters,m.parameters))}class on{constructor(c,l,m){this.root=c,this.queryParams=l,this.fragment=m}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=In(this.queryParams)),this._queryParamMap}toString(){return he.serialize(this)}}class Gt{constructor(c,l){this.segments=c,this.children=l,this.parent=null,_t(l,(m,E)=>m.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return q(this)}}class Ot{constructor(c,l){this.path=c,this.parameters=l}get parameterMap(){return this._parameterMap||(this._parameterMap=In(this.parameters)),this._parameterMap}toString(){return On(this)}}function ln(f,c){return f.length===c.length&&f.every((l,m)=>l.path===c[m].path)}let mn=(()=>{class f{}return f.\u0275fac=function(l){return new(l||f)},f.\u0275prov=h.Yz7({token:f,factory:function(){return new Ee},providedIn:"root"}),f})();class Ee{parse(c){const l=new ue(c);return new on(l.parseRootSegment(),l.parseQueryParams(),l.parseFragment())}serialize(c){const l=`/${N(c.root,!0)}`,m=function me(f){const c=Object.keys(f).map(l=>{const m=f[l];return Array.isArray(m)?m.map(E=>`${fe(l)}=${fe(E)}`).join("&"):`${fe(l)}=${fe(m)}`}).filter(l=>!!l);return c.length?`?${c.join("&")}`:""}(c.queryParams);return`${l}${m}${"string"==typeof c.fragment?`#${function We(f){return encodeURI(f)}(c.fragment)}`:""}`}}const he=new Ee;function q(f){return f.segments.map(c=>On(c)).join("/")}function N(f,c){if(!f.hasChildren())return q(f);if(c){const l=f.children[ve]?N(f.children[ve],!1):"",m=[];return _t(f.children,(E,C)=>{C!==ve&&m.push(`${C}:${N(E,!1)}`)}),m.length>0?`${l}(${m.join("//")})`:l}{const l=function Er(f,c){let l=[];return _t(f.children,(m,E)=>{E===ve&&(l=l.concat(c(m,E)))}),_t(f.children,(m,E)=>{E!==ve&&(l=l.concat(c(m,E)))}),l}(f,(m,E)=>E===ve?[N(f.children[ve],!1)]:[`${E}:${N(m,!1)}`]);return 1===Object.keys(f.children).length&&null!=f.children[ve]?`${q(f)}/${l[0]}`:`${q(f)}/(${l.join("//")})`}}function j(f){return encodeURIComponent(f).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fe(f){return j(f).replace(/%3B/gi,";")}function Pt(f){return j(f).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yn(f){return decodeURIComponent(f)}function nn(f){return yn(f.replace(/\+/g,"%20"))}function On(f){return`${Pt(f.path)}${function $e(f){return Object.keys(f).map(c=>`;${Pt(c)}=${Pt(f[c])}`).join("")}(f.parameters)}`}const ye=/^[^\/()?;=#]+/;function ct(f){const c=f.match(ye);return c?c[0]:""}const Ut=/^[^=?&#]+/,pn=/^[^&#]+/;class ue{constructor(c){this.url=c,this.remaining=c}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Gt([],{}):new Gt([],this.parseChildren())}parseQueryParams(){const c={};if(this.consumeOptional("?"))do{this.parseQueryParam(c)}while(this.consumeOptional("&"));return c}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const c=[];for(this.peekStartsWith("(")||c.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),c.push(this.parseSegment());let l={};this.peekStartsWith("/(")&&(this.capture("/"),l=this.parseParens(!0));let m={};return this.peekStartsWith("(")&&(m=this.parseParens(!1)),(c.length>0||Object.keys(l).length>0)&&(m[ve]=new Gt(c,l)),m}parseSegment(){const c=ct(this.remaining);if(""===c&&this.peekStartsWith(";"))throw new h.vHH(4009,!1);return this.capture(c),new Ot(yn(c),this.parseMatrixParams())}parseMatrixParams(){const c={};for(;this.consumeOptional(";");)this.parseParam(c);return c}parseParam(c){const l=ct(this.remaining);if(!l)return;this.capture(l);let m="";if(this.consumeOptional("=")){const E=ct(this.remaining);E&&(m=E,this.capture(m))}c[yn(l)]=yn(m)}parseQueryParam(c){const l=function cn(f){const c=f.match(Ut);return c?c[0]:""}(this.remaining);if(!l)return;this.capture(l);let m="";if(this.consumeOptional("=")){const U=function oe(f){const c=f.match(pn);return c?c[0]:""}(this.remaining);U&&(m=U,this.capture(m))}const E=nn(l),C=nn(m);if(c.hasOwnProperty(E)){let U=c[E];Array.isArray(U)||(U=[U],c[E]=U),U.push(C)}else c[E]=C}parseParens(c){const l={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const m=ct(this.remaining),E=this.remaining[m.length];if("/"!==E&&")"!==E&&";"!==E)throw new h.vHH(4010,!1);let C;m.indexOf(":")>-1?(C=m.slice(0,m.indexOf(":")),this.capture(C),this.capture(":")):c&&(C=ve);const U=this.parseChildren();l[C]=1===Object.keys(U).length?U[ve]:new Gt([],U),this.consumeOptional("//")}return l}peekStartsWith(c){return this.remaining.startsWith(c)}consumeOptional(c){return!!this.peekStartsWith(c)&&(this.remaining=this.remaining.substring(c.length),!0)}capture(c){if(!this.consumeOptional(c))throw new h.vHH(4011,!1)}}function ne(f){return f.segments.length>0?new Gt([],{[ve]:f}):f}function Oe(f){const c={};for(const m of Object.keys(f.children)){const C=Oe(f.children[m]);(C.segments.length>0||C.hasChildren())&&(c[m]=C)}return function Xe(f){if(1===f.numberOfChildren&&f.children[ve]){const c=f.children[ve];return new Gt(f.segments.concat(c.segments),c.children)}return f}(new Gt(f.segments,c))}function jt(f){return f instanceof on}function hn(f,c,l,m,E){if(0===l.length)return ki(c.root,c.root,c.root,m,E);const C=function Ts(f){if("string"==typeof f[0]&&1===f.length&&"/"===f[0])return new yr(!0,0,f);let c=0,l=!1;const m=f.reduce((E,C,U)=>{if("object"==typeof C&&null!=C){if(C.outlets){const $={};return _t(C.outlets,(X,xe)=>{$[xe]="string"==typeof X?X.split("/"):X}),[...E,{outlets:$}]}if(C.segmentPath)return[...E,C.segmentPath]}return"string"!=typeof C?[...E,C]:0===U?(C.split("/").forEach(($,X)=>{0==X&&"."===$||(0==X&&""===$?l=!0:".."===$?c++:""!=$&&E.push($))}),E):[...E,C]},[]);return new yr(l,c,m)}(l);return C.toRoot()?ki(c.root,c.root,new Gt([],{}),m,E):function U(X){const xe=function jr(f,c,l,m){if(f.isAbsolute)return new Ur(c.root,!0,0);if(-1===m)return new Ur(l,l===c.root,0);return function wo(f,c,l){let m=f,E=c,C=l;for(;C>E;){if(C-=E,m=m.parent,!m)throw new h.vHH(4005,!1);E=m.segments.length}return new Ur(m,!1,E-C)}(l,m+(qr(f.commands[0])?0:1),f.numberOfDoubleDots)}(C,c,f.snapshot?._urlSegment,X),Tt=xe.processChildren?pi(xe.segmentGroup,xe.index,C.commands):Ao(xe.segmentGroup,xe.index,C.commands);return ki(c.root,xe.segmentGroup,Tt,m,E)}(f.snapshot?._lastPathIndex)}function qr(f){return"object"==typeof f&&null!=f&&!f.outlets&&!f.segmentPath}function Wn(f){return"object"==typeof f&&null!=f&&f.outlets}function ki(f,c,l,m,E){let U,C={};m&&_t(m,(X,xe)=>{C[xe]=Array.isArray(X)?X.map(Tt=>`${Tt}`):`${X}`}),U=f===c?l:Fi(f,c,l);const $=ne(Oe(U));return new on($,C,E)}function Fi(f,c,l){const m={};return _t(f.children,(E,C)=>{m[C]=E===c?l:Fi(E,c,l)}),new Gt(f.segments,m)}class yr{constructor(c,l,m){if(this.isAbsolute=c,this.numberOfDoubleDots=l,this.commands=m,c&&m.length>0&&qr(m[0]))throw new h.vHH(4003,!1);const E=m.find(Wn);if(E&&E!==ar(m))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ur{constructor(c,l,m){this.segmentGroup=c,this.processChildren=l,this.index=m}}function Ao(f,c,l){if(f||(f=new Gt([],{})),0===f.segments.length&&f.hasChildren())return pi(f,c,l);const m=function zs(f,c,l){let m=0,E=c;const C={match:!1,pathIndex:0,commandIndex:0};for(;E<f.segments.length;){if(m>=l.length)return C;const U=f.segments[E],$=l[m];if(Wn($))break;const X=`${$}`,xe=m<l.length-1?l[m+1]:null;if(E>0&&void 0===X)break;if(X&&xe&&"object"==typeof xe&&void 0===xe.outlets){if(!ke(X,xe,U))return C;m+=2}else{if(!ke(X,{},U))return C;m++}E++}return{match:!0,pathIndex:E,commandIndex:m}}(f,c,l),E=l.slice(m.commandIndex);if(m.match&&m.pathIndex<f.segments.length){const C=new Gt(f.segments.slice(0,m.pathIndex),{});return C.children[ve]=new Gt(f.segments.slice(m.pathIndex),f.children),pi(C,0,E)}return m.match&&0===E.length?new Gt(f.segments,{}):m.match&&!f.hasChildren()?Ii(f,c,l):m.match?pi(f,0,E):Ii(f,c,l)}function pi(f,c,l){if(0===l.length)return new Gt(f.segments,{});{const m=function Yn(f){return Wn(f[0])?f[0].outlets:{[ve]:f}}(l),E={};return _t(m,(C,U)=>{"string"==typeof C&&(C=[C]),null!==C&&(E[U]=Ao(f.children[U],c,C))}),_t(f.children,(C,U)=>{void 0===m[U]&&(E[U]=C)}),new Gt(f.segments,E)}}function Ii(f,c,l){const m=f.segments.slice(0,c);let E=0;for(;E<l.length;){const C=l[E];if(Wn(C)){const X=Gi(C.outlets);return new Gt(m,X)}if(0===E&&qr(l[0])){m.push(new Ot(f.segments[c].path,Pe(l[0]))),E++;continue}const U=Wn(C)?C.outlets[ve]:`${C}`,$=E<l.length-1?l[E+1]:null;U&&$&&qr($)?(m.push(new Ot(U,Pe($))),E+=2):(m.push(new Ot(U,{})),E++)}return new Gt(m,{})}function Gi(f){const c={};return _t(f,(l,m)=>{"string"==typeof l&&(l=[l]),null!==l&&(c[m]=Ii(new Gt([],{}),0,l))}),c}function Pe(f){const c={};return _t(f,(l,m)=>c[m]=`${l}`),c}function ke(f,c,l){return f==l.path&&kn(c,l.parameters)}class ze{constructor(c,l){this.id=c,this.url=l}}class yt extends ze{constructor(c,l,m="imperative",E=null){super(c,l),this.type=0,this.navigationTrigger=m,this.restoredState=E}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ct extends ze{constructor(c,l,m){super(c,l),this.urlAfterRedirects=m,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Wt extends ze{constructor(c,l,m,E){super(c,l),this.reason=m,this.code=E,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Bn extends ze{constructor(c,l,m,E){super(c,l),this.error=m,this.target=E,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Sr extends ze{constructor(c,l,m,E){super(c,l),this.urlAfterRedirects=m,this.state=E,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kn extends ze{constructor(c,l,m,E){super(c,l),this.urlAfterRedirects=m,this.state=E,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ir extends ze{constructor(c,l,m,E,C){super(c,l),this.urlAfterRedirects=m,this.state=E,this.shouldActivate=C,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class rs extends ze{constructor(c,l,m,E){super(c,l),this.urlAfterRedirects=m,this.state=E,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ho extends ze{constructor(c,l,m,E){super(c,l),this.urlAfterRedirects=m,this.state=E,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ss{constructor(c){this.route=c,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class gi{constructor(c){this.route=c,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ws{constructor(c){this.snapshot=c,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zi{constructor(c){this.snapshot=c,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Go{constructor(c){this.snapshot=c,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wi{constructor(c){this.snapshot=c,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Mo{constructor(c,l,m){this.routerEvent=c,this.position=l,this.anchor=m,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class xo{constructor(c){this._root=c}get root(){return this._root.value}parent(c){const l=this.pathFromRoot(c);return l.length>1?l[l.length-2]:null}children(c){const l=Ks(c,this._root);return l?l.children.map(m=>m.value):[]}firstChild(c){const l=Ks(c,this._root);return l&&l.children.length>0?l.children[0].value:null}siblings(c){const l=ps(c,this._root);return l.length<2?[]:l[l.length-2].children.map(E=>E.value).filter(E=>E!==c)}pathFromRoot(c){return ps(c,this._root).map(l=>l.value)}}function Ks(f,c){if(f===c.value)return c;for(const l of c.children){const m=Ks(f,l);if(m)return m}return null}function ps(f,c){if(f===c.value)return[c];for(const l of c.children){const m=ps(f,l);if(m.length)return m.unshift(c),m}return[]}class Di{constructor(c,l){this.value=c,this.children=l}toString(){return`TreeNode(${this.value})`}}function Do(f){const c={};return f&&f.children.forEach(l=>c[l.value.outlet]=l),c}class qs extends xo{constructor(c,l){super(c),this.snapshot=l,Dr(this,c)}toString(){return this.snapshot.toString()}}function Ci(f,c){const l=function mi(f,c){const U=new Yr([],{},{},"",{},ve,c,null,f.root,-1,{});return new As("",new Di(U,[]))}(f,c),m=new ce.X([new Ot("",{})]),E=new ce.X({}),C=new ce.X({}),U=new ce.X({}),$=new ce.X(""),X=new Ki(m,E,U,$,C,ve,c,l.root);return X.snapshot=l.root,new qs(new Di(X,[]),l)}class Ki{constructor(c,l,m,E,C,U,$,X){this.url=c,this.params=l,this.queryParams=m,this.fragment=E,this.data=C,this.outlet=U,this.component=$,this.title=this.data?.pipe((0,pe.U)(xe=>xe[Ft]))??(0,H.of)(void 0),this._futureSnapshot=X}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,pe.U)(c=>In(c)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,pe.U)(c=>In(c)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function oo(f,c="emptyOnly"){const l=f.pathFromRoot;let m=0;if("always"!==c)for(m=l.length-1;m>=1;){const E=l[m],C=l[m-1];if(E.routeConfig&&""===E.routeConfig.path)m--;else{if(C.component)break;m--}}return function qi(f){return f.reduce((c,l)=>({params:{...c.params,...l.params},data:{...c.data,...l.data},resolve:{...l.data,...c.resolve,...l.routeConfig?.data,...l._resolvedData}}),{params:{},data:{},resolve:{}})}(l.slice(m))}class Yr{constructor(c,l,m,E,C,U,$,X,xe,Tt,gt,sn){this.url=c,this.params=l,this.queryParams=m,this.fragment=E,this.data=C,this.outlet=U,this.component=$,this.title=this.data?.[Ft],this.routeConfig=X,this._urlSegment=xe,this._lastPathIndex=Tt,this._correctedLastPathIndex=sn??Tt,this._resolve=gt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=In(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=In(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(m=>m.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class As extends xo{constructor(c,l){super(l),this.url=c,Dr(this,l)}toString(){return Li(this._root)}}function Dr(f,c){c.value._routerState=f,c.children.forEach(l=>Dr(f,l))}function Li(f){const c=f.children.length>0?` { ${f.children.map(Li).join(", ")} } `:"";return`${f.value}${c}`}function is(f){if(f.snapshot){const c=f.snapshot,l=f._futureSnapshot;f.snapshot=l,kn(c.queryParams,l.queryParams)||f.queryParams.next(l.queryParams),c.fragment!==l.fragment&&f.fragment.next(l.fragment),kn(c.params,l.params)||f.params.next(l.params),function cr(f,c){if(f.length!==c.length)return!1;for(let l=0;l<f.length;++l)if(!kn(f[l],c[l]))return!1;return!0}(c.url,l.url)||f.url.next(l.url),kn(c.data,l.data)||f.data.next(l.data)}else f.snapshot=f._futureSnapshot,f.data.next(f._futureSnapshot.data)}function bi(f,c){const l=kn(f.params,c.params)&&function zn(f,c){return ln(f,c)&&f.every((l,m)=>kn(l.parameters,c[m].parameters))}(f.url,c.url);return l&&!(!f.parent!=!c.parent)&&(!f.parent||bi(f.parent,c.parent))}function Zi(f,c,l){if(l&&f.shouldReuseRoute(c.value,l.value.snapshot)){const m=l.value;m._futureSnapshot=c.value;const E=function Yi(f,c,l){return c.children.map(m=>{for(const E of l.children)if(f.shouldReuseRoute(m.value,E.value.snapshot))return Zi(f,m,E);return Zi(f,m)})}(f,c,l);return new Di(m,E)}{if(f.shouldAttach(c.value)){const C=f.retrieve(c.value);if(null!==C){const U=C.route;return U.value._futureSnapshot=c.value,U.children=c.children.map($=>Zi(f,$)),U}}const m=function gs(f){return new Ki(new ce.X(f.url),new ce.X(f.params),new ce.X(f.queryParams),new ce.X(f.fragment),new ce.X(f.data),f.outlet,f.component,f)}(c.value),E=c.children.map(C=>Zi(f,C));return new Di(m,E)}}const Co="ngNavigationCancelingError";function nr(f,c){const{redirectTo:l,navigationBehaviorOptions:m}=jt(c)?{redirectTo:c,navigationBehaviorOptions:void 0}:c,E=Ti(!1,0,c);return E.url=l,E.navigationBehaviorOptions=m,E}function Ti(f,c,l){const m=new Error("NavigationCancelingError: "+(f||""));return m[Co]=!0,m.cancellationCode=c,l&&(m.url=l),m}function yi(f){return Qi(f)&&jt(f.url)}function Qi(f){return f&&f[Co]}class ai{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Si,this.attachRef=null}}let Si=(()=>{class f{constructor(){this.contexts=new Map}onChildOutletCreated(l,m){const E=this.getOrCreateContext(l);E.outlet=m,this.contexts.set(l,E)}onChildOutletDestroyed(l){const m=this.getContext(l);m&&(m.outlet=null,m.attachRef=null)}onOutletDeactivated(){const l=this.contexts;return this.contexts=new Map,l}onOutletReAttached(l){this.contexts=l}getOrCreateContext(l){let m=this.getContext(l);return m||(m=new ai,this.contexts.set(l,m)),m}getContext(l){return this.contexts.get(l)||null}}return f.\u0275fac=function(l){return new(l||f)},f.\u0275prov=h.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const ao=!1;let uo=(()=>{class f{constructor(l,m,E,C,U){this.parentContexts=l,this.location=m,this.changeDetector=C,this.environmentInjector=U,this.activated=null,this._activatedRoute=null,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.name=E||ve,l.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const l=this.parentContexts.getContext(this.name);l&&l.route&&(l.attachRef?this.attach(l.attachRef,l.route):this.activateWith(l.route,l.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,ao);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,ao);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,ao);this.location.detach();const l=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(l.instance),l}attach(l,m){this.activated=l,this._activatedRoute=m,this.location.insert(l.hostView),this.attachEvents.emit(l.instance)}deactivate(){if(this.activated){const l=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(l)}}activateWith(l,m){if(this.isActivated)throw new h.vHH(4013,ao);this._activatedRoute=l;const E=this.location,U=l._futureSnapshot.component,$=this.parentContexts.getOrCreateContext(this.name).children,X=new kr(l,$,E.injector);if(m&&function Ro(f){return!!f.resolveComponentFactory}(m)){const xe=m.resolveComponentFactory(U);this.activated=E.createComponent(xe,E.length,X)}else this.activated=E.createComponent(U,{index:E.length,injector:X,environmentInjector:m??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return f.\u0275fac=function(l){return new(l||f)(h.Y36(Si),h.Y36(h.s_b),h.$8M("name"),h.Y36(h.sBO),h.Y36(h.lqb))},f.\u0275dir=h.lG2({type:f,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),f})();class kr{constructor(c,l,m){this.route=c,this.childContexts=l,this.parent=m}get(c,l){return c===Ki?this.route:c===Si?this.childContexts:this.parent.get(c,l)}}let lo=(()=>{class f{}return f.\u0275fac=function(l){return new(l||f)},f.\u0275cmp=h.Xpm({type:f,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(l,m){1&l&&h._UZ(0,"router-outlet")},dependencies:[uo],encapsulation:2}),f})();function ui(f,c){return f.providers&&!f._injector&&(f._injector=(0,h.MMx)(f.providers,c,`Route: ${f.path}`)),f._injector??c}function Fr(f){const c=f.children&&f.children.map(Fr),l=c?{...f,children:c}:{...f};return!l.component&&!l.loadComponent&&(c||l.loadChildren)&&l.outlet&&l.outlet!==ve&&(l.component=lo),l}function Xr(f){return f.outlet||ve}function Rr(f,c){const l=f.filter(m=>Xr(m)===c);return l.push(...f.filter(m=>Xr(m)!==c)),l}function Tn(f){if(!f)return null;if(f.routeConfig?._injector)return f.routeConfig._injector;for(let c=f.parent;c;c=c.parent){const l=c.routeConfig;if(l?._loadedInjector)return l._loadedInjector;if(l?._injector)return l._injector}return null}class No{constructor(c,l,m,E){this.routeReuseStrategy=c,this.futureState=l,this.currState=m,this.forwardEvent=E}activate(c){const l=this.futureState._root,m=this.currState?this.currState._root:null;this.deactivateChildRoutes(l,m,c),is(this.futureState.root),this.activateChildRoutes(l,m,c)}deactivateChildRoutes(c,l,m){const E=Do(l);c.children.forEach(C=>{const U=C.value.outlet;this.deactivateRoutes(C,E[U],m),delete E[U]}),_t(E,(C,U)=>{this.deactivateRouteAndItsChildren(C,m)})}deactivateRoutes(c,l,m){const E=c.value,C=l?l.value:null;if(E===C)if(E.component){const U=m.getContext(E.outlet);U&&this.deactivateChildRoutes(c,l,U.children)}else this.deactivateChildRoutes(c,l,m);else C&&this.deactivateRouteAndItsChildren(l,m)}deactivateRouteAndItsChildren(c,l){c.value.component&&this.routeReuseStrategy.shouldDetach(c.value.snapshot)?this.detachAndStoreRouteSubtree(c,l):this.deactivateRouteAndOutlet(c,l)}detachAndStoreRouteSubtree(c,l){const m=l.getContext(c.value.outlet),E=m&&c.value.component?m.children:l,C=Do(c);for(const U of Object.keys(C))this.deactivateRouteAndItsChildren(C[U],E);if(m&&m.outlet){const U=m.outlet.detach(),$=m.children.onOutletDeactivated();this.routeReuseStrategy.store(c.value.snapshot,{componentRef:U,route:c,contexts:$})}}deactivateRouteAndOutlet(c,l){const m=l.getContext(c.value.outlet),E=m&&c.value.component?m.children:l,C=Do(c);for(const U of Object.keys(C))this.deactivateRouteAndItsChildren(C[U],E);m&&m.outlet&&(m.outlet.deactivate(),m.children.onOutletDeactivated(),m.attachRef=null,m.resolver=null,m.route=null)}activateChildRoutes(c,l,m){const E=Do(l);c.children.forEach(C=>{this.activateRoutes(C,E[C.value.outlet],m),this.forwardEvent(new Wi(C.value.snapshot))}),c.children.length&&this.forwardEvent(new zi(c.value.snapshot))}activateRoutes(c,l,m){const E=c.value,C=l?l.value:null;if(is(E),E===C)if(E.component){const U=m.getOrCreateContext(E.outlet);this.activateChildRoutes(c,l,U.children)}else this.activateChildRoutes(c,l,m);else if(E.component){const U=m.getOrCreateContext(E.outlet);if(this.routeReuseStrategy.shouldAttach(E.snapshot)){const $=this.routeReuseStrategy.retrieve(E.snapshot);this.routeReuseStrategy.store(E.snapshot,null),U.children.onOutletReAttached($.contexts),U.attachRef=$.componentRef,U.route=$.route.value,U.outlet&&U.outlet.attach($.componentRef,$.route.value),is($.route.value),this.activateChildRoutes(c,null,U.children)}else{const $=Tn(E.snapshot),X=$?.get(h._Vd)??null;U.attachRef=null,U.route=E,U.resolver=X,U.injector=$,U.outlet&&U.outlet.activateWith(E,U.injector),this.activateChildRoutes(c,null,U.children)}}else this.activateChildRoutes(c,null,m)}}class Ps{constructor(c){this.path=c,this.route=this.path[this.path.length-1]}}class li{constructor(c,l){this.component=c,this.route=l}}function Ui(f,c,l){const m=f._root;return as(m,c?c._root:null,l,[m.value])}function Ms(f,c){const l=Symbol(),m=c.get(f,l);return m===l?"function"!=typeof f||(0,h.Z0I)(f)?c.get(f):f:m}function as(f,c,l,m,E={canDeactivateChecks:[],canActivateChecks:[]}){const C=Do(c);return f.children.forEach(U=>{(function bt(f,c,l,m,E={canDeactivateChecks:[],canActivateChecks:[]}){const C=f.value,U=c?c.value:null,$=l?l.getContext(f.value.outlet):null;if(U&&C.routeConfig===U.routeConfig){const X=function Vn(f,c,l){if("function"==typeof l)return l(f,c);switch(l){case"pathParamsChange":return!ln(f.url,c.url);case"pathParamsOrQueryParamsChange":return!ln(f.url,c.url)||!kn(f.queryParams,c.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bi(f,c)||!kn(f.queryParams,c.queryParams);default:return!bi(f,c)}}(U,C,C.routeConfig.runGuardsAndResolvers);X?E.canActivateChecks.push(new Ps(m)):(C.data=U.data,C._resolvedData=U._resolvedData),as(f,c,C.component?$?$.children:null:l,m,E),X&&$&&$.outlet&&$.outlet.isActivated&&E.canDeactivateChecks.push(new li($.outlet.component,U))}else U&&us(c,$,E),E.canActivateChecks.push(new Ps(m)),as(f,null,C.component?$?$.children:null:l,m,E)})(U,C[U.value.outlet],l,m.concat([U.value]),E),delete C[U.value.outlet]}),_t(C,(U,$)=>us(U,l.getContext($),E)),E}function us(f,c,l){const m=Do(f),E=f.value;_t(m,(C,U)=>{us(C,E.component?c?c.children.getContext(U):null:c,l)}),l.canDeactivateChecks.push(new li(E.component&&c&&c.outlet&&c.outlet.isActivated?c.outlet.component:null,E))}function Bi(f){return"function"==typeof f}function L(f){return f instanceof de.K||"EmptyError"===f?.name}const P=Symbol("INITIAL_VALUE");function M(){return(0,je.w)(f=>(0,Ce.a)(f.map(c=>c.pipe((0,vt.q)(1),(0,Te.O)(P)))).pipe((0,pe.U)(c=>{for(const l of c)if(!0!==l){if(l===P)return P;if(!1===l||l instanceof on)return l}return!0}),(0,Ve.h)(c=>c!==P),(0,vt.q)(1)))}function co(f){return(0,ae.z)((0,He.b)(c=>{if(jt(c))throw nr(0,c)}),(0,pe.U)(c=>!0===c))}const ks={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ho(f,c,l,m,E){const C=Oo(f,c,l);return C.matched?function bo(f,c,l,m){const E=c.canMatch;if(!E||0===E.length)return(0,H.of)(!0);const C=E.map(U=>{const $=Ms(U,f);return Nn(function Qs(f){return f&&Bi(f.canMatch)}($)?$.canMatch(c,l):f.runInContext(()=>$(c,l)))});return(0,H.of)(C).pipe(M(),co())}(m=ui(c,m),c,l).pipe((0,pe.U)(U=>!0===U?C:{...ks})):(0,H.of)(C)}function Oo(f,c,l){if(""===c.path)return"full"===c.pathMatch&&(f.hasChildren()||l.length>0)?{...ks}:{matched:!0,consumedSegments:[],remainingSegments:l,parameters:{},positionalParamSegments:{}};const E=(c.matcher||xn)(l,f,c);if(!E)return{...ks};const C={};_t(E.posParams,($,X)=>{C[X]=$.path});const U=E.consumed.length>0?{...C,...E.consumed[E.consumed.length-1].parameters}:C;return{matched:!0,consumedSegments:E.consumed,remainingSegments:l.slice(E.consumed.length),parameters:U,positionalParamSegments:E.posParams??{}}}function vs(f,c,l,m,E="corrected"){if(l.length>0&&function Wo(f,c,l){return l.some(m=>G(f,c,m)&&Xr(m)!==ve)}(f,l,m)){const U=new Gt(c,function Po(f,c,l,m){const E={};E[ve]=m,m._sourceSegment=f,m._segmentIndexShift=c.length;for(const C of l)if(""===C.path&&Xr(C)!==ve){const U=new Gt([],{});U._sourceSegment=f,U._segmentIndexShift=c.length,E[Xr(C)]=U}return E}(f,c,m,new Gt(l,f.children)));return U._sourceSegment=f,U._segmentIndexShift=c.length,{segmentGroup:U,slicedSegments:[]}}if(0===l.length&&function x(f,c,l){return l.some(m=>G(f,c,m))}(f,l,m)){const U=new Gt(f.segments,function Fa(f,c,l,m,E,C){const U={};for(const $ of m)if(G(f,l,$)&&!E[Xr($)]){const X=new Gt([],{});X._sourceSegment=f,X._segmentIndexShift="legacy"===C?f.segments.length:c.length,U[Xr($)]=X}return{...E,...U}}(f,c,l,m,f.children,E));return U._sourceSegment=f,U._segmentIndexShift=c.length,{segmentGroup:U,slicedSegments:l}}const C=new Gt(f.segments,f.children);return C._sourceSegment=f,C._segmentIndexShift=c.length,{segmentGroup:C,slicedSegments:l}}function G(f,c,l){return(!(f.hasChildren()||c.length>0)||"full"!==l.pathMatch)&&""===l.path}function R(f,c,l,m){return!!(Xr(f)===m||m!==ve&&G(c,l,f))&&("**"===f.path||Oo(c,f,l).matched)}function Z(f,c,l){return 0===c.length&&!f.children[l]}const ge=!1;class rt{constructor(c){this.segmentGroup=c||null}}class mt{constructor(c){this.urlTree=c}}function Xt(f){return Qe(new rt(f))}function Qn(f){return Qe(new mt(f))}class Hr{constructor(c,l,m,E,C){this.injector=c,this.configLoader=l,this.urlSerializer=m,this.urlTree=E,this.config=C,this.allowRedirects=!0}apply(){const c=vs(this.urlTree.root,[],[],this.config).segmentGroup,l=new Gt(c.segments,c.children);return this.expandSegmentGroup(this.injector,this.config,l,ve).pipe((0,pe.U)(C=>this.createUrlTree(Oe(C),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Le(C=>{if(C instanceof mt)return this.allowRedirects=!1,this.match(C.urlTree);throw C instanceof rt?this.noMatchError(C):C}))}match(c){return this.expandSegmentGroup(this.injector,this.config,c.root,ve).pipe((0,pe.U)(E=>this.createUrlTree(Oe(E),c.queryParams,c.fragment))).pipe(Le(E=>{throw E instanceof rt?this.noMatchError(E):E}))}noMatchError(c){return new h.vHH(4002,ge)}createUrlTree(c,l,m){const E=ne(c);return new on(E,l,m)}expandSegmentGroup(c,l,m,E){return 0===m.segments.length&&m.hasChildren()?this.expandChildren(c,l,m).pipe((0,pe.U)(C=>new Gt([],C))):this.expandSegment(c,m,l,m.segments,E,!0)}expandChildren(c,l,m){const E=[];for(const C of Object.keys(m.children))"primary"===C?E.unshift(C):E.push(C);return(0,k.D)(E).pipe((0,Se.b)(C=>{const U=m.children[C],$=Rr(l,C);return this.expandSegmentGroup(c,$,U,C).pipe((0,pe.U)(X=>({segment:X,outlet:C})))}),(0,dt.R)((C,U)=>(C[U.outlet]=U.segment,C),{}),ft())}expandSegment(c,l,m,E,C,U){return(0,k.D)(m).pipe((0,Se.b)($=>this.expandSegmentAgainstRoute(c,l,m,$,E,C,U).pipe(Le(xe=>{if(xe instanceof rt)return(0,H.of)(null);throw xe}))),(0,be.P)($=>!!$),Le(($,X)=>{if(L($))return Z(l,E,C)?(0,H.of)(new Gt([],{})):Xt(l);throw $}))}expandSegmentAgainstRoute(c,l,m,E,C,U,$){return R(E,l,C,U)?void 0===E.redirectTo?this.matchSegmentAgainstRoute(c,l,E,C,U):$&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(c,l,m,E,C,U):Xt(l):Xt(l)}expandSegmentAgainstRouteUsingRedirect(c,l,m,E,C,U){return"**"===E.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(c,m,E,U):this.expandRegularSegmentAgainstRouteUsingRedirect(c,l,m,E,C,U)}expandWildCardWithParamsAgainstRouteUsingRedirect(c,l,m,E){const C=this.applyRedirectCommands([],m.redirectTo,{});return m.redirectTo.startsWith("/")?Qn(C):this.lineralizeSegments(m,C).pipe((0,Ue.z)(U=>{const $=new Gt(U,{});return this.expandSegment(c,$,l,U,E,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(c,l,m,E,C,U){const{matched:$,consumedSegments:X,remainingSegments:xe,positionalParamSegments:Tt}=Oo(l,E,C);if(!$)return Xt(l);const gt=this.applyRedirectCommands(X,E.redirectTo,Tt);return E.redirectTo.startsWith("/")?Qn(gt):this.lineralizeSegments(E,gt).pipe((0,Ue.z)(sn=>this.expandSegment(c,l,m,sn.concat(xe),U,!1)))}matchSegmentAgainstRoute(c,l,m,E,C){return"**"===m.path?(c=ui(m,c),m.loadChildren?(m._loadedRoutes?(0,H.of)({routes:m._loadedRoutes,injector:m._loadedInjector}):this.configLoader.loadChildren(c,m)).pipe((0,pe.U)($=>(m._loadedRoutes=$.routes,m._loadedInjector=$.injector,new Gt(E,{})))):(0,H.of)(new Gt(E,{}))):ho(l,m,E,c).pipe((0,je.w)(({matched:U,consumedSegments:$,remainingSegments:X})=>U?this.getChildConfig(c=m._injector??c,m,E).pipe((0,Ue.z)(Tt=>{const gt=Tt.injector??c,sn=Tt.routes,{segmentGroup:Dn,slicedSegments:fn}=vs(l,$,X,sn),Sn=new Gt(Dn.segments,Dn.children);if(0===fn.length&&Sn.hasChildren())return this.expandChildren(gt,sn,Sn).pipe((0,pe.U)(Or=>new Gt($,Or)));if(0===sn.length&&0===fn.length)return(0,H.of)(new Gt($,{}));const Hn=Xr(m)===C;return this.expandSegment(gt,Sn,sn,fn,Hn?ve:C,!0).pipe((0,pe.U)(gr=>new Gt($.concat(gr.segments),gr.children)))})):Xt(l)))}getChildConfig(c,l,m){return l.children?(0,H.of)({routes:l.children,injector:c}):l.loadChildren?void 0!==l._loadedRoutes?(0,H.of)({routes:l._loadedRoutes,injector:l._loadedInjector}):function ji(f,c,l,m){const E=c.canLoad;if(void 0===E||0===E.length)return(0,H.of)(!0);const C=E.map(U=>{const $=Ms(U,f);return Nn(function xs(f){return f&&Bi(f.canLoad)}($)?$.canLoad(c,l):f.runInContext(()=>$(c,l)))});return(0,H.of)(C).pipe(M(),co())}(c,l,m).pipe((0,Ue.z)(E=>E?this.configLoader.loadChildren(c,l).pipe((0,He.b)(C=>{l._loadedRoutes=C.routes,l._loadedInjector=C.injector})):function lr(f){return Qe(Ti(ge,3))}())):(0,H.of)({routes:[],injector:c})}lineralizeSegments(c,l){let m=[],E=l.root;for(;;){if(m=m.concat(E.segments),0===E.numberOfChildren)return(0,H.of)(m);if(E.numberOfChildren>1||!E.children[ve])return Qe(new h.vHH(4e3,ge));E=E.children[ve]}}applyRedirectCommands(c,l,m){return this.applyRedirectCreateUrlTree(l,this.urlSerializer.parse(l),c,m)}applyRedirectCreateUrlTree(c,l,m,E){const C=this.createSegmentGroup(c,l.root,m,E);return new on(C,this.createQueryParams(l.queryParams,this.urlTree.queryParams),l.fragment)}createQueryParams(c,l){const m={};return _t(c,(E,C)=>{if("string"==typeof E&&E.startsWith(":")){const $=E.substring(1);m[C]=l[$]}else m[C]=E}),m}createSegmentGroup(c,l,m,E){const C=this.createSegments(c,l.segments,m,E);let U={};return _t(l.children,($,X)=>{U[X]=this.createSegmentGroup(c,$,m,E)}),new Gt(C,U)}createSegments(c,l,m,E){return l.map(C=>C.path.startsWith(":")?this.findPosParam(c,C,E):this.findOrReturn(C,m))}findPosParam(c,l,m){const E=m[l.path.substring(1)];if(!E)throw new h.vHH(4001,ge);return E}findOrReturn(c,l){let m=0;for(const E of l){if(E.path===c.path)return l.splice(m),E;m++}return c}}class Xs{}class ko{constructor(c,l,m,E,C,U,$,X){this.injector=c,this.rootComponentType=l,this.config=m,this.urlTree=E,this.url=C,this.paramsInheritanceStrategy=U,this.relativeLinkResolution=$,this.urlSerializer=X}recognize(){const c=vs(this.urlTree.root,[],[],this.config.filter(l=>void 0===l.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,c,ve).pipe((0,pe.U)(l=>{if(null===l)return null;const m=new Yr([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ve,this.rootComponentType,null,this.urlTree.root,-1,{}),E=new Di(m,l),C=new As(this.url,E);return this.inheritParamsAndData(C._root),C}))}inheritParamsAndData(c){const l=c.value,m=oo(l,this.paramsInheritanceStrategy);l.params=Object.freeze(m.params),l.data=Object.freeze(m.data),c.children.forEach(E=>this.inheritParamsAndData(E))}processSegmentGroup(c,l,m,E){return 0===m.segments.length&&m.hasChildren()?this.processChildren(c,l,m):this.processSegment(c,l,m,m.segments,E)}processChildren(c,l,m){return(0,k.D)(Object.keys(m.children)).pipe((0,Se.b)(E=>{const C=m.children[E],U=Rr(l,E);return this.processSegmentGroup(c,U,C,E)}),(0,dt.R)((E,C)=>E&&C?(E.push(...C),E):null),function tn(f,c=!1){return(0,Mt.e)((l,m)=>{let E=0;l.subscribe((0,Ze.x)(m,C=>{const U=f(C,E++);(U||c)&&m.next(C),!U&&m.complete()}))})}(E=>null!==E),(0,Kt.d)(null),ft(),(0,pe.U)(E=>{if(null===E)return null;const C=La(E);return function $i(f){f.sort((c,l)=>c.value.outlet===ve?-1:l.value.outlet===ve?1:c.value.outlet.localeCompare(l.value.outlet))}(C),C}))}processSegment(c,l,m,E,C){return(0,k.D)(l).pipe((0,Se.b)(U=>this.processSegmentAgainstRoute(U._injector??c,U,m,E,C)),(0,be.P)(U=>!!U),Le(U=>{if(L(U))return Z(m,E,C)?(0,H.of)([]):(0,H.of)(null);throw U}))}processSegmentAgainstRoute(c,l,m,E,C){if(l.redirectTo||!R(l,m,E,C))return(0,H.of)(null);let U;if("**"===l.path){const $=E.length>0?ar(E).parameters:{},X=ea(m)+E.length,xe=new Yr(E,$,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ea(l),Xr(l),l.component??l._loadedComponent??null,l,Ko(m),X,ci(l),X);U=(0,H.of)({snapshot:xe,consumedSegments:[],remainingSegments:[]})}else U=ho(m,l,E,c).pipe((0,pe.U)(({matched:$,consumedSegments:X,remainingSegments:xe,parameters:Tt})=>{if(!$)return null;const gt=ea(m)+X.length;return{snapshot:new Yr(X,Tt,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Ea(l),Xr(l),l.component??l._loadedComponent??null,l,Ko(m),gt,ci(l),gt),consumedSegments:X,remainingSegments:xe}}));return U.pipe((0,je.w)($=>{if(null===$)return(0,H.of)(null);const{snapshot:X,consumedSegments:xe,remainingSegments:Tt}=$;c=l._injector??c;const gt=l._loadedInjector??c,sn=function Xi(f){return f.children?f.children:f.loadChildren?f._loadedRoutes:[]}(l),{segmentGroup:Dn,slicedSegments:fn}=vs(m,xe,Tt,sn.filter(Hn=>void 0===Hn.redirectTo),this.relativeLinkResolution);if(0===fn.length&&Dn.hasChildren())return this.processChildren(gt,sn,Dn).pipe((0,pe.U)(Hn=>null===Hn?null:[new Di(X,Hn)]));if(0===sn.length&&0===fn.length)return(0,H.of)([new Di(X,[])]);const Sn=Xr(l)===C;return this.processSegment(gt,sn,Dn,fn,Sn?ve:C).pipe((0,pe.U)(Hn=>null===Hn?null:[new Di(X,Hn)]))}))}}function Xo(f){const c=f.value.routeConfig;return c&&""===c.path&&void 0===c.redirectTo}function La(f){const c=[],l=new Set;for(const m of f){if(!Xo(m)){c.push(m);continue}const E=c.find(C=>m.value.routeConfig===C.value.routeConfig);void 0!==E?(E.children.push(...m.children),l.add(E)):c.push(m)}for(const m of l){const E=La(m.children);c.push(new Di(m.value,E))}return c.filter(m=>!l.has(m))}function Ko(f){let c=f;for(;c._sourceSegment;)c=c._sourceSegment;return c}function ea(f){let c=f,l=c._segmentIndexShift??0;for(;c._sourceSegment;)c=c._sourceSegment,l+=c._segmentIndexShift??0;return l-1}function Ea(f){return f.data||{}}function ci(f){return f.resolve||{}}function Lr(f){return"string"==typeof f.title||null===f.title}function la(f){return(0,je.w)(c=>{const l=f(c);return l?(0,k.D)(l).pipe((0,pe.U)(()=>c)):(0,H.of)(c)})}let en=(()=>{class f{buildTitle(l){let m,E=l.root;for(;void 0!==E;)m=this.getResolvedTitleForRoute(E)??m,E=E.children.find(C=>C.outlet===ve);return m}getResolvedTitleForRoute(l){return l.data[Ft]}}return f.\u0275fac=function(l){return new(l||f)},f.\u0275prov=h.Yz7({token:f,factory:function(){return(0,h.f3M)(Rn)},providedIn:"root"}),f})(),Rn=(()=>{class f extends en{constructor(l){super(),this.title=l}updateTitle(l){const m=this.buildTitle(l);void 0!==m&&this.title.setTitle(m)}}return f.\u0275fac=function(l){return new(l||f)(h.LFG(Ie.Dx))},f.\u0275prov=h.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();class Qt{}class Et extends class ht{shouldDetach(c){return!1}store(c,l){}shouldAttach(c){return!1}retrieve(c){return null}shouldReuseRoute(c,l){return c.routeConfig===l.routeConfig}}{}const Ri=new h.OlP("",{providedIn:"root",factory:()=>({})}),Ns=new h.OlP("ROUTES");let To=(()=>{class f{constructor(l,m){this.injector=l,this.compiler=m,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(l){if(this.componentLoaders.get(l))return this.componentLoaders.get(l);if(l._loadedComponent)return(0,H.of)(l._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(l);const m=Nn(l.loadComponent()).pipe((0,He.b)(C=>{this.onLoadEndListener&&this.onLoadEndListener(l),l._loadedComponent=C}),et(()=>{this.componentLoaders.delete(l)})),E=new Me(m,()=>new xt.x).pipe(Ke());return this.componentLoaders.set(l,E),E}loadChildren(l,m){if(this.childrenLoaders.get(m))return this.childrenLoaders.get(m);if(m._loadedRoutes)return(0,H.of)({routes:m._loadedRoutes,injector:m._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(m);const C=this.loadModuleFactoryOrRoutes(m.loadChildren).pipe((0,pe.U)($=>{this.onLoadEndListener&&this.onLoadEndListener(m);let X,xe,Tt=!1;Array.isArray($)?xe=$:(X=$.create(l).injector,xe=Ln(X.get(Ns,[],h.XFs.Self|h.XFs.Optional)));return{routes:xe.map(Fr),injector:X}}),et(()=>{this.childrenLoaders.delete(m)})),U=new Me(C,()=>new xt.x).pipe(Ke());return this.childrenLoaders.set(m,U),U}loadModuleFactoryOrRoutes(l){return Nn(l()).pipe((0,Ue.z)(m=>m instanceof h.YKP||Array.isArray(m)?(0,H.of)(m):(0,k.D)(this.compiler.compileModuleAsync(m))))}}return f.\u0275fac=function(l){return new(l||f)(h.LFG(h.zs3),h.LFG(h.Sil))},f.\u0275prov=h.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();class ca{}class da{shouldProcessUrl(c){return!0}extract(c){return c}merge(c,l){return c}}function ta(f){throw f}function Ca(f,c,l){return c.parse("/")}const na={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eo={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Vs(){const f=(0,h.f3M)(mn),c=(0,h.f3M)(Si),l=(0,h.f3M)(Re.Ye),m=(0,h.f3M)(h.zs3),E=(0,h.f3M)(h.Sil),C=(0,h.f3M)(Ns,{optional:!0})??[],U=(0,h.f3M)(Ri,{optional:!0})??{},$=(0,h.f3M)(Rn),X=(0,h.f3M)(en,{optional:!0}),xe=(0,h.f3M)(ca,{optional:!0}),Tt=(0,h.f3M)(Qt,{optional:!0}),gt=new Gr(null,f,c,l,m,E,Ln(C));return xe&&(gt.urlHandlingStrategy=xe),Tt&&(gt.routeReuseStrategy=Tt),gt.titleStrategy=X??$,function $n(f,c){f.errorHandler&&(c.errorHandler=f.errorHandler),f.malformedUriErrorHandler&&(c.malformedUriErrorHandler=f.malformedUriErrorHandler),f.onSameUrlNavigation&&(c.onSameUrlNavigation=f.onSameUrlNavigation),f.paramsInheritanceStrategy&&(c.paramsInheritanceStrategy=f.paramsInheritanceStrategy),f.relativeLinkResolution&&(c.relativeLinkResolution=f.relativeLinkResolution),f.urlUpdateStrategy&&(c.urlUpdateStrategy=f.urlUpdateStrategy),f.canceledNavigationResolution&&(c.canceledNavigationResolution=f.canceledNavigationResolution)}(U,gt),gt}let Gr=(()=>{class f{constructor(l,m,E,C,U,$,X){this.rootComponentType=l,this.urlSerializer=m,this.rootContexts=E,this.location=C,this.config=X,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new xt.x,this.errorHandler=ta,this.malformedUriErrorHandler=Ca,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,H.of)(void 0),this.urlHandlingStrategy=new da,this.routeReuseStrategy=new Et,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=U.get(To),this.configLoader.onLoadEndListener=sn=>this.triggerEvent(new gi(sn)),this.configLoader.onLoadStartListener=sn=>this.triggerEvent(new Ss(sn)),this.ngModule=U.get(h.h0i),this.console=U.get(h.c2e);const gt=U.get(h.R0b);this.isNgZoneEnabled=gt instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(X),this.currentUrlTree=function Fn(){return new on(new Gt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Ci(this.currentUrlTree,this.rootComponentType),this.transitions=new ce.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(l){const m=this.events;return l.pipe((0,Ve.h)(E=>0!==E.id),(0,pe.U)(E=>({...E,extractedUrl:this.urlHandlingStrategy.extract(E.rawUrl)})),(0,je.w)(E=>{let C=!1,U=!1;return(0,H.of)(E).pipe((0,He.b)($=>{this.currentNavigation={id:$.id,initialUrl:$.rawUrl,extractedUrl:$.extractedUrl,trigger:$.source,extras:$.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,je.w)($=>{const X=this.browserUrlTree.toString(),xe=!this.navigated||$.extractedUrl.toString()!==X||X!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||xe)&&this.urlHandlingStrategy.shouldProcessUrl($.rawUrl))return gn($.source)&&(this.browserUrlTree=$.extractedUrl),(0,H.of)($).pipe((0,je.w)(gt=>{const sn=this.transitions.getValue();return m.next(new yt(gt.id,this.serializeUrl(gt.extractedUrl),gt.source,gt.restoredState)),sn!==this.transitions.getValue()?Je.E:Promise.resolve(gt)}),function dr(f,c,l,m){return(0,je.w)(E=>function or(f,c,l,m,E){return new Hr(f,c,l,m,E).apply()}(f,c,l,E.extractedUrl,m).pipe((0,pe.U)(C=>({...E,urlAfterRedirects:C}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,He.b)(gt=>{this.currentNavigation={...this.currentNavigation,finalUrl:gt.urlAfterRedirects},E.urlAfterRedirects=gt.urlAfterRedirects}),function Fs(f,c,l,m,E,C){return(0,Ue.z)(U=>function xi(f,c,l,m,E,C,U="emptyOnly",$="legacy"){return new ko(f,c,l,m,E,U,$,C).recognize().pipe((0,je.w)(X=>null===X?function _s(f){return new se.y(c=>c.error(f))}(new Xs):(0,H.of)(X)))}(f,c,l,U.urlAfterRedirects,m.serialize(U.urlAfterRedirects),m,E,C).pipe((0,pe.U)($=>({...U,targetSnapshot:$}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,He.b)(gt=>{if(E.targetSnapshot=gt.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!gt.extras.skipLocationChange){const Dn=this.urlHandlingStrategy.merge(gt.urlAfterRedirects,gt.rawUrl);this.setBrowserUrl(Dn,gt)}this.browserUrlTree=gt.urlAfterRedirects}const sn=new Sr(gt.id,this.serializeUrl(gt.extractedUrl),this.serializeUrl(gt.urlAfterRedirects),gt.targetSnapshot);m.next(sn)}));if(xe&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:sn,extractedUrl:Dn,source:fn,restoredState:Sn,extras:Hn}=$,_r=new yt(sn,this.serializeUrl(Dn),fn,Sn);m.next(_r);const gr=Ci(Dn,this.rootComponentType).snapshot;return E={...$,targetSnapshot:gr,urlAfterRedirects:Dn,extras:{...Hn,skipLocationChange:!1,replaceUrl:!1}},(0,H.of)(E)}return this.rawUrlTree=$.rawUrl,$.resolve(null),Je.E}),(0,He.b)($=>{const X=new Kn($.id,this.serializeUrl($.extractedUrl),this.serializeUrl($.urlAfterRedirects),$.targetSnapshot);this.triggerEvent(X)}),(0,pe.U)($=>E={...$,guards:Ui($.targetSnapshot,$.currentSnapshot,this.rootContexts)}),function Y(f,c){return(0,Ue.z)(l=>{const{targetSnapshot:m,currentSnapshot:E,guards:{canActivateChecks:C,canDeactivateChecks:U}}=l;return 0===U.length&&0===C.length?(0,H.of)({...l,guardsResult:!0}):function ut(f,c,l,m){return(0,k.D)(f).pipe((0,Ue.z)(E=>function Rs(f,c,l,m,E){const C=c&&c.routeConfig?c.routeConfig.canDeactivate:null;if(!C||0===C.length)return(0,H.of)(!0);const U=C.map($=>{const X=Tn(c)??E,xe=Ms($,X);return Nn(function rr(f){return f&&Bi(f.canDeactivate)}(xe)?xe.canDeactivate(f,c,l,m):X.runInContext(()=>xe(f,c,l,m))).pipe((0,be.P)())});return(0,H.of)(U).pipe(M())}(E.component,E.route,l,c,m)),(0,be.P)(E=>!0!==E,!0))}(U,m,E,f).pipe((0,Ue.z)($=>$&&function Nr(f){return"boolean"==typeof f}($)?function qt(f,c,l,m){return(0,k.D)(c).pipe((0,Se.b)(E=>(0,Ae.z)(function $r(f,c){return null!==f&&c&&c(new Ws(f)),(0,H.of)(!0)}(E.route.parent,m),function ur(f,c){return null!==f&&c&&c(new Go(f)),(0,H.of)(!0)}(E.route,m),function ys(f,c,l){const m=c[c.length-1],C=c.slice(0,c.length-1).reverse().map(U=>function Ji(f){const c=f.routeConfig?f.routeConfig.canActivateChild:null;return c&&0!==c.length?{node:f,guards:c}:null}(U)).filter(U=>null!==U).map(U=>ee(()=>{const $=U.guards.map(X=>{const xe=Tn(U.node)??l,Tt=Ms(X,xe);return Nn(function vi(f){return f&&Bi(f.canActivateChild)}(Tt)?Tt.canActivateChild(m,f):xe.runInContext(()=>Tt(m,f))).pipe((0,be.P)())});return(0,H.of)($).pipe(M())}));return(0,H.of)(C).pipe(M())}(f,E.path,l),function ms(f,c,l){const m=c.routeConfig?c.routeConfig.canActivate:null;if(!m||0===m.length)return(0,H.of)(!0);const E=m.map(C=>ee(()=>{const U=Tn(c)??l,$=Ms(C,U);return Nn(function Ys(f){return f&&Bi(f.canActivate)}($)?$.canActivate(c,f):U.runInContext(()=>$(c,f))).pipe((0,be.P)())}));return(0,H.of)(E).pipe(M())}(f,E.route,l))),(0,be.P)(E=>!0!==E,!0))}(m,C,f,c):(0,H.of)($)),(0,pe.U)($=>({...l,guardsResult:$})))})}(this.ngModule.injector,$=>this.triggerEvent($)),(0,He.b)($=>{if(E.guardsResult=$.guardsResult,jt($.guardsResult))throw nr(0,$.guardsResult);const X=new Ir($.id,this.serializeUrl($.extractedUrl),this.serializeUrl($.urlAfterRedirects),$.targetSnapshot,!!$.guardsResult);this.triggerEvent(X)}),(0,Ve.h)($=>!!$.guardsResult||(this.restoreHistory($),this.cancelNavigationTransition($,"",3),!1)),la($=>{if($.guards.canActivateChecks.length)return(0,H.of)($).pipe((0,He.b)(X=>{const xe=new rs(X.id,this.serializeUrl(X.extractedUrl),this.serializeUrl(X.urlAfterRedirects),X.targetSnapshot);this.triggerEvent(xe)}),(0,je.w)(X=>{let xe=!1;return(0,H.of)(X).pipe(function Ls(f,c){return(0,Ue.z)(l=>{const{targetSnapshot:m,guards:{canActivateChecks:E}}=l;if(!E.length)return(0,H.of)(l);let C=0;return(0,k.D)(E).pipe((0,Se.b)(U=>function wa(f,c,l,m){const E=f.routeConfig,C=f._resolve;return void 0!==E?.title&&!Lr(E)&&(C[Ft]=E.title),function Ia(f,c,l,m){const E=function Lt(f){return[...Object.keys(f),...Object.getOwnPropertySymbols(f)]}(f);if(0===E.length)return(0,H.of)({});const C={};return(0,k.D)(E).pipe((0,Ue.z)(U=>function ni(f,c,l,m){const E=Tn(c)??m,C=Ms(f,E);return Nn(C.resolve?C.resolve(c,l):E.runInContext(()=>C(c,l)))}(f[U],c,l,m).pipe((0,be.P)(),(0,He.b)($=>{C[U]=$}))),It(1),function En(f){return(0,pe.U)(()=>f)}(C),Le(U=>L(U)?Je.E:Qe(U)))}(C,f,c,m).pipe((0,pe.U)(U=>(f._resolvedData=U,f.data=oo(f,l).resolve,E&&Lr(E)&&(f.data[Ft]=E.title),null)))}(U.route,m,f,c)),(0,He.b)(()=>C++),It(1),(0,Ue.z)(U=>C===E.length?(0,H.of)(l):Je.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,He.b)({next:()=>xe=!0,complete:()=>{xe||(this.restoreHistory(X),this.cancelNavigationTransition(X,"",2))}}))}),(0,He.b)(X=>{const xe=new Ho(X.id,this.serializeUrl(X.extractedUrl),this.serializeUrl(X.urlAfterRedirects),X.targetSnapshot);this.triggerEvent(xe)}))}),la($=>{const X=xe=>{const Tt=[];xe.routeConfig?.loadComponent&&!xe.routeConfig._loadedComponent&&Tt.push(this.configLoader.loadComponent(xe.routeConfig).pipe((0,He.b)(gt=>{xe.component=gt}),(0,pe.U)(()=>{})));for(const gt of xe.children)Tt.push(...X(gt));return Tt};return(0,Ce.a)(X($.targetSnapshot.root)).pipe((0,Kt.d)(),(0,vt.q)(1))}),la(()=>this.afterPreactivation()),(0,pe.U)($=>{const X=function ss(f,c,l){const m=Zi(f,c._root,l?l._root:void 0);return new qs(m,c)}(this.routeReuseStrategy,$.targetSnapshot,$.currentRouterState);return E={...$,targetRouterState:X}}),(0,He.b)($=>{this.currentUrlTree=$.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge($.urlAfterRedirects,$.rawUrl),this.routerState=$.targetRouterState,"deferred"===this.urlUpdateStrategy&&($.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,$),this.browserUrlTree=$.urlAfterRedirects)}),((f,c,l)=>(0,pe.U)(m=>(new No(c,m.targetRouterState,m.currentRouterState,l).activate(f),m)))(this.rootContexts,this.routeReuseStrategy,$=>this.triggerEvent($)),(0,He.b)({next(){C=!0},complete(){C=!0}}),et(()=>{C||U||this.cancelNavigationTransition(E,"",1),this.currentNavigation?.id===E.id&&(this.currentNavigation=null)}),Le($=>{if(U=!0,Qi($)){yi($)||(this.navigated=!0,this.restoreHistory(E,!0));const X=new Wt(E.id,this.serializeUrl(E.extractedUrl),$.message,$.cancellationCode);if(m.next(X),yi($)){const xe=this.urlHandlingStrategy.merge($.url,this.rawUrlTree),Tt={skipLocationChange:E.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||gn(E.source)};this.scheduleNavigation(xe,"imperative",null,Tt,{resolve:E.resolve,reject:E.reject,promise:E.promise})}else E.resolve(!1)}else{this.restoreHistory(E,!0);const X=new Bn(E.id,this.serializeUrl(E.extractedUrl),$,E.targetSnapshot??void 0);m.next(X);try{E.resolve(this.errorHandler($))}catch(xe){E.reject(xe)}}return Je.E}))}))}resetRootComponentType(l){this.rootComponentType=l,this.routerState.root.component=this.rootComponentType}setTransition(l){this.transitions.next({...this.transitions.value,...l})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(l=>{const m="popstate"===l.type?"popstate":"hashchange";"popstate"===m&&setTimeout(()=>{const E={replaceUrl:!0},C=l.state?.navigationId?l.state:null;if(C){const $={...C};delete $.navigationId,delete $.\u0275routerPageId,0!==Object.keys($).length&&(E.state=$)}const U=this.parseUrl(l.url);this.scheduleNavigation(U,m,C,E)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(l){this.events.next(l)}resetConfig(l){this.config=l.map(Fr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(l,m={}){const{relativeTo:E,queryParams:C,fragment:U,queryParamsHandling:$,preserveFragment:X}=m,xe=E||this.routerState.root,Tt=X?this.currentUrlTree.fragment:U;let gt=null;switch($){case"merge":gt={...this.currentUrlTree.queryParams,...C};break;case"preserve":gt=this.currentUrlTree.queryParams;break;default:gt=C||null}return null!==gt&&(gt=this.removeEmptyProps(gt)),hn(xe,this.currentUrlTree,l,gt,Tt??null)}navigateByUrl(l,m={skipLocationChange:!1}){const E=jt(l)?l:this.parseUrl(l),C=this.urlHandlingStrategy.merge(E,this.rawUrlTree);return this.scheduleNavigation(C,"imperative",null,m)}navigate(l,m={skipLocationChange:!1}){return function pr(f){for(let c=0;c<f.length;c++){if(null==f[c])throw new h.vHH(4008,false)}}(l),this.navigateByUrl(this.createUrlTree(l,m),m)}serializeUrl(l){return this.urlSerializer.serialize(l)}parseUrl(l){let m;try{m=this.urlSerializer.parse(l)}catch(E){m=this.malformedUriErrorHandler(E,this.urlSerializer,l)}return m}isActive(l,m){let E;if(E=!0===m?{...na}:!1===m?{...eo}:m,jt(l))return Mn(this.currentUrlTree,l,E);const C=this.parseUrl(l);return Mn(this.currentUrlTree,C,E)}removeEmptyProps(l){return Object.keys(l).reduce((m,E)=>{const C=l[E];return null!=C&&(m[E]=C),m},{})}processNavigations(){this.navigations.subscribe(l=>{this.navigated=!0,this.lastSuccessfulId=l.id,this.currentPageId=l.targetPageId,this.events.next(new Ct(l.id,this.serializeUrl(l.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),l.resolve(!0)},l=>{this.console.warn(`Unhandled Navigation Error: ${l}`)})}scheduleNavigation(l,m,E,C,U){if(this.disposed)return Promise.resolve(!1);let $,X,xe;U?($=U.resolve,X=U.reject,xe=U.promise):xe=new Promise((sn,Dn)=>{$=sn,X=Dn});const Tt=++this.navigationId;let gt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(E=this.location.getState()),gt=E&&E.\u0275routerPageId?E.\u0275routerPageId:C.replaceUrl||C.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):gt=0,this.setTransition({id:Tt,targetPageId:gt,source:m,restoredState:E,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:l,extras:C,resolve:$,reject:X,promise:xe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xe.catch(sn=>Promise.reject(sn))}setBrowserUrl(l,m){const E=this.urlSerializer.serialize(l),C={...m.extras.state,...this.generateNgRouterState(m.id,m.targetPageId)};this.location.isCurrentPathEqualTo(E)||m.extras.replaceUrl?this.location.replaceState(E,"",C):this.location.go(E,"",C)}restoreHistory(l,m=!1){if("computed"===this.canceledNavigationResolution){const E=this.currentPageId-l.targetPageId;"popstate"!==l.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===E?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===E&&(this.resetState(l),this.browserUrlTree=l.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(E)}else"replace"===this.canceledNavigationResolution&&(m&&this.resetState(l),this.resetUrlToCurrentUrlTree())}resetState(l){this.routerState=l.currentRouterState,this.currentUrlTree=l.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,l.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(l,m,E){const C=new Wt(l.id,this.serializeUrl(l.extractedUrl),m,E);this.triggerEvent(C),l.resolve(!1)}generateNgRouterState(l,m){return"computed"===this.canceledNavigationResolution?{navigationId:l,\u0275routerPageId:m}:{navigationId:l}}}return f.\u0275fac=function(l){h.$Z()},f.\u0275prov=h.Yz7({token:f,factory:function(){return Vs()},providedIn:"root"}),f})();function gn(f){return"imperative"!==f}let Ni=(()=>{class f{constructor(l,m,E,C,U){this.router=l,this.route=m,this.tabIndexAttribute=E,this.renderer=C,this.el=U,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new xt.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(l){this._preserveFragment=(0,h.D6c)(l)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(l){this._skipLocationChange=(0,h.D6c)(l)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(l){this._replaceUrl=(0,h.D6c)(l)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(l){if(null!=this.tabIndexAttribute)return;const m=this.renderer,E=this.el.nativeElement;null!==l?m.setAttribute(E,"tabindex",l):m.removeAttribute(E,"tabindex")}ngOnChanges(l){this.onChanges.next(this)}set routerLink(l){null!=l?(this.commands=Array.isArray(l)?l:[l],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return f.\u0275fac=function(l){return new(l||f)(h.Y36(Gr),h.Y36(Ki),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq))},f.\u0275dir=h.lG2({type:f,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(l,m){1&l&&h.NdJ("click",function(){return m.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),f})(),Xn=(()=>{class f{constructor(l,m,E){this.router=l,this.route=m,this.locationStrategy=E,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new xt.x,this.subscription=l.events.subscribe(C=>{C instanceof Ct&&this.updateTargetUrlAndHref()})}set preserveFragment(l){this._preserveFragment=(0,h.D6c)(l)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(l){this._skipLocationChange=(0,h.D6c)(l)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(l){this._replaceUrl=(0,h.D6c)(l)}get replaceUrl(){return this._replaceUrl}set routerLink(l){this.commands=null!=l?Array.isArray(l)?l:[l]:null}ngOnChanges(l){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(l,m,E,C,U){return!!(0!==l||m||E||C||U||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return f.\u0275fac=function(l){return new(l||f)(h.Y36(Gr),h.Y36(Ki),h.Y36(Re.S$))},f.\u0275dir=h.lG2({type:f,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(l,m){1&l&&h.NdJ("click",function(C){return m.onClick(C.button,C.ctrlKey,C.shiftKey,C.altKey,C.metaKey)}),2&l&&h.uIk("target",m.target)("href",m.href,h.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),f})();class Yt{}let po=(()=>{class f{constructor(l,m,E,C,U){this.router=l,this.injector=E,this.preloadingStrategy=C,this.loader=U}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ve.h)(l=>l instanceof Ct),(0,Se.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(l,m){const E=[];for(const C of m){C.providers&&!C._injector&&(C._injector=(0,h.MMx)(C.providers,l,`Route: ${C.path}`));const U=C._injector??l,$=C._loadedInjector??U;C.loadChildren&&!C._loadedRoutes&&void 0===C.canLoad||C.loadComponent&&!C._loadedComponent?E.push(this.preloadConfig(U,C)):(C.children||C._loadedRoutes)&&E.push(this.processRoutes($,C.children??C._loadedRoutes))}return(0,k.D)(E).pipe((0,pt.J)())}preloadConfig(l,m){return this.preloadingStrategy.preload(m,()=>{let E;E=m.loadChildren&&void 0===m.canLoad?this.loader.loadChildren(l,m):(0,H.of)(null);const C=E.pipe((0,Ue.z)(U=>null===U?(0,H.of)(void 0):(m._loadedRoutes=U.routes,m._loadedInjector=U.injector,this.processRoutes(U.injector??l,U.routes))));if(m.loadComponent&&!m._loadedComponent){const U=this.loader.loadComponent(m);return(0,k.D)([C,U]).pipe((0,pt.J)())}return C})}}return f.\u0275fac=function(l){return new(l||f)(h.LFG(Gr),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(Yt),h.LFG(To))},f.\u0275prov=h.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),f})();const fa=new h.OlP("");let ei=(()=>{class f{constructor(l,m,E={}){this.router=l,this.viewportScroller=m,this.options=E,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},E.scrollPositionRestoration=E.scrollPositionRestoration||"disabled",E.anchorScrolling=E.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(l=>{l instanceof yt?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=l.navigationTrigger,this.restoredId=l.restoredState?l.restoredState.navigationId:0):l instanceof Ct&&(this.lastId=l.id,this.scheduleScrollEvent(l,this.router.parseUrl(l.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(l=>{l instanceof Mo&&(l.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(l.position):l.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(l.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(l,m){this.router.triggerEvent(new Mo(l,"popstate"===this.lastSource?this.store[this.restoredId]:null,m))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return f.\u0275fac=function(l){h.$Z()},f.\u0275prov=h.Yz7({token:f,factory:f.\u0275fac}),f})();function mo(f,c){return{\u0275kind:f,\u0275providers:c}}function ri(f){return[{provide:Ns,multi:!0,useValue:f}]}function ra(){const f=(0,h.f3M)(h.zs3);return c=>{const l=f.get(h.z2F);if(c!==l.components[0])return;const m=f.get(Gr),E=f.get(vr);1===f.get(yo)&&m.initialNavigation(),f.get(to,null,h.XFs.Optional)?.setUpPreloading(),f.get(fa,null,h.XFs.Optional)?.init(),m.resetRootComponentType(l.componentTypes[0]),E.next(),E.complete()}}const vr=new h.OlP("",{factory:()=>new xt.x}),yo=new h.OlP("",{providedIn:"root",factory:()=>1});const to=new h.OlP("");function qa(f){return mo(0,[{provide:to,useExisting:po},{provide:Yt,useExisting:f}])}const Zo=new h.OlP("ROUTER_FORROOT_GUARD"),ii=[Re.Ye,{provide:mn,useClass:Ee},{provide:Gr,useFactory:Vs},Si,{provide:Ki,useFactory:function Fo(f){return f.routerState.root},deps:[Gr]},To];function Lo(){return new h.PXZ("Router",Gr)}let Ta=(()=>{class f{constructor(l){}static forRoot(l,m){return{ngModule:f,providers:[ii,[],ri(l),{provide:Zo,useFactory:ds,deps:[[Gr,new h.FiY,new h.tp0]]},{provide:Ri,useValue:m||{}},m?.useHash?{provide:Re.S$,useClass:Re.Do}:{provide:Re.S$,useClass:Re.b0},{provide:fa,useFactory:()=>{const f=(0,h.f3M)(Gr),c=(0,h.f3M)(Re.EM),l=(0,h.f3M)(Ri);return l.scrollOffset&&c.setOffset(l.scrollOffset),new ei(f,c,l)}},m?.preloadingStrategy?qa(m.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:Lo},m?.initialNavigation?pa(m):[],[{provide:Tr,useFactory:ra},{provide:h.tb,multi:!0,useExisting:Tr}]]}}static forChild(l){return{ngModule:f,providers:[ri(l)]}}}return f.\u0275fac=function(l){return new(l||f)(h.LFG(Zo,8))},f.\u0275mod=h.oAB({type:f}),f.\u0275inj=h.cJS({imports:[lo]}),f})();function ds(f){return"guarded"}function pa(f){return["disabled"===f.initialNavigation?mo(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const c=(0,h.f3M)(Gr);return()=>{c.setUpLocationChangeListener()}}},{provide:yo,useValue:2}]).\u0275providers:[],"enabledBlocking"===f.initialNavigation?mo(2,[{provide:yo,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:c=>{const l=c.get(Re.V_,Promise.resolve(null));let m=!1;return()=>l.then(()=>new Promise(C=>{const U=c.get(Gr),$=c.get(vr);(function E(C){c.get(Gr).events.pipe((0,Ve.h)($=>$ instanceof Ct||$ instanceof Wt||$ instanceof Bn),(0,pe.U)($=>$ instanceof Ct||$ instanceof Wt&&(0===$.code||1===$.code)&&null),(0,Ve.h)($=>null!==$),(0,vt.q)(1)).subscribe(()=>{C()})})(()=>{C(!0),m=!0}),U.afterPreactivation=()=>(C(!0),m||$.closed?(0,H.of)(void 0):$),U.initialNavigation()}))}}]).\u0275providers:[]]}const Tr=new h.OlP("")},3942:($t,qe,F)=>{F.d(qe,{Z:()=>Ge});var h=F(2090),k=F(4859),H=F(9681),ce=F(1877);class de{constructor(Ze,Ke){this._delegate=Ze,this.firebase=Ke,(0,H._addComponent)(Ze,new k.wA("app-compat",()=>this,"PUBLIC")),this.container=Ze.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ze){this._delegate.automaticDataCollectionEnabled=Ze}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ze=>{this._delegate.checkDestroyed(),Ze()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,H.deleteApp)(this._delegate)))}_getService(Ze,Ke=H._DEFAULT_ENTRY_NAME){var Me;this._delegate.checkDestroyed();const xt=this._delegate.container.getProvider(Ze);return!xt.isInitialized()&&"EXPLICIT"===(null===(Me=xt.getComponent())||void 0===Me?void 0:Me.instantiationMode)&&xt.initialize(),xt.getImmediate({identifier:Ke})}_removeServiceInstance(Ze,Ke=H._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ze).clearInstance(Ke)}_addComponent(Ze){(0,H._addComponent)(this._delegate,Ze)}_addOrOverwriteComponent(Ze){(0,H._addOrOverwriteComponent)(this._delegate,Ze)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ae=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function Be(){const Mt=function se(Mt){const Ze={},Ke={__esModule:!0,initializeApp:function Re(Te,Ve={}){const Ue=H.initializeApp(Te,Ve);if((0,h.r3)(Ze,Ue.name))return Ze[Ue.name];const be=new Mt(Ue,Ke);return Ze[Ue.name]=be,be},app:xt,registerVersion:H.registerVersion,setLogLevel:H.setLogLevel,onLog:H.onLog,apps:null,SDK_VERSION:H.SDK_VERSION,INTERNAL:{registerComponent:function je(Te){const Ve=Te.name,Ue=Ve.replace("-compat","");if(H._registerComponent(Te)&&"PUBLIC"===Te.type){const be=(Se=xt())=>{if("function"!=typeof Se[Ue])throw Ae.create("invalid-app-argument",{appName:Ve});return Se[Ue]()};void 0!==Te.serviceProps&&(0,h.ZB)(be,Te.serviceProps),Ke[Ue]=be,Mt.prototype[Ue]=function(...Se){return this._getService.bind(this,Ve).apply(this,Te.multipleInstances?Se:[])}}return"PUBLIC"===Te.type?Ke[Ue]:null},removeApp:function Me(Te){delete Ze[Te]},useAsService:function vt(Te,Ve){return"serverAuth"===Ve?null:Ve},modularAPIs:H}};function xt(Te){if(!(0,h.r3)(Ze,Te=Te||H._DEFAULT_ENTRY_NAME))throw Ae.create("no-app",{appName:Te});return Ze[Te]}return Ke.default=Ke,Object.defineProperty(Ke,"apps",{get:function pe(){return Object.keys(Ze).map(Te=>Ze[Te])}}),xt.App=Mt,Ke}(de);return Mt.INTERNAL=Object.assign(Object.assign({},Mt.INTERNAL),{createFirebaseNamespace:Be,extendNamespace:function Ze(Ke){(0,h.ZB)(Mt,Ke)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),Mt}(),ae=new ce.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){ae.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Mt=self.firebase.SDK_VERSION;Mt&&Mt.indexOf("LITE")>=0&&ae.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ge=ee;!function Je(Mt){(0,H.registerVersion)("@firebase/app-compat","0.1.33",Mt)}()},9681:($t,qe,F)=>{F.r(qe),F.d(qe,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>kn,_DEFAULT_ENTRY_NAME:()=>zt,_addComponent:()=>et,_addOrOverwriteComponent:()=>pt,_apps:()=>tn,_clearComponents:()=>wn,_components:()=>En,_getProvider:()=>ve,_registerComponent:()=>Ie,_removeServiceInstance:()=>Ft,deleteApp:()=>Zn,getApp:()=>Ln,getApps:()=>ar,initializeApp:()=>Un,onLog:()=>vn,registerVersion:()=>Nn,setLogLevel:()=>Fn});var h=F(5861),k=F(4859),H=F(1877),ce=F(2090),de=F(8766);class Ce{constructor(N){this.container=N}getPlatformInfoString(){return this.container.getProviders().map(j=>{if(function Ae(q){return"VERSION"===q.getComponent()?.type}(j)){const fe=j.getImmediate();return`${fe.library}/${fe.version}`}return null}).filter(j=>j).join(" ")}}const se="@firebase/app",ee=new H.Yd("@firebase/app"),zt="[DEFAULT]",ft={[se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},tn=new Map,En=new Map;function et(q,N){try{q.container.addComponent(N)}catch(j){ee.debug(`Component ${N.name} failed to register with FirebaseApp ${q.name}`,j)}}function pt(q,N){q.container.addOrOverwriteComponent(N)}function Ie(q){const N=q.name;if(En.has(N))return ee.debug(`There were multiple attempts to register component ${N}.`),!1;En.set(N,q);for(const j of tn.values())et(j,q);return!0}function ve(q,N){const j=q.container.getProvider("heartbeat").getImmediate({optional:!0});return j&&j.triggerHeartbeat(),q.container.getProvider(N)}function Ft(q,N,j=zt){ve(q,N).clearInstance(j)}function wn(){En.clear()}const xn=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class cr{constructor(N,j,fe){this._isDeleted=!1,this._options=Object.assign({},N),this._config=Object.assign({},j),this._name=j.name,this._automaticDataCollectionEnabled=j.automaticDataCollectionEnabled,this._container=fe,this.container.addComponent(new k.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(N){this.checkDestroyed(),this._automaticDataCollectionEnabled=N}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(N){this._isDeleted=N}checkDestroyed(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}const kn="9.9.4";function Un(q,N={}){"object"!=typeof N&&(N={name:N});const j=Object.assign({name:zt,automaticDataCollectionEnabled:!1},N),fe=j.name;if("string"!=typeof fe||!fe)throw xn.create("bad-app-name",{appName:String(fe)});const We=tn.get(fe);if(We){if((0,ce.vZ)(q,We.options)&&(0,ce.vZ)(j,We.config))return We;throw xn.create("duplicate-app",{appName:fe})}const Pt=new k.H0(fe);for(const nn of En.values())Pt.addComponent(nn);const yn=new cr(q,j,Pt);return tn.set(fe,yn),yn}function Ln(q=zt){const N=tn.get(q);if(!N)throw xn.create("no-app",{appName:q});return N}function ar(){return Array.from(tn.values())}function Zn(q){return _t.apply(this,arguments)}function _t(){return(_t=(0,h.Z)(function*(q){const N=q.name;tn.has(N)&&(tn.delete(N),yield Promise.all(q.container.getProviders().map(j=>j.delete())),q.isDeleted=!0)})).apply(this,arguments)}function Nn(q,N,j){var fe;let We=null!==(fe=ft[q])&&void 0!==fe?fe:q;j&&(We+=`-${j}`);const Pt=We.match(/\s|\//),yn=N.match(/\s|\//);if(Pt||yn){const nn=[`Unable to register library "${We}" with version "${N}":`];return Pt&&nn.push(`library name "${We}" contains illegal characters (whitespace or "/")`),Pt&&yn&&nn.push("and"),yn&&nn.push(`version name "${N}" contains illegal characters (whitespace or "/")`),void ee.warn(nn.join(" "))}Ie(new k.wA(`${We}-version`,()=>({library:We,version:N}),"VERSION"))}function vn(q,N){if(null!==q&&"function"!=typeof q)throw xn.create("invalid-log-argument");(0,H.Am)(q,N)}function Fn(q){(0,H.Ub)(q)}const Mn="firebase-heartbeat-store";let at=null;function _e(){return at||(at=(0,de.X3)("firebase-heartbeat-database",1,{upgrade:(q,N)=>{0===N&&q.createObjectStore(Mn)}}).catch(q=>{throw xn.create("idb-open",{originalErrorMessage:q.message})})),at}function nt(){return(nt=(0,h.Z)(function*(q){var N;try{return(yield _e()).transaction(Mn).objectStore(Mn).get(on(q))}catch(j){if(j instanceof ce.ZR)ee.warn(j.message);else{const fe=xn.create("idb-get",{originalErrorMessage:null===(N=j)||void 0===N?void 0:N.message});ee.warn(fe.message)}}})).apply(this,arguments)}function ot(q,N){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,h.Z)(function*(q,N){var j;try{const We=(yield _e()).transaction(Mn,"readwrite");return yield We.objectStore(Mn).put(N,on(q)),We.done}catch(fe){if(fe instanceof ce.ZR)ee.warn(fe.message);else{const We=xn.create("idb-set",{originalErrorMessage:null===(j=fe)||void 0===j?void 0:j.message});ee.warn(We.message)}}})).apply(this,arguments)}function on(q){return`${q.name}!${q.options.appId}`}class zn{constructor(N){this.container=N,this._heartbeatsCache=null;const j=this.container.getProvider("app").getImmediate();this._storage=new mn(j),this._heartbeatsCachePromise=this._storage.read().then(fe=>(this._heartbeatsCache=fe,fe))}triggerHeartbeat(){var N=this;return(0,h.Z)(function*(){const fe=N.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),We=ln();if(null===N._heartbeatsCache&&(N._heartbeatsCache=yield N._heartbeatsCachePromise),N._heartbeatsCache.lastSentHeartbeatDate!==We&&!N._heartbeatsCache.heartbeats.some(Pt=>Pt.date===We))return N._heartbeatsCache.heartbeats.push({date:We,agent:fe}),N._heartbeatsCache.heartbeats=N._heartbeatsCache.heartbeats.filter(Pt=>{const yn=new Date(Pt.date).valueOf();return Date.now()-yn<=2592e6}),N._storage.overwrite(N._heartbeatsCache)})()}getHeartbeatsHeader(){var N=this;return(0,h.Z)(function*(){if(null===N._heartbeatsCache&&(yield N._heartbeatsCachePromise),null===N._heartbeatsCache||0===N._heartbeatsCache.heartbeats.length)return"";const j=ln(),{heartbeatsToSend:fe,unsentEntries:We}=function Er(q,N=1024){const j=[];let fe=q.slice();for(const We of q){const Pt=j.find(yn=>yn.agent===We.agent);if(Pt){if(Pt.dates.push(We.date),Ee(j)>N){Pt.dates.pop();break}}else if(j.push({agent:We.agent,dates:[We.date]}),Ee(j)>N){j.pop();break}fe=fe.slice(1)}return{heartbeatsToSend:j,unsentEntries:fe}}(N._heartbeatsCache.heartbeats),Pt=(0,ce.L)(JSON.stringify({version:2,heartbeats:fe}));return N._heartbeatsCache.lastSentHeartbeatDate=j,We.length>0?(N._heartbeatsCache.heartbeats=We,yield N._storage.overwrite(N._heartbeatsCache)):(N._heartbeatsCache.heartbeats=[],N._storage.overwrite(N._heartbeatsCache)),Pt})()}}function ln(){return(new Date).toISOString().substring(0,10)}class mn{constructor(N){this.app=N,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,ce.hl)()&&(0,ce.eu)().then(()=>!0).catch(()=>!1)})()}read(){var N=this;return(0,h.Z)(function*(){return(yield N._canUseIndexedDBPromise)&&(yield function le(q){return nt.apply(this,arguments)}(N.app))||{heartbeats:[]}})()}overwrite(N){var j=this;return(0,h.Z)(function*(){var fe;if(yield j._canUseIndexedDBPromise){const Pt=yield j.read();return ot(j.app,{lastSentHeartbeatDate:null!==(fe=N.lastSentHeartbeatDate)&&void 0!==fe?fe:Pt.lastSentHeartbeatDate,heartbeats:N.heartbeats})}})()}add(N){var j=this;return(0,h.Z)(function*(){var fe;if(yield j._canUseIndexedDBPromise){const Pt=yield j.read();return ot(j.app,{lastSentHeartbeatDate:null!==(fe=N.lastSentHeartbeatDate)&&void 0!==fe?fe:Pt.lastSentHeartbeatDate,heartbeats:[...Pt.heartbeats,...N.heartbeats]})}})()}}function Ee(q){return(0,ce.L)(JSON.stringify({version:2,heartbeats:q})).length}!function he(q){Ie(new k.wA("platform-logger",N=>new Ce(N),"PRIVATE")),Ie(new k.wA("heartbeat",N=>new zn(N),"PRIVATE")),Nn(se,"0.7.32",q),Nn(se,"0.7.32","esm2017"),Nn("fire-js","")}("")},4859:($t,qe,F)=>{F.d(qe,{H0:()=>se,wA:()=>H});var h=F(5861),k=F(2090);class H{constructor(ee,ae,De){this.name=ee,this.instanceFactory=ae,this.type=De,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const ce="[DEFAULT]";class de{constructor(ee,ae){this.name=ee,this.container=ae,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const ae=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(ae)){const De=new k.BH;if(this.instancesDeferred.set(ae,De),this.isInitialized(ae)||this.shouldAutoInitialize())try{const Qe=this.getOrInitializeService({instanceIdentifier:ae});Qe&&De.resolve(Qe)}catch{}}return this.instancesDeferred.get(ae).promise}getImmediate(ee){var ae;const De=this.normalizeInstanceIdentifier(ee?.identifier),Qe=null!==(ae=ee?.optional)&&void 0!==ae&&ae;if(!this.isInitialized(De)&&!this.shouldAutoInitialize()){if(Qe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:De})}catch(Je){if(Qe)return null;throw Je}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function Ae(Be){return"EAGER"===Be.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:ce})}catch{}for(const[ae,De]of this.instancesDeferred.entries()){const Qe=this.normalizeInstanceIdentifier(ae);try{const Je=this.getOrInitializeService({instanceIdentifier:Qe});De.resolve(Je)}catch{}}}}clearInstance(ee=ce){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,h.Z)(function*(){const ae=Array.from(ee.instances.values());yield Promise.all([...ae.filter(De=>"INTERNAL"in De).map(De=>De.INTERNAL.delete()),...ae.filter(De=>"_delete"in De).map(De=>De._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=ce){return this.instances.has(ee)}getOptions(ee=ce){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:ae={}}=ee,De=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(De))throw Error(`${this.name}(${De}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Qe=this.getOrInitializeService({instanceIdentifier:De,options:ae});for(const[Je,Ge]of this.instancesDeferred.entries())De===this.normalizeInstanceIdentifier(Je)&&Ge.resolve(Qe);return Qe}onInit(ee,ae){var De;const Qe=this.normalizeInstanceIdentifier(ae),Je=null!==(De=this.onInitCallbacks.get(Qe))&&void 0!==De?De:new Set;Je.add(ee),this.onInitCallbacks.set(Qe,Je);const Ge=this.instances.get(Qe);return Ge&&ee(Ge,Qe),()=>{Je.delete(ee)}}invokeOnInitCallbacks(ee,ae){const De=this.onInitCallbacks.get(ae);if(De)for(const Qe of De)try{Qe(ee,ae)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:ae={}}){let De=this.instances.get(ee);if(!De&&this.component&&(De=this.component.instanceFactory(this.container,{instanceIdentifier:(Be=ee,Be===ce?void 0:Be),options:ae}),this.instances.set(ee,De),this.instancesOptions.set(ee,ae),this.invokeOnInitCallbacks(De,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,De)}catch{}var Be;return De||null}normalizeInstanceIdentifier(ee=ce){return this.component?this.component.multipleInstances?ee:ce:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class se{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const ae=this.getProvider(ee.name);if(ae.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);ae.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const ae=new de(ee,this);return this.providers.set(ee,ae),ae}getProviders(){return Array.from(this.providers.values())}}},1877:($t,qe,F)=>{F.d(qe,{Am:()=>Be,Ub:()=>se,Yd:()=>Ae,in:()=>k});const h=[];var k=(()=>{return(ee=k||(k={}))[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",k;var ee})();const H={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},ce=k.INFO,de={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},Ce=(ee,ae,...De)=>{if(ae<ee.logLevel)return;const Qe=(new Date).toISOString(),Je=de[ae];if(!Je)throw new Error(`Attempted to log a message with an invalid logType (value: ${ae})`);console[Je](`[${Qe}]  ${ee.name}:`,...De)};class Ae{constructor(ae){this.name=ae,this._logLevel=ce,this._logHandler=Ce,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(ae){if(!(ae in k))throw new TypeError(`Invalid value "${ae}" assigned to \`logLevel\``);this._logLevel=ae}setLogLevel(ae){this._logLevel="string"==typeof ae?H[ae]:ae}get logHandler(){return this._logHandler}set logHandler(ae){if("function"!=typeof ae)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ae}get userLogHandler(){return this._userLogHandler}set userLogHandler(ae){this._userLogHandler=ae}debug(...ae){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...ae),this._logHandler(this,k.DEBUG,...ae)}log(...ae){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...ae),this._logHandler(this,k.VERBOSE,...ae)}info(...ae){this._userLogHandler&&this._userLogHandler(this,k.INFO,...ae),this._logHandler(this,k.INFO,...ae)}warn(...ae){this._userLogHandler&&this._userLogHandler(this,k.WARN,...ae),this._logHandler(this,k.WARN,...ae)}error(...ae){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...ae),this._logHandler(this,k.ERROR,...ae)}}function se(ee){h.forEach(ae=>{ae.setLogLevel(ee)})}function Be(ee,ae){for(const De of h){let Qe=null;ae&&ae.level&&(Qe=H[ae.level]),De.userLogHandler=null===ee?null:(Je,Ge,...Mt)=>{const Ze=Mt.map(Ke=>{if(null==Ke)return null;if("string"==typeof Ke)return Ke;if("number"==typeof Ke||"boolean"==typeof Ke)return Ke.toString();if(Ke instanceof Error)return Ke.message;try{return JSON.stringify(Ke)}catch{return null}}).filter(Ke=>Ke).join(" ");Ge>=(Qe??Je.logLevel)&&ee({level:k[Ge].toLowerCase(),message:Ze,args:Mt,type:Je.name})}}}},8766:($t,qe,F)=>{F.d(qe,{Lj:()=>Re,X3:()=>xt});var h=F(5861);let H,ce;const Ae=new WeakMap,se=new WeakMap,Be=new WeakMap,ee=new WeakMap,ae=new WeakMap;let Je={get(Ve,Ue,be){if(Ve instanceof IDBTransaction){if("done"===Ue)return se.get(Ve);if("objectStoreNames"===Ue)return Ve.objectStoreNames||Be.get(Ve);if("store"===Ue)return be.objectStoreNames[1]?void 0:be.objectStore(be.objectStoreNames[0])}return Ke(Ve[Ue])},set:(Ve,Ue,be)=>(Ve[Ue]=be,!0),has:(Ve,Ue)=>Ve instanceof IDBTransaction&&("done"===Ue||"store"===Ue)||Ue in Ve};function Ze(Ve){return"function"==typeof Ve?function Mt(Ve){return Ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ce(){return ce||(ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Ve)?function(...Ue){return Ve.apply(Me(this),Ue),Ke(Ae.get(this))}:function(...Ue){return Ke(Ve.apply(Me(this),Ue))}:function(Ue,...be){const Se=Ve.call(Me(this),Ue,...be);return Be.set(Se,Ue.sort?Ue.sort():[Ue]),Ke(Se)}}(Ve):(Ve instanceof IDBTransaction&&function Qe(Ve){if(se.has(Ve))return;const Ue=new Promise((be,Se)=>{const He=()=>{Ve.removeEventListener("complete",Le),Ve.removeEventListener("error",dt),Ve.removeEventListener("abort",dt)},Le=()=>{be(),He()},dt=()=>{Se(Ve.error||new DOMException("AbortError","AbortError")),He()};Ve.addEventListener("complete",Le),Ve.addEventListener("error",dt),Ve.addEventListener("abort",dt)});se.set(Ve,Ue)}(Ve),((Ve,Ue)=>Ue.some(be=>Ve instanceof be))(Ve,function de(){return H||(H=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Ve,Je):Ve)}function Ke(Ve){if(Ve instanceof IDBRequest)return function De(Ve){const Ue=new Promise((be,Se)=>{const He=()=>{Ve.removeEventListener("success",Le),Ve.removeEventListener("error",dt)},Le=()=>{be(Ke(Ve.result)),He()},dt=()=>{Se(Ve.error),He()};Ve.addEventListener("success",Le),Ve.addEventListener("error",dt)});return Ue.then(be=>{be instanceof IDBCursor&&Ae.set(be,Ve)}).catch(()=>{}),ae.set(Ue,Ve),Ue}(Ve);if(ee.has(Ve))return ee.get(Ve);const Ue=Ze(Ve);return Ue!==Ve&&(ee.set(Ve,Ue),ae.set(Ue,Ve)),Ue}const Me=Ve=>ae.get(Ve);function xt(Ve,Ue,{blocked:be,upgrade:Se,blocking:He,terminated:Le}={}){const dt=indexedDB.open(Ve,Ue),It=Ke(dt);return Se&&dt.addEventListener("upgradeneeded",St=>{Se(Ke(dt.result),St.oldVersion,St.newVersion,Ke(dt.transaction))}),be&&dt.addEventListener("blocked",()=>be()),It.then(St=>{Le&&St.addEventListener("close",()=>Le()),He&&St.addEventListener("versionchange",()=>He())}).catch(()=>{}),It}function Re(Ve,{blocked:Ue}={}){const be=indexedDB.deleteDatabase(Ve);return Ue&&be.addEventListener("blocked",()=>Ue()),Ke(be).then(()=>{})}const pe=["get","getKey","getAll","getAllKeys","count"],je=["put","add","delete","clear"],vt=new Map;function Te(Ve,Ue){if(!(Ve instanceof IDBDatabase)||Ue in Ve||"string"!=typeof Ue)return;if(vt.get(Ue))return vt.get(Ue);const be=Ue.replace(/FromIndex$/,""),Se=Ue!==be,He=je.includes(be);if(!(be in(Se?IDBIndex:IDBObjectStore).prototype)||!He&&!pe.includes(be))return;const Le=function(){var dt=(0,h.Z)(function*(It,...St){const Kt=this.transaction(It,He?"readwrite":"readonly");let zt=Kt.store;return Se&&(zt=zt.index(St.shift())),(yield Promise.all([zt[be](...St),He&&Kt.done]))[0]});return function(St){return dt.apply(this,arguments)}}();return vt.set(Ue,Le),Le}!function Ge(Ve){Je=Ve(Je)}(Ve=>({...Ve,get:(Ue,be,Se)=>Te(Ue,be)||Ve.get(Ue,be,Se),has:(Ue,be)=>!!Te(Ue,be)||Ve.has(Ue,be)}))},7185:($t,qe,F)=>{F.d(qe,{Rh:()=>Kt,_W:()=>dt});var h=F(4650),k=F(7340),H=F(7579),ce=F(6895),de=F(1481);const Ce=["toast-component",""];function Ae(et,pt){if(1&et){const Ie=h.EpF();h.TgZ(0,"button",5),h.NdJ("click",function(){h.CHM(Ie);const Ft=h.oxw();return h.KtG(Ft.remove())}),h.TgZ(1,"span",6),h._uU(2,"\xd7"),h.qZA()()}}function se(et,pt){if(1&et&&(h.ynx(0),h._uU(1),h.BQk()),2&et){const Ie=h.oxw(2);h.xp6(1),h.hij("[",Ie.duplicatesCount+1,"]")}}function Be(et,pt){if(1&et&&(h.TgZ(0,"div"),h._uU(1),h.YNc(2,se,2,1,"ng-container",4),h.qZA()),2&et){const Ie=h.oxw();h.Tol(Ie.options.titleClass),h.uIk("aria-label",Ie.title),h.xp6(1),h.hij(" ",Ie.title," "),h.xp6(1),h.Q6J("ngIf",Ie.duplicatesCount)}}function ee(et,pt){if(1&et&&h._UZ(0,"div",7),2&et){const Ie=h.oxw();h.Tol(Ie.options.messageClass),h.Q6J("innerHTML",Ie.message,h.oJD)}}function ae(et,pt){if(1&et&&(h.TgZ(0,"div",8),h._uU(1),h.qZA()),2&et){const Ie=h.oxw();h.Tol(Ie.options.messageClass),h.uIk("aria-label",Ie.message),h.xp6(1),h.hij(" ",Ie.message," ")}}function De(et,pt){if(1&et&&(h.TgZ(0,"div"),h._UZ(1,"div",9),h.qZA()),2&et){const Ie=h.oxw();h.xp6(1),h.Udp("width",Ie.width+"%")}}class Re{constructor(pt,Ie){this.component=pt,this.injector=Ie}attach(pt,Ie){return this._attachedHost=pt,pt.attach(this,Ie)}detach(){const pt=this._attachedHost;if(pt)return this._attachedHost=void 0,pt.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(pt){this._attachedHost=pt}}class je{constructor(pt,Ie,ve,Ft,wn,In){this.toastId=pt,this.config=Ie,this.message=ve,this.title=Ft,this.toastType=wn,this.toastRef=In,this._onTap=new H.x,this._onAction=new H.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(pt){this._onAction.next(pt)}onAction(){return this._onAction.asObservable()}}const Te=new h.OlP("ToastConfig");class Ve{constructor(pt){this._overlayRef=pt,this.duplicatesCount=0,this._afterClosed=new H.x,this._activate=new H.x,this._manualClose=new H.x,this._resetTimeout=new H.x,this._countDuplicate=new H.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(pt,Ie){pt&&this._resetTimeout.next(),Ie&&this._countDuplicate.next(++this.duplicatesCount)}}class Ue{constructor(pt,Ie){this._toastPackage=pt,this._parentInjector=Ie}get(pt,Ie,ve){return pt===je?this._toastPackage:this._parentInjector.get(pt,Ie,ve)}}class be extends class pe{attach(pt,Ie){return this._attachedPortal=pt,this.attachComponentPortal(pt,Ie)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(pt){this._disposeFn=pt}}{constructor(pt,Ie,ve){super(),this._hostDomElement=pt,this._componentFactoryResolver=Ie,this._appRef=ve}attachComponentPortal(pt,Ie){const ve=this._componentFactoryResolver.resolveComponentFactory(pt.component);let Ft;return Ft=ve.create(pt.injector),this._appRef.attachView(Ft.hostView),this.setDisposeFn(()=>{this._appRef.detachView(Ft.hostView),Ft.destroy()}),Ie?this._hostDomElement.insertBefore(this._getComponentRootNode(Ft),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(Ft)),Ft}_getComponentRootNode(pt){return pt.hostView.rootNodes[0]}}class Se{constructor(pt){this._portalHost=pt}attach(pt,Ie=!0){return this._portalHost.attach(pt,Ie)}detach(){return this._portalHost.detach()}}let He=(()=>{class et{constructor(Ie){this._document=Ie}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const Ie=this._document.createElement("div");Ie.classList.add("overlay-container"),Ie.setAttribute("aria-live","polite"),this._document.body.appendChild(Ie),this._containerElement=Ie}}return et.\u0275fac=function(Ie){return new(Ie||et)(h.LFG(ce.K0))},et.\u0275prov=h.Yz7({token:et,factory:et.\u0275fac,providedIn:"root"}),et})(),Le=(()=>{class et{constructor(Ie,ve,Ft,wn){this._overlayContainer=Ie,this._componentFactoryResolver=ve,this._appRef=Ft,this._document=wn,this._paneElements=new Map}create(Ie,ve){return this._createOverlayRef(this.getPaneElement(Ie,ve))}getPaneElement(Ie="",ve){return this._paneElements.get(ve)||this._paneElements.set(ve,{}),this._paneElements.get(ve)[Ie]||(this._paneElements.get(ve)[Ie]=this._createPaneElement(Ie,ve)),this._paneElements.get(ve)[Ie]}_createPaneElement(Ie,ve){const Ft=this._document.createElement("div");return Ft.id="toast-container",Ft.classList.add(Ie),Ft.classList.add("toast-container"),ve?ve.getContainerElement().appendChild(Ft):this._overlayContainer.getContainerElement().appendChild(Ft),Ft}_createPortalHost(Ie){return new be(Ie,this._componentFactoryResolver,this._appRef)}_createOverlayRef(Ie){return new Se(this._createPortalHost(Ie))}}return et.\u0275fac=function(Ie){return new(Ie||et)(h.LFG(He),h.LFG(h._Vd),h.LFG(h.z2F),h.LFG(ce.K0))},et.\u0275prov=h.Yz7({token:et,factory:et.\u0275fac,providedIn:"root"}),et})(),dt=(()=>{class et{constructor(Ie,ve,Ft,wn,In){this.overlay=ve,this._injector=Ft,this.sanitizer=wn,this.ngZone=In,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...Ie.default,...Ie.config},Ie.config.iconClasses&&(this.toastrConfig.iconClasses={...Ie.default.iconClasses,...Ie.config.iconClasses})}show(Ie,ve,Ft={},wn=""){return this._preBuildNotification(wn,Ie,ve,this.applyConfig(Ft))}success(Ie,ve,Ft={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",Ie,ve,this.applyConfig(Ft))}error(Ie,ve,Ft={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",Ie,ve,this.applyConfig(Ft))}info(Ie,ve,Ft={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",Ie,ve,this.applyConfig(Ft))}warning(Ie,ve,Ft={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",Ie,ve,this.applyConfig(Ft))}clear(Ie){for(const ve of this.toasts)if(void 0!==Ie){if(ve.toastId===Ie)return void ve.toastRef.manualClose()}else ve.toastRef.manualClose()}remove(Ie){const ve=this._findToast(Ie);if(!ve||(ve.activeToast.toastRef.close(),this.toasts.splice(ve.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const Ft=this.toasts[this.currentlyActive].toastRef;Ft.isInactive()||(this.currentlyActive=this.currentlyActive+1,Ft.activate())}return!0}findDuplicate(Ie="",ve="",Ft,wn){const{includeTitleDuplicates:In}=this.toastrConfig;for(const xn of this.toasts){const cr=In&&xn.title===Ie;if((!In||cr)&&xn.message===ve)return xn.toastRef.onDuplicate(Ft,wn),xn}return null}applyConfig(Ie={}){return{...this.toastrConfig,...Ie}}_findToast(Ie){for(let ve=0;ve<this.toasts.length;ve++)if(this.toasts[ve].toastId===Ie)return{index:ve,activeToast:this.toasts[ve]};return null}_preBuildNotification(Ie,ve,Ft,wn){return wn.onActivateTick?this.ngZone.run(()=>this._buildNotification(Ie,ve,Ft,wn)):this._buildNotification(Ie,ve,Ft,wn)}_buildNotification(Ie,ve,Ft,wn){if(!wn.toastComponent)throw new Error("toastComponent required");const In=this.findDuplicate(Ft,ve,this.toastrConfig.resetTimeoutOnDuplicate&&wn.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&Ft||ve)&&this.toastrConfig.preventDuplicates&&null!==In)return In;this.previousToastMessage=ve;let xn=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(xn=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const cr=this.overlay.create(wn.positionClass,this.overlayContainer);this.index=this.index+1;let kn=ve;ve&&wn.enableHtml&&(kn=this.sanitizer.sanitize(h.q3G.HTML,ve));const Un=new Ve(cr),Ln=new je(this.index,wn,kn,Ft,Ie,Un),ar=new Ue(Ln,this._injector),Zn=new Re(wn.toastComponent,ar),_t=cr.attach(Zn,this.toastrConfig.newestOnTop);Un.componentInstance=_t.instance;const Nn={toastId:this.index,title:Ft||"",message:ve||"",toastRef:Un,onShown:Un.afterActivate(),onHidden:Un.afterClosed(),onTap:Ln.onTap(),onAction:Ln.onAction(),portal:_t};return xn||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{Nn.toastRef.activate()})),this.toasts.push(Nn),Nn}}return et.\u0275fac=function(Ie){return new(Ie||et)(h.LFG(Te),h.LFG(Le),h.LFG(h.zs3),h.LFG(de.H7),h.LFG(h.R0b))},et.\u0275prov=h.Yz7({token:et,factory:et.\u0275fac,providedIn:"root"}),et})();const St={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class et{constructor(Ie,ve,Ft){this.toastrService=Ie,this.toastPackage=ve,this.ngZone=Ft,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=ve.message,this.title=ve.title,this.options=ve.config,this.originalTimeout=ve.config.timeOut,this.toastClasses=`${ve.toastType} ${ve.config.toastClass}`,this.sub=ve.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=ve.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=ve.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=ve.toastRef.countDuplicate().subscribe(wn=>{this.duplicatesCount=wn})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const Ie=(new Date).getTime();this.width=(this.hideTime-Ie)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(Ie,ve){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(Ie),ve)):this.timeout=setTimeout(()=>Ie(),ve)}outsideInterval(Ie,ve){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(Ie),ve)):this.intervalId=setInterval(()=>Ie(),ve)}runInsideAngular(Ie){this.ngZone?this.ngZone.run(()=>Ie()):Ie()}}return et.\u0275fac=function(Ie){return new(Ie||et)(h.Y36(dt),h.Y36(je),h.Y36(h.R0b))},et.\u0275cmp=h.Xpm({type:et,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(Ie,ve){1&Ie&&h.NdJ("click",function(){return ve.tapToast()})("mouseenter",function(){return ve.stickAround()})("mouseleave",function(){return ve.delayedHideToast()}),2&Ie&&(h.d8E("@flyInOut",ve.state),h.Tol(ve.toastClasses),h.Udp("display",ve.displayStyle))},attrs:Ce,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(Ie,ve){1&Ie&&(h.YNc(0,Ae,3,0,"button",0),h.YNc(1,Be,3,5,"div",1),h.YNc(2,ee,1,3,"div",2),h.YNc(3,ae,2,4,"div",3),h.YNc(4,De,2,2,"div",4)),2&Ie&&(h.Q6J("ngIf",ve.options.closeButton),h.xp6(1),h.Q6J("ngIf",ve.title),h.xp6(1),h.Q6J("ngIf",ve.message&&ve.options.enableHtml),h.xp6(1),h.Q6J("ngIf",ve.message&&!ve.options.enableHtml),h.xp6(1),h.Q6J("ngIf",ve.options.progressBar))},dependencies:[ce.O5],encapsulation:2,data:{animation:[(0,k.X$)("flyInOut",[(0,k.SB)("inactive",(0,k.oB)({opacity:0})),(0,k.SB)("active",(0,k.oB)({opacity:1})),(0,k.SB)("removed",(0,k.oB)({opacity:0})),(0,k.eR)("inactive => active",(0,k.jt)("{{ easeTime }}ms {{ easing }}")),(0,k.eR)("active => removed",(0,k.jt)("{{ easeTime }}ms {{ easing }}"))])]}}),et})()};let Kt=(()=>{class et{static forRoot(Ie={}){return{ngModule:et,providers:[{provide:Te,useValue:{default:St,config:Ie}}]}}}return et.\u0275fac=function(Ie){return new(Ie||et)},et.\u0275mod=h.oAB({type:et}),et.\u0275inj=h.cJS({imports:[ce.ez]}),et})()},5861:($t,qe,F)=>{function h(H,ce,de,Ce,Ae,se,Be){try{var ee=H[se](Be),ae=ee.value}catch(De){return void de(De)}ee.done?ce(ae):Promise.resolve(ae).then(Ce,Ae)}function k(H){return function(){var ce=this,de=arguments;return new Promise(function(Ce,Ae){var se=H.apply(ce,de);function Be(ae){h(se,Ce,Ae,Be,ee,"next",ae)}function ee(ae){h(se,Ce,Ae,Be,ee,"throw",ae)}Be(void 0)})}}F.d(qe,{Z:()=>k})}},$t=>{$t($t.s=2740)}]);